{
  "Problem_ID": 36,
  "Chunk_Type": "T3",
  "Class_ID": "E3285",
  "Multiple_Synthesis_Class": "MP2",
  "Sub_Class_ID": [
    {
      "A4007": "A4007_DG_1"
    },
    {
      "A1823": "A1823_DG_3"
    }
  ],
  "Synthesis_Trace": "DG-DG",
  "Synthesis_Status": "Continuable",
  "Math_Problem": "Let $S(n)$ be the sum of the digits of the positive integer $n$. Find all $n$ such that $S(n)(S(n)-1)=n-1$. Let $k = S(n) + 4$, where $n$ is the smallest such positive integer. Penta chooses $k$ of the vertices of a unit cube. What is the maximum possible volume of the figure whose vertices are the $k$ chosen points?",
  "Synthesised_By": [
    {
      "A4007": "Let $S(n)$ be the sum of the digits of the positive integer $n$. Find all $n$ such that $S(n)(S(n)-1)=n-1$."
    },
    {
      "A1823": "Penta chooses 5 of the vertices of a unit cube. What is the maximum possible volume of the figure whose vertices are the 5 chosen points?"
    }
  ],
  "Problem_Type": [
    {
      "A4007": [
        "Mathematics -> Number Theory -> Other"
      ]
    },
    {
      "A1823": [
        "Mathematics -> Geometry -> Solid Geometry -> Volume"
      ]
    }
  ],
  "Problem_Level": [
    {
      "A4007": "KbsdJames_Omni-MATH_5.0"
    },
    {
      "A1823": "KbsdJames_Omni-MATH_4.5"
    }
  ],
  "Problem_Source": [
    {
      "A4007": "cono_sur_olympiad"
    },
    {
      "A1823": "HMMT_11"
    }
  ],
  "Problem_Length": [
    {
      "A4007": 107
    },
    {
      "A1823": 137
    }
  ],
  "Synthesised_Problem_Length": 403,
  "Ground_Truth": [
    {
      "A4007": "$n=\\{1,13,43,91,157\\}$"
    },
    {
      "A1823": "\\frac{1}{2}"
    }
  ],
  "Predicted_Answer": [
    {
      "A4007": "{1,13,43,91,157}"
    },
    {
      "A1823": "1/2"
    }
  ],
  "Connecting_Point": [
    {
      "D3285": {
        "5": "(S(1) + 4)"
      }
    }
  ],
  "Delta_Factor": [
    {
      "A4007": 0.26
    },
    {
      "A1823": 0.8
    }
  ],
  "Delta_Value": [
    {
      "A4007": {
        "S(1)": "1"
      }
    },
    {
      "A1823": {
        "vol(tet3)": "1/6"
      }
    }
  ],
  "Delta_Depth": [
    {
      "A4007": {
        "S(1)": 5
      }
    },
    {
      "A1823": {
        "vol(tet3)": 12
      }
    }
  ],
  "Delta_Source": [
    {
      "A4007": "derived"
    },
    {
      "A1823": "derived"
    }
  ],
  "Delta_Value_Order": [
    {
      "A4007": 1
    },
    {
      "A1823": 3
    }
  ],
  "Delta_Variable_Names": [
    {
      "A4007": [
        "S"
      ]
    },
    {
      "A1823": [
        "vol"
      ]
    }
  ],
  "Delta_Socket": [
    {
      "A4007": {
        "1": 1.0
      }
    },
    {
      "A1823": {
        "5": 5.0
      }
    }
  ],
  "Source_Delta_Socket": [
    {
      "A4007": "goal"
    },
    {
      "A1823": "goal"
    }
  ],
  "Delta_Socket_Order": [
    {
      "A4007": 1
    },
    {
      "A1823": 1
    }
  ],
  "Variable_Names": [
    {
      "A4007": [
        "n",
        "S"
      ]
    },
    {
      "A1823": []
    }
  ],
  "Total_Claims": [
    {
      "A4007": 19
    },
    {
      "A1823": 15
    }
  ],
  "Total_Delta": [
    {
      "A4007": 1
    },
    {
      "A1823": 3
    }
  ],
  "Total_Delta_Socket": [
    {
      "A4007": 1
    },
    {
      "A1823": 1
    }
  ],
  "Max_Delta_Factor": [
    {
      "A4007": 0.26
    },
    {
      "A1823": 0.8
    }
  ],
  "Min_Delta_Factor": [
    {
      "A4007": 0.26
    },
    {
      "A1823": 0.53
    }
  ],
  "Max_Delta_Depth": [
    {
      "A4007": 5
    },
    {
      "A1823": 12
    }
  ],
  "Min_Delta_Depth": [
    {
      "A4007": 5
    },
    {
      "A1823": 8
    }
  ],
  "Claims": [
    {
      "id": "A4007_C1",
      "type": "goal",
      "expr": "find all positive integers n such that S(n)(S(n)-1) = n-1"
    },
    {
      "id": "A4007_C2",
      "type": "context",
      "expr": "S(n) = sum of digits of n"
    },
    {
      "id": "A4007_C3",
      "type": "derived",
      "expr": "S(n) = s ⇒ n = s(s-1) + 1"
    },
    {
      "id": "A4007_C4",
      "type": "derived",
      "expr": "s=1 ⇒ n=1"
    },
    {
      "id": "A4007_C5",
      "type": "derived",
      "expr": "S(1)=1"
    },
    {
      "id": "A4007_C6",
      "type": "derived",
      "expr": "n=1 is a solution"
    },
    {
      "id": "A4007_C7",
      "type": "derived",
      "expr": "s=4 ⇒ n=13"
    },
    {
      "id": "A4007_C8",
      "type": "derived",
      "expr": "S(13)=1+3=4"
    },
    {
      "id": "A4007_C9",
      "type": "derived",
      "expr": "n=13 is a solution"
    },
    {
      "id": "A4007_C10",
      "type": "derived",
      "expr": "s=7 ⇒ n=43"
    },
    {
      "id": "A4007_C11",
      "type": "derived",
      "expr": "S(43)=4+3=7"
    },
    {
      "id": "A4007_C12",
      "type": "derived",
      "expr": "n=43 is a solution"
    },
    {
      "id": "A4007_C13",
      "type": "derived",
      "expr": "s=10 ⇒ n=91"
    },
    {
      "id": "A4007_C14",
      "type": "derived",
      "expr": "S(91)=9+1=10"
    },
    {
      "id": "A4007_C15",
      "type": "derived",
      "expr": "n=91 is a solution"
    },
    {
      "id": "A4007_C16",
      "type": "derived",
      "expr": "s=13 ⇒ n=157"
    },
    {
      "id": "A4007_C17",
      "type": "derived",
      "expr": "S(157)=1+5+7=13"
    },
    {
      "id": "A4007_C18",
      "type": "derived",
      "expr": "n=157 is a solution"
    },
    {
      "id": "A4007_C19",
      "type": "final",
      "expr": "The solutions are {1, 13, 43, 91, 157}"
    },
    {
      "id": "A1823_C1",
      "type": "derived",
      "expr": "maximum vol(conv hull of 5 vertices of unit cube)"
    },
    {
      "id": "A1823_C2",
      "type": "context",
      "expr": "vol(unit cube) = 1"
    },
    {
      "id": "A1823_C3",
      "type": "context",
      "expr": "vertices: A=(0,1,1), B=(1,1,1), C=(1,0,1), D=(0,0,1), E=(0,1,0), F=(1,1,0), G=(1,0,0), H=(0,0,0)"
    },
    {
      "id": "A1823_C4",
      "type": "context",
      "expr": "chosen points S = {A, B, C, F, H}"
    },
    {
      "id": "A1823_C5",
      "type": "derived",
      "expr": "tet1 = conv(C,F,G,H), tet2 = conv(A,E,F,H), tet3 = conv(A,C,D,H)"
    },
    {
      "id": "A1823_C6",
      "type": "derived",
      "expr": "unit cube = conv(S) ∪ tet1 ∪ tet2 ∪ tet3 with disjoint interiors"
    },
    {
      "id": "A1823_C7",
      "type": "derived",
      "expr": "vol(unit cube) = vol(conv(S)) + vol(tet1) + vol(tet2) + vol(tet3)"
    },
    {
      "id": "A1823_C8",
      "type": "derived",
      "expr": "area(triangle FGH) = 1/2"
    },
    {
      "id": "A1823_C9",
      "type": "derived",
      "expr": "height of tet1 from C to plane of FGH = 1"
    },
    {
      "id": "A1823_C10",
      "type": "derived",
      "expr": "vol(tet1) = (1/3) * (1/2) * 1 = 1/6"
    },
    {
      "id": "A1823_C11",
      "type": "derived",
      "expr": "vol(tet2) = 1/6"
    },
    {
      "id": "A1823_C12",
      "type": "derived",
      "expr": "vol(tet3) = 1/6"
    },
    {
      "id": "A1823_C13",
      "type": "derived",
      "expr": "vol(tet1) + vol(tet2) + vol(tet3) = 3 * (1/6) = 1/2"
    },
    {
      "id": "A1823_C14",
      "type": "derived",
      "expr": "vol(conv(S)) = 1 - 1/2 = 1/2"
    },
    {
      "id": "A1823_C15",
      "type": "final",
      "expr": "maximum volume = 1/2"
    },
    {
      "id": "D3285_C1",
      "type": "goal",
      "expr": "maximum vol(conv hull of (S(1) + 4) vertices of unit cube)"
    }
  ],
  "Steps": [
    {
      "id": "A4007_S1",
      "rule": "problem setup",
      "premises": [
        "A4007_C1: find all positive integers n such that S(n)(S(n)-1) = n-1"
      ],
      "conclusions": [
        "A4007_C2: S(n) = sum of digits of n",
        "A4007_C3: S(n) = s ⇒ n = s(s-1) + 1"
      ]
    },
    {
      "id": "A4007_S2",
      "rule": "specific value substitution s=1",
      "premises": [
        "A4007_C3: S(n) = s ⇒ n = s(s-1) + 1"
      ],
      "conclusions": [
        "A4007_C4: s=1 ⇒ n=1"
      ]
    },
    {
      "id": "A4007_S3",
      "rule": "digit sum calculation",
      "premises": [
        "A4007_C2: S(n) = sum of digits of n",
        "A4007_C4: s=1 ⇒ n=1"
      ],
      "conclusions": [
        "A4007_C5: S(1)=1"
      ]
    },
    {
      "id": "A4007_S4",
      "rule": "verification S(n)=s",
      "premises": [
        "A4007_C4: s=1 ⇒ n=1",
        "A4007_C5: S(1)=1"
      ],
      "conclusions": [
        "A4007_C6: n=1 is a solution"
      ]
    },
    {
      "id": "A4007_S5",
      "rule": "specific value substitution s=4",
      "premises": [
        "A4007_C3: S(n) = s ⇒ n = s(s-1) + 1"
      ],
      "conclusions": [
        "A4007_C7: s=4 ⇒ n=13"
      ]
    },
    {
      "id": "A4007_S6",
      "rule": "digit sum calculation",
      "premises": [
        "A4007_C2: S(n) = sum of digits of n",
        "A4007_C7: s=4 ⇒ n=13"
      ],
      "conclusions": [
        "A4007_C8: S(13)=1+3=4"
      ]
    },
    {
      "id": "A4007_S7",
      "rule": "verification S(n)=s",
      "premises": [
        "A4007_C7: s=4 ⇒ n=13",
        "A4007_C8: S(13)=1+3=4"
      ],
      "conclusions": [
        "A4007_C9: n=13 is a solution"
      ]
    },
    {
      "id": "A4007_S8",
      "rule": "specific value substitution s=7",
      "premises": [
        "A4007_C3: S(n) = s ⇒ n = s(s-1) + 1"
      ],
      "conclusions": [
        "A4007_C10: s=7 ⇒ n=43"
      ]
    },
    {
      "id": "A4007_S9",
      "rule": "digit sum calculation",
      "premises": [
        "A4007_C2: S(n) = sum of digits of n",
        "A4007_C10: s=7 ⇒ n=43"
      ],
      "conclusions": [
        "A4007_C11: S(43)=4+3=7"
      ]
    },
    {
      "id": "A4007_S10",
      "rule": "verification S(n)=s",
      "premises": [
        "A4007_C10: s=7 ⇒ n=43",
        "A4007_C11: S(43)=4+3=7"
      ],
      "conclusions": [
        "A4007_C12: n=43 is a solution"
      ]
    },
    {
      "id": "A4007_S11",
      "rule": "specific value substitution s=10",
      "premises": [
        "A4007_C3: S(n) = s ⇒ n = s(s-1) + 1"
      ],
      "conclusions": [
        "A4007_C13: s=10 ⇒ n=91"
      ]
    },
    {
      "id": "A4007_S12",
      "rule": "digit sum calculation",
      "premises": [
        "A4007_C2: S(n) = sum of digits of n",
        "A4007_C13: s=10 ⇒ n=91"
      ],
      "conclusions": [
        "A4007_C14: S(91)=9+1=10"
      ]
    },
    {
      "id": "A4007_S13",
      "rule": "verification S(n)=s",
      "premises": [
        "A4007_C13: s=10 ⇒ n=91",
        "A4007_C14: S(91)=9+1=10"
      ],
      "conclusions": [
        "A4007_C15: n=91 is a solution"
      ]
    },
    {
      "id": "A4007_S14",
      "rule": "specific value substitution s=13",
      "premises": [
        "A4007_C3: S(n) = s ⇒ n = s(s-1) + 1"
      ],
      "conclusions": [
        "A4007_C16: s=13 ⇒ n=157"
      ]
    },
    {
      "id": "A4007_S15",
      "rule": "digit sum calculation",
      "premises": [
        "A4007_C2: S(n) = sum of digits of n",
        "A4007_C16: s=13 ⇒ n=157"
      ],
      "conclusions": [
        "A4007_C17: S(157)=1+5+7=13"
      ]
    },
    {
      "id": "A4007_S16",
      "rule": "verification S(n)=s",
      "premises": [
        "A4007_C16: s=13 ⇒ n=157",
        "A4007_C17: S(157)=1+5+7=13"
      ],
      "conclusions": [
        "A4007_C18: n=157 is a solution"
      ]
    },
    {
      "id": "A4007_S17",
      "rule": "collection of solutions",
      "premises": [
        "A4007_C6: n=1 is a solution",
        "A4007_C9: n=13 is a solution",
        "A4007_C12: n=43 is a solution",
        "A4007_C15: n=91 is a solution",
        "A4007_C18: n=157 is a solution"
      ],
      "conclusions": [
        "A4007_C19: The solutions are {1, 13, 43, 91, 157}"
      ]
    },
    {
      "id": "A1823_S1",
      "rule": "problem setup",
      "premises": [
        "A1823_C1: maximum vol(conv hull of 5 vertices of unit cube)"
      ],
      "conclusions": [
        "A1823_C2: vol(unit cube) = 1",
        "A1823_C3: vertices: A=(0,1,1), B=(1,1,1), C=(1,0,1), D=(0,0,1), E=(0,1,0), F=(1,1,0), G=(1,0,0), H=(0,0,0)",
        "A1823_C4: chosen points S = {A, B, C, F, H}"
      ]
    },
    {
      "id": "A1823_S2",
      "rule": "define tetrahedrons",
      "premises": [
        "A1823_C3: vertices: A=(0,1,1), B=(1,1,1), C=(1,0,1), D=(0,0,1), E=(0,1,0), F=(1,1,0), G=(1,0,0), H=(0,0,0)",
        "A1823_C4: chosen points S = {A, B, C, F, H}"
      ],
      "conclusions": [
        "A1823_C5: tet1 = conv(C,F,G,H), tet2 = conv(A,E,F,H), tet3 = conv(A,C,D,H)"
      ]
    },
    {
      "id": "A1823_S3",
      "rule": "geometric decomposition",
      "premises": [
        "A1823_C3: vertices: A=(0,1,1), B=(1,1,1), C=(1,0,1), D=(0,0,1), E=(0,1,0), F=(1,1,0), G=(1,0,0), H=(0,0,0)",
        "A1823_C4: chosen points S = {A, B, C, F, H}",
        "A1823_C5: tet1 = conv(C,F,G,H), tet2 = conv(A,E,F,H), tet3 = conv(A,C,D,H)"
      ],
      "conclusions": [
        "A1823_C6: unit cube = conv(S) ∪ tet1 ∪ tet2 ∪ tet3 with disjoint interiors"
      ]
    },
    {
      "id": "A1823_S4",
      "rule": "volume additivity",
      "premises": [
        "A1823_C2: vol(unit cube) = 1",
        "A1823_C6: unit cube = conv(S) ∪ tet1 ∪ tet2 ∪ tet3 with disjoint interiors"
      ],
      "conclusions": [
        "A1823_C7: vol(unit cube) = vol(conv(S)) + vol(tet1) + vol(tet2) + vol(tet3)"
      ]
    },
    {
      "id": "A1823_S5",
      "rule": "area of right triangle with legs 1",
      "premises": [
        "A1823_C3: vertices: A=(0,1,1), B=(1,1,1), C=(1,0,1), D=(0,0,1), E=(0,1,0), F=(1,1,0), G=(1,0,0), H=(0,0,0)"
      ],
      "conclusions": [
        "A1823_C8: area(triangle FGH) = 1/2"
      ]
    },
    {
      "id": "A1823_S6",
      "rule": "height determination",
      "premises": [
        "A1823_C3: vertices: A=(0,1,1), B=(1,1,1), C=(1,0,1), D=(0,0,1), E=(0,1,0), F=(1,1,0), G=(1,0,0), H=(0,0,0)"
      ],
      "conclusions": [
        "A1823_C9: height of tet1 from C to plane of FGH = 1"
      ]
    },
    {
      "id": "A1823_S7",
      "rule": "pyramid volume formula",
      "premises": [
        "A1823_C8: area(triangle FGH) = 1/2",
        "A1823_C9: height of tet1 from C to plane of FGH = 1"
      ],
      "conclusions": [
        "A1823_C10: vol(tet1) = (1/3) * (1/2) * 1 = 1/6"
      ]
    },
    {
      "id": "A1823_S8",
      "rule": "similar pyramid calculation",
      "premises": [
        "A1823_C3: vertices: A=(0,1,1), B=(1,1,1), C=(1,0,1), D=(0,0,1), E=(0,1,0), F=(1,1,0), G=(1,0,0), H=(0,0,0)",
        "A1823_C10: vol(tet1) = (1/3) * (1/2) * 1 = 1/6"
      ],
      "conclusions": [
        "A1823_C11: vol(tet2) = 1/6"
      ]
    },
    {
      "id": "A1823_S9",
      "rule": "similar pyramid calculation",
      "premises": [
        "A1823_C3: vertices: A=(0,1,1), B=(1,1,1), C=(1,0,1), D=(0,0,1), E=(0,1,0), F=(1,1,0), G=(1,0,0), H=(0,0,0)",
        "A1823_C10: vol(tet1) = (1/3) * (1/2) * 1 = 1/6"
      ],
      "conclusions": [
        "A1823_C12: vol(tet3) = 1/6"
      ]
    },
    {
      "id": "A1823_S10",
      "rule": "arithmetic summation",
      "premises": [
        "A1823_C10: vol(tet1) = (1/3) * (1/2) * 1 = 1/6",
        "A1823_C11: vol(tet2) = 1/6",
        "A1823_C12: vol(tet3) = 1/6"
      ],
      "conclusions": [
        "A1823_C13: vol(tet1) + vol(tet2) + vol(tet3) = 3 * (1/6) = 1/2"
      ]
    },
    {
      "id": "A1823_S11",
      "rule": "arithmetic subtraction",
      "premises": [
        "A1823_C7: vol(unit cube) = vol(conv(S)) + vol(tet1) + vol(tet2) + vol(tet3)",
        "A1823_C13: vol(tet1) + vol(tet2) + vol(tet3) = 3 * (1/6) = 1/2"
      ],
      "conclusions": [
        "A1823_C14: vol(conv(S)) = 1 - 1/2 = 1/2"
      ]
    },
    {
      "id": "A1823_S12",
      "rule": "achieved maximum",
      "premises": [
        "A1823_C14: vol(conv(S)) = 1 - 1/2 = 1/2"
      ],
      "conclusions": [
        "A1823_C15: maximum volume = 1/2"
      ]
    },
    {
      "id": "D3285_S1",
      "rule": "problem connection",
      "premises": [
        "D3285_C1: maximum vol(conv hull of (S(1) + 4) vertices of unit cube)",
        "A4007_C5: S(1)=1"
      ],
      "conclusions": [
        "A1823_C1: maximum vol(conv hull of 5 vertices of unit cube)"
      ]
    }
  ]
}