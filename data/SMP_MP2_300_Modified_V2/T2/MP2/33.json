{
  "Problem_ID": 33,
  "Chunk_Type": "T2",
  "Class_ID": "B7206",
  "Multiple_Synthesis_Class": "MP2",
  "Sub_Class_ID": [
    {
      "A2498": "A2498_DG_2"
    },
    {
      "A2512": "A2512_DG_1"
    }
  ],
  "Synthesis_Trace": "DG-DG",
  "Synthesis_Status": "Continuable",
  "Math_Problem": "Squares $A B C D$ and $D E F G$ have side lengths 1 and $\\frac{1}{3}$, respectively, where $E$ is on $\\overline{C D}$ and points $A, D, G$ lie on a line in that order. Line $C F$ meets line $A G$ at $X$. The length $A X$ can be written as $\\frac{m}{n}$, where $m, n$ are positive integers and $\\operatorname{gcd}(m, n)=1$. Find $100 m+n$. Instead of computing the hundredfold numerator plus the denominator of the intersection length in reduced terms, simply find $k = AX + \\frac{29}{2}$, where $AX$ is the distance from $A$ to the intersection point $X$. Compute the number of sets $S$ such that every element of $S$ is a nonnegative integer less than $k$, and if $x \\in S$ then $(2 x \\bmod k) \\in S$.",
  "Connecting_Sentence": [
    {
      "A2498": "Instead of computing the hundredfold numerator plus the denominator of the intersection length in reduced terms, simply find $k = AX + \\frac{29}{2}$, where $AX$ is the distance from $A$ to the intersection point $X$."
    },
    {
      "A2512": "None"
    }
  ],
  "Synthesised_By": [
    {
      "A2498": "Squares $A B C D$ and $D E F G$ have side lengths 1 and $\\frac{1}{3}$, respectively, where $E$ is on $\\overline{C D}$ and points $A, D, G$ lie on a line in that order. Line $C F$ meets line $A G$ at $X$. The length $A X$ can be written as $\\frac{m}{n}$, where $m, n$ are positive integers and $\\operatorname{gcd}(m, n)=1$. Find $100 m+n$. Instead of computing the hundredfold numerator plus the denominator of the intersection length in reduced terms, simply find $k = AX + \\frac{29}{2}$, where $AX$ is the distance from $A$ to the intersection point $X$."
    },
    {
      "A2512": "Compute the number of sets $S$ such that every element of $S$ is a nonnegative integer less than 16, and if $x \\in S$ then $(2 x \\bmod 16) \\in S$."
    }
  ],
  "Original_Problem": [
    {
      "A2498": "Squares $A B C D$ and $D E F G$ have side lengths 1 and $\\frac{1}{3}$, respectively, where $E$ is on $\\overline{C D}$ and points $A, D, G$ lie on a line in that order. Line $C F$ meets line $A G$ at $X$. The length $A X$ can be written as $\\frac{m}{n}$, where $m, n$ are positive integers and $\\operatorname{gcd}(m, n)=1$. Find $100 m+n$."
    },
    {
      "A2512": "Compute the number of sets $S$ such that every element of $S$ is a nonnegative integer less than 16, and if $x \\in S$ then $(2 x \\bmod 16) \\in S$."
    }
  ],
  "Problem_Type": [
    {
      "A2498": [
        "Mathematics -> Geometry -> Plane Geometry -> Polygons",
        "Mathematics -> Precalculus -> Trigonometric Functions"
      ]
    },
    {
      "A2512": [
        "Mathematics -> Discrete Mathematics -> Combinatorics"
      ]
    }
  ],
  "Problem_Level": [
    {
      "A2498": "KbsdJames_Omni-MATH_4.0"
    },
    {
      "A2512": "KbsdJames_Omni-MATH_4.0"
    }
  ],
  "Problem_Source": [
    {
      "A2498": "HMMT_11"
    },
    {
      "A2512": "HMMT_11"
    }
  ],
  "Problem_Length": [
    {
      "A2498": 338
    },
    {
      "A2512": 146
    }
  ],
  "Synthesised_Problem_Length": 702,
  "Ground_Truth": [
    {
      "A2498": "302"
    },
    {
      "A2512": "678"
    }
  ],
  "Predicted_Answer": [
    {
      "A2498": "302"
    },
    {
      "A2512": "678"
    }
  ],
  "Connecting_Point": [
    {
      "B7206": {
        "16": "(AX + 29/2)"
      }
    }
  ],
  "Delta_Factor": [
    {
      "A2498": 0.92
    },
    {
      "A2512": 0.75
    }
  ],
  "Delta_Value": [
    {
      "A2498": {
        "AX": "3/2"
      }
    },
    {
      "A2512": {
        "f(0)": "2"
      }
    }
  ],
  "Delta_Depth": [
    {
      "A2498": {
        "AX": 12
      }
    },
    {
      "A2512": {
        "f(0)": 12
      }
    }
  ],
  "Delta_Source": [
    {
      "A2498": "derived"
    },
    {
      "A2512": "derived"
    }
  ],
  "Delta_Value_Order": [
    {
      "A2498": 2
    },
    {
      "A2512": 1
    }
  ],
  "Delta_Variable_Names": [
    {
      "A2498": [
        "AX"
      ]
    },
    {
      "A2512": [
        "f"
      ]
    }
  ],
  "Delta_Socket": [
    {
      "A2498": {
        "1": 1.0
      }
    },
    {
      "A2512": {
        "16": 16.0
      }
    }
  ],
  "Source_Delta_Socket": [
    {
      "A2498": "goal"
    },
    {
      "A2512": "goal"
    }
  ],
  "Delta_Socket_Order": [
    {
      "A2498": 1
    },
    {
      "A2512": 1
    }
  ],
  "Variable_Names": [
    {
      "A2498": [
        "C",
        "B",
        "A",
        "D",
        "E",
        "G",
        "F",
        "X",
        "n",
        "m",
        "g",
        "d",
        "c"
      ]
    },
    {
      "A2512": [
        "S",
        "x"
      ]
    }
  ],
  "Total_Claims": [
    {
      "A2498": 13
    },
    {
      "A2512": 16
    }
  ],
  "Total_Delta": [
    {
      "A2498": 2
    },
    {
      "A2512": 1
    }
  ],
  "Total_Delta_Socket": [
    {
      "A2498": 1
    },
    {
      "A2512": 1
    }
  ],
  "Max_Delta_Factor": [
    {
      "A2498": 0.92
    },
    {
      "A2512": 0.75
    }
  ],
  "Min_Delta_Factor": [
    {
      "A2498": 0.77
    },
    {
      "A2512": 0.75
    }
  ],
  "Max_Delta_Depth": [
    {
      "A2498": 12
    },
    {
      "A2512": 12
    }
  ],
  "Min_Delta_Depth": [
    {
      "A2498": 10
    },
    {
      "A2512": 12
    }
  ],
  "Claims": [
    {
      "id": "A2498_C1",
      "type": "goal",
      "expr": "100m + n where AX = m/n and gcd(m,n)=1"
    },
    {
      "id": "A2498_C2",
      "type": "context",
      "expr": "A(0,0), B(1,0), C(1,1), D(0,1)"
    },
    {
      "id": "A2498_C3",
      "type": "context",
      "expr": "E(1/3,1)"
    },
    {
      "id": "A2498_C4",
      "type": "context",
      "expr": "G(0,4/3)"
    },
    {
      "id": "A2498_C5",
      "type": "context",
      "expr": "F(1/3,4/3)"
    },
    {
      "id": "A2498_C6",
      "type": "context",
      "expr": "Line AG: x=0"
    },
    {
      "id": "A2498_C7",
      "type": "derived",
      "expr": "Vector CF = (-2/3,1/3)"
    },
    {
      "id": "A2498_C8",
      "type": "derived",
      "expr": "Parametric CF: x=1 - (2/3)t, y=1 + (1/3)t"
    },
    {
      "id": "A2498_C9",
      "type": "derived",
      "expr": "t=3/2 from x=0"
    },
    {
      "id": "A2498_C10",
      "type": "derived",
      "expr": "y=3/2"
    },
    {
      "id": "A2498_C11",
      "type": "derived",
      "expr": "X(0,3/2)"
    },
    {
      "id": "A2498_C12",
      "type": "derived",
      "expr": "AX=3/2"
    },
    {
      "id": "A2498_C13",
      "type": "final",
      "expr": "100*3 + 2 = 302"
    },
    {
      "id": "A2512_C1",
      "type": "derived",
      "expr": "N = |{S ⊆ {0,1,...,15} : ∀x∈S, (2x mod 16) ∈ S}|"
    },
    {
      "id": "A2512_C2",
      "type": "context",
      "expr": "U = {0,1,...,15}"
    },
    {
      "id": "A2512_C3",
      "type": "context",
      "expr": "φ(x) = 2x mod 16 for x ∈ U"
    },
    {
      "id": "A2512_C4",
      "type": "context",
      "expr": "S closed iff ∀x∈S, φ(x) ∈ S"
    },
    {
      "id": "A2512_C5",
      "type": "derived",
      "expr": "φ(0) = 0"
    },
    {
      "id": "A2512_C6",
      "type": "derived",
      "expr": "∀x ∈ {1,...,15}, ∃k ≤ 4, φ^k(x) = 0"
    },
    {
      "id": "A2512_C7",
      "type": "derived",
      "expr": "every nonempty closed S contains 0"
    },
    {
      "id": "A2512_C8",
      "type": "derived",
      "expr": "graph G=(V,E) with V={1,...,15}, E={(x,φ(x)) | φ(x) ∈ V} is complete binary tree depth 3 rooted at 8"
    },
    {
      "id": "A2512_C9",
      "type": "derived",
      "expr": "T ⊆ {1,...,15} tree-closed iff ∀x∈T (φ(x) ≠ 0 ⇒ φ(x) ∈ T)"
    },
    {
      "id": "A2512_C10",
      "type": "derived",
      "expr": "closed S = ∅ or {0} ∪ T for tree-closed T"
    },
    {
      "id": "A2512_C11",
      "type": "derived",
      "expr": "number of tree-closed T = f(3) where f(n) = f(n-1)^2 + 1, f(0)=2"
    },
    {
      "id": "A2512_C12",
      "type": "derived",
      "expr": "f(0) = 2"
    },
    {
      "id": "A2512_C13",
      "type": "derived",
      "expr": "f(1) = 2^2 + 1 = 5"
    },
    {
      "id": "A2512_C14",
      "type": "derived",
      "expr": "f(2) = 5^2 + 1 = 26"
    },
    {
      "id": "A2512_C15",
      "type": "derived",
      "expr": "f(3) = 26^2 + 1 = 677"
    },
    {
      "id": "A2512_C16",
      "type": "final",
      "expr": "N = f(3) + 1 = 678"
    },
    {
      "id": "B7206_C1",
      "type": "goal",
      "expr": "N = |{S ⊆ {0,1,...,15} : ∀x∈S, (2x mod (AX + 29/2)) ∈ S}|"
    }
  ],
  "Steps": [
    {
      "id": "A2498_S1",
      "rule": "problem setup",
      "premises": [
        "A2498_C1: 100m + n where AX = m/n and gcd(m,n)=1"
      ],
      "conclusions": [
        "A2498_C2: A(0,0), B(1,0), C(1,1), D(0,1)",
        "A2498_C3: E(1/3,1)",
        "A2498_C4: G(0,4/3)",
        "A2498_C5: F(1/3,4/3)",
        "A2498_C6: Line AG: x=0"
      ]
    },
    {
      "id": "A2498_S2",
      "rule": "vector subtraction",
      "premises": [
        "A2498_C2: A(0,0), B(1,0), C(1,1), D(0,1)",
        "A2498_C5: F(1/3,4/3)"
      ],
      "conclusions": [
        "A2498_C7: Vector CF = (-2/3,1/3)"
      ]
    },
    {
      "id": "A2498_S3",
      "rule": "parametric line equation",
      "premises": [
        "A2498_C2: A(0,0), B(1,0), C(1,1), D(0,1)",
        "A2498_C7: Vector CF = (-2/3,1/3)"
      ],
      "conclusions": [
        "A2498_C8: Parametric CF: x=1 - (2/3)t, y=1 + (1/3)t"
      ]
    },
    {
      "id": "A2498_S4",
      "rule": "solve equation",
      "premises": [
        "A2498_C8: Parametric CF: x=1 - (2/3)t, y=1 + (1/3)t",
        "A2498_C6: Line AG: x=0"
      ],
      "conclusions": [
        "A2498_C9: t=3/2 from x=0"
      ]
    },
    {
      "id": "A2498_S5",
      "rule": "substitute t",
      "premises": [
        "A2498_C8: Parametric CF: x=1 - (2/3)t, y=1 + (1/3)t",
        "A2498_C9: t=3/2 from x=0"
      ],
      "conclusions": [
        "A2498_C10: y=3/2"
      ]
    },
    {
      "id": "A2498_S6",
      "rule": "intersection point",
      "premises": [
        "A2498_C6: Line AG: x=0",
        "A2498_C10: y=3/2"
      ],
      "conclusions": [
        "A2498_C11: X(0,3/2)"
      ]
    },
    {
      "id": "A2498_S7",
      "rule": "distance calculation",
      "premises": [
        "A2498_C2: A(0,0), B(1,0), C(1,1), D(0,1)",
        "A2498_C11: X(0,3/2)"
      ],
      "conclusions": [
        "A2498_C12: AX=3/2"
      ]
    },
    {
      "id": "A2498_S8",
      "rule": "compute 100m + n",
      "premises": [
        "A2498_C12: AX=3/2"
      ],
      "conclusions": [
        "A2498_C13: 100*3 + 2 = 302"
      ]
    },
    {
      "id": "A2512_S1",
      "rule": "problem setup",
      "premises": [
        "A2512_C1: N = |{S ⊆ {0,1,...,15} : ∀x∈S, (2x mod 16) ∈ S}|"
      ],
      "conclusions": [
        "A2512_C2: U = {0,1,...,15}",
        "A2512_C3: φ(x) = 2x mod 16 for x ∈ U",
        "A2512_C4: S closed iff ∀x∈S, φ(x) ∈ S"
      ]
    },
    {
      "id": "A2512_S2",
      "rule": "direct computation",
      "premises": [
        "A2512_C3: φ(x) = 2x mod 16 for x ∈ U"
      ],
      "conclusions": [
        "A2512_C5: φ(0) = 0"
      ]
    },
    {
      "id": "A2512_S3",
      "rule": "iterated function analysis",
      "premises": [
        "A2512_C3: φ(x) = 2x mod 16 for x ∈ U",
        "A2512_C2: U = {0,1,...,15}"
      ],
      "conclusions": [
        "A2512_C6: ∀x ∈ {1,...,15}, ∃k ≤ 4, φ^k(x) = 0"
      ]
    },
    {
      "id": "A2512_S4",
      "rule": "closure under iteration",
      "premises": [
        "A2512_C4: S closed iff ∀x∈S, φ(x) ∈ S",
        "A2512_C6: ∀x ∈ {1,...,15}, ∃k ≤ 4, φ^k(x) = 0"
      ],
      "conclusions": [
        "A2512_C7: every nonempty closed S contains 0"
      ]
    },
    {
      "id": "A2512_S5",
      "rule": "graph construction",
      "premises": [
        "A2512_C3: φ(x) = 2x mod 16 for x ∈ U",
        "A2512_C2: U = {0,1,...,15}"
      ],
      "conclusions": [
        "A2512_C8: graph G=(V,E) with V={1,...,15}, E={(x,φ(x)) | φ(x) ∈ V} is complete binary tree depth 3 rooted at 8"
      ]
    },
    {
      "id": "A2512_S6",
      "rule": "define tree-closed subsets",
      "premises": [
        "A2512_C8: graph G=(V,E) with V={1,...,15}, E={(x,φ(x)) | φ(x) ∈ V} is complete binary tree depth 3 rooted at 8",
        "A2512_C3: φ(x) = 2x mod 16 for x ∈ U"
      ],
      "conclusions": [
        "A2512_C9: T ⊆ {1,...,15} tree-closed iff ∀x∈T (φ(x) ≠ 0 ⇒ φ(x) ∈ T)"
      ]
    },
    {
      "id": "A2512_S7",
      "rule": "bijection to closed sets",
      "premises": [
        "A2512_C7: every nonempty closed S contains 0",
        "A2512_C9: T ⊆ {1,...,15} tree-closed iff ∀x∈T (φ(x) ≠ 0 ⇒ φ(x) ∈ T)",
        "A2512_C5: φ(0) = 0",
        "A2512_C4: S closed iff ∀x∈S, φ(x) ∈ S"
      ],
      "conclusions": [
        "A2512_C10: closed S = ∅ or {0} ∪ T for tree-closed T"
      ]
    },
    {
      "id": "A2512_S8",
      "rule": "recurrence from tree structure",
      "premises": [
        "A2512_C8: graph G=(V,E) with V={1,...,15}, E={(x,φ(x)) | φ(x) ∈ V} is complete binary tree depth 3 rooted at 8"
      ],
      "conclusions": [
        "A2512_C11: number of tree-closed T = f(3) where f(n) = f(n-1)^2 + 1, f(0)=2"
      ]
    },
    {
      "id": "A2512_S9",
      "rule": "base case evaluation",
      "premises": [
        "A2512_C11: number of tree-closed T = f(3) where f(n) = f(n-1)^2 + 1, f(0)=2"
      ],
      "conclusions": [
        "A2512_C12: f(0) = 2"
      ]
    },
    {
      "id": "A2512_S10",
      "rule": "recurrence computation",
      "premises": [
        "A2512_C11: number of tree-closed T = f(3) where f(n) = f(n-1)^2 + 1, f(0)=2",
        "A2512_C12: f(0) = 2"
      ],
      "conclusions": [
        "A2512_C13: f(1) = 2^2 + 1 = 5"
      ]
    },
    {
      "id": "A2512_S11",
      "rule": "recurrence computation",
      "premises": [
        "A2512_C11: number of tree-closed T = f(3) where f(n) = f(n-1)^2 + 1, f(0)=2",
        "A2512_C13: f(1) = 2^2 + 1 = 5"
      ],
      "conclusions": [
        "A2512_C14: f(2) = 5^2 + 1 = 26"
      ]
    },
    {
      "id": "A2512_S12",
      "rule": "recurrence computation",
      "premises": [
        "A2512_C11: number of tree-closed T = f(3) where f(n) = f(n-1)^2 + 1, f(0)=2",
        "A2512_C14: f(2) = 5^2 + 1 = 26"
      ],
      "conclusions": [
        "A2512_C15: f(3) = 26^2 + 1 = 677"
      ]
    },
    {
      "id": "A2512_S13",
      "rule": "total including empty",
      "premises": [
        "A2512_C10: closed S = ∅ or {0} ∪ T for tree-closed T",
        "A2512_C15: f(3) = 26^2 + 1 = 677"
      ],
      "conclusions": [
        "A2512_C16: N = f(3) + 1 = 678"
      ]
    },
    {
      "id": "B7206_S1",
      "rule": "problem connection",
      "premises": [
        "B7206_C1: N = |{S ⊆ {0,1,...,15} : ∀x∈S, (2x mod (AX + 29/2)) ∈ S}|",
        "A2498_C12: AX=3/2"
      ],
      "conclusions": [
        "A2512_C1: N = |{S ⊆ {0,1,...,15} : ∀x∈S, (2x mod 16) ∈ S}|"
      ]
    }
  ]
}