{
  "Problem_ID": 7,
  "Chunk_Type": "T2",
  "Class_ID": "B1242",
  "Multiple_Synthesis_Class": "MP2",
  "Sub_Class_ID": [
    {
      "A1246": "A1246_DG_2"
    },
    {
      "A1331": "A1331_DG_2"
    }
  ],
  "Synthesis_Trace": "DG-DG",
  "Synthesis_Status": "Continuable",
  "Math_Problem": "The fraction $\\frac{1}{2015}$ has a unique \"(restricted) partial fraction decomposition\" of the form $\\frac{1}{2015}=\\frac{a}{5}+\\frac{b}{13}+\\frac{c}{31}$ where $a, b, c$ are integers with $0 \\leq a<5$ and $0 \\leq b<13$. Find $a+b$. Instead of finding the sum of the coefficients corresponding to the two smallest denominators, simply find $L = b + 2004$, where $b$ is the integer coefficient of the term with denominator $13$ in the restricted partial fraction decomposition. Katherine has a piece of string that is $L$ millimeters long. She cuts the string at a location chosen uniformly at random, and takes the left half. She continues this process until the remaining string is less than one millimeter long. What is the expected number of cuts that she makes?",
  "Connecting_Sentence": [
    {
      "A1246": "Instead of finding the sum of the coefficients corresponding to the two smallest denominators, simply find $L = b + 2004$, where $b$ is the integer coefficient of the term with denominator $13$ in the restricted partial fraction decomposition."
    },
    {
      "A1331": "None"
    }
  ],
  "Synthesised_By": [
    {
      "A1246": "The fraction $\\frac{1}{2015}$ has a unique \"(restricted) partial fraction decomposition\" of the form $\\frac{1}{2015}=\\frac{a}{5}+\\frac{b}{13}+\\frac{c}{31}$ where $a, b, c$ are integers with $0 \\leq a<5$ and $0 \\leq b<13$. Find $a+b$. Instead of finding the sum of the coefficients corresponding to the two smallest denominators, simply find $L = b + 2004$, where $b$ is the integer coefficient of the term with denominator $13$ in the restricted partial fraction decomposition."
    },
    {
      "A1331": "Katherine has a piece of string that is 2016 millimeters long. She cuts the string at a location chosen uniformly at random, and takes the left half. She continues this process until the remaining string is less than one millimeter long. What is the expected number of cuts that she makes?"
    }
  ],
  "Original_Problem": [
    {
      "A1246": "The fraction $\\frac{1}{2015}$ has a unique \"(restricted) partial fraction decomposition\" of the form $\\frac{1}{2015}=\\frac{a}{5}+\\frac{b}{13}+\\frac{c}{31}$ where $a, b, c$ are integers with $0 \\leq a<5$ and $0 \\leq b<13$. Find $a+b$."
    },
    {
      "A1331": "Katherine has a piece of string that is 2016 millimeters long. She cuts the string at a location chosen uniformly at random, and takes the left half. She continues this process until the remaining string is less than one millimeter long. What is the expected number of cuts that she makes?"
    }
  ],
  "Problem_Type": [
    {
      "A1246": [
        "Mathematics -> Algebra -> Intermediate Algebra -> Other"
      ]
    },
    {
      "A1331": [
        "Mathematics -> Applied Mathematics -> Statistics -> Probability -> Other",
        "Mathematics -> Calculus -> Integral Calculus -> Techniques of Integration -> Single-variable"
      ]
    }
  ],
  "Problem_Level": [
    {
      "A1246": "KbsdJames_Omni-MATH_4.0"
    },
    {
      "A1331": "KbsdJames_Omni-MATH_4.0"
    }
  ],
  "Problem_Source": [
    {
      "A1246": "HMMT_2"
    },
    {
      "A1331": "HMMT_2"
    }
  ],
  "Problem_Length": [
    {
      "A1246": 233
    },
    {
      "A1331": 289
    }
  ],
  "Synthesised_Problem_Length": 766,
  "Ground_Truth": [
    {
      "A1246": "14"
    },
    {
      "A1331": "1+\\log (2016)"
    }
  ],
  "Predicted_Answer": [
    {
      "A1246": "14"
    },
    {
      "A1331": "1 + log(2016)"
    }
  ],
  "Connecting_Point": [
    {
      "B1242": {
        "2016": "(b + 2004)"
      }
    }
  ],
  "Delta_Factor": [
    {
      "A1246": 0.92
    },
    {
      "A1331": 0.86
    }
  ],
  "Delta_Value": [
    {
      "A1246": {
        "b": "12"
      }
    },
    {
      "A1331": {
        "C": "0"
      }
    }
  ],
  "Delta_Depth": [
    {
      "A1246": {
        "b": 12
      }
    },
    {
      "A1331": {
        "C": 18
      }
    }
  ],
  "Delta_Source": [
    {
      "A1246": "derived"
    },
    {
      "A1331": "derived"
    }
  ],
  "Delta_Value_Order": [
    {
      "A1246": 2
    },
    {
      "A1331": 2
    }
  ],
  "Delta_Variable_Names": [
    {
      "A1246": [
        "b"
      ]
    },
    {
      "A1331": [
        "C"
      ]
    }
  ],
  "Delta_Socket": [
    {
      "A1246": {
        "1/2015": 0.0004962779156327543
      }
    },
    {
      "A1331": {
        "2016": 2016.0
      }
    }
  ],
  "Source_Delta_Socket": [
    {
      "A1246": "goal"
    },
    {
      "A1331": "goal"
    }
  ],
  "Delta_Socket_Order": [
    {
      "A1246": 1
    },
    {
      "A1331": 1
    }
  ],
  "Variable_Names": [
    {
      "A1246": [
        "b",
        "c",
        "a"
      ]
    },
    {
      "A1331": []
    }
  ],
  "Total_Claims": [
    {
      "A1246": 13
    },
    {
      "A1331": 21
    }
  ],
  "Total_Delta": [
    {
      "A1246": 2
    },
    {
      "A1331": 2
    }
  ],
  "Total_Delta_Socket": [
    {
      "A1246": 1
    },
    {
      "A1331": 1
    }
  ],
  "Max_Delta_Factor": [
    {
      "A1246": 0.92
    },
    {
      "A1331": 0.86
    }
  ],
  "Min_Delta_Factor": [
    {
      "A1246": 0.69
    },
    {
      "A1331": 0.81
    }
  ],
  "Max_Delta_Depth": [
    {
      "A1246": 12
    },
    {
      "A1331": 18
    }
  ],
  "Min_Delta_Depth": [
    {
      "A1246": 9
    },
    {
      "A1331": 17
    }
  ],
  "Claims": [
    {
      "id": "A1246_C1",
      "type": "goal",
      "expr": "a + b where 1/2015 = a/5 + b/13 + c/31 ∧ a, b, c ∈ Z ∧ 0 ≤ a < 5 ∧ 0 ≤ b < 13"
    },
    {
      "id": "A1246_C2",
      "type": "context",
      "expr": "2015 = 5 × 13 × 31"
    },
    {
      "id": "A1246_C3",
      "type": "context",
      "expr": "0 ≤ a < 5"
    },
    {
      "id": "A1246_C4",
      "type": "context",
      "expr": "0 ≤ b < 13"
    },
    {
      "id": "A1246_C5",
      "type": "context",
      "expr": "a, b, c ∈ Z"
    },
    {
      "id": "A1246_C6",
      "type": "derived",
      "expr": "1 = 13 × 31 × a + 5 × 31 × b + 5 × 13 × c"
    },
    {
      "id": "A1246_C7",
      "type": "derived",
      "expr": "1 ≡ 3a (mod 5)"
    },
    {
      "id": "A1246_C8",
      "type": "derived",
      "expr": "a ≡ 2 (mod 5)"
    },
    {
      "id": "A1246_C9",
      "type": "derived",
      "expr": "a = 2"
    },
    {
      "id": "A1246_C10",
      "type": "derived",
      "expr": "1 ≡ -b (mod 13)"
    },
    {
      "id": "A1246_C11",
      "type": "derived",
      "expr": "b ≡ 12 (mod 13)"
    },
    {
      "id": "A1246_C12",
      "type": "derived",
      "expr": "b = 12"
    },
    {
      "id": "A1246_C13",
      "type": "final",
      "expr": "a + b = 14"
    },
    {
      "id": "A1331_C1",
      "type": "derived",
      "expr": "expected number of cuts for initial length 2016 = 1 + log(2016)"
    },
    {
      "id": "A1331_C2",
      "type": "context",
      "expr": "initial string length x = 2016 mm"
    },
    {
      "id": "A1331_C3",
      "type": "context",
      "expr": "cut at U uniform in [0, x], take left piece of length U"
    },
    {
      "id": "A1331_C4",
      "type": "context",
      "expr": "repeat until length < 1 mm"
    },
    {
      "id": "A1331_C5",
      "type": "context",
      "expr": "f(x) = expected number of cuts starting from length x"
    },
    {
      "id": "A1331_C6",
      "type": "derived",
      "expr": "x < 1 ⇒ f(x) = 0"
    },
    {
      "id": "A1331_C7",
      "type": "derived",
      "expr": "x ≥ 1 ⇒ f(x) = 1 + (1/x) ∫_{0}^{x} f(y) dy"
    },
    {
      "id": "A1331_C8",
      "type": "derived",
      "expr": "g(x) = ∫_{1}^{x} f(y) dy"
    },
    {
      "id": "A1331_C9",
      "type": "derived",
      "expr": "g'(x) = f(x)"
    },
    {
      "id": "A1331_C10",
      "type": "derived",
      "expr": "f(x) = 1 + (1/x) g(x)"
    },
    {
      "id": "A1331_C11",
      "type": "derived",
      "expr": "g'(x) - (1/x) g(x) = 1"
    },
    {
      "id": "A1331_C12",
      "type": "derived",
      "expr": "integrating factor μ(x) = 1/x"
    },
    {
      "id": "A1331_C13",
      "type": "derived",
      "expr": "(1/x) g'(x) - (1/x²) g(x) = 1/x"
    },
    {
      "id": "A1331_C14",
      "type": "derived",
      "expr": "d/dx [g(x)/x] = 1/x"
    },
    {
      "id": "A1331_C15",
      "type": "derived",
      "expr": "g(x)/x = log x + C"
    },
    {
      "id": "A1331_C16",
      "type": "derived",
      "expr": "g(x) = x (log x + C)"
    },
    {
      "id": "A1331_C17",
      "type": "derived",
      "expr": "g(1) = 0"
    },
    {
      "id": "A1331_C18",
      "type": "derived",
      "expr": "C = 0"
    },
    {
      "id": "A1331_C19",
      "type": "derived",
      "expr": "g(x) = x log x"
    },
    {
      "id": "A1331_C20",
      "type": "derived",
      "expr": "f(x) = 1 + log x"
    },
    {
      "id": "A1331_C21",
      "type": "final",
      "expr": "f(2016) = 1 + log 2016"
    },
    {
      "id": "B1242_C1",
      "type": "goal",
      "expr": "expected number of cuts for initial length (b + 2004) = 1 + log((b + 2004))"
    }
  ],
  "Steps": [
    {
      "id": "A1246_S1",
      "rule": "problem setup",
      "premises": [
        "A1246_C1: a + b where 1/2015 = a/5 + b/13 + c/31 ∧ a, b, c ∈ Z ∧ 0 ≤ a < 5 ∧ 0 ≤ b < 13"
      ],
      "conclusions": [
        "A1246_C2: 2015 = 5 × 13 × 31",
        "A1246_C3: 0 ≤ a < 5",
        "A1246_C4: 0 ≤ b < 13",
        "A1246_C5: a, b, c ∈ Z"
      ]
    },
    {
      "id": "A1246_S2",
      "rule": "clear denominators by multiplying by 2015",
      "premises": [
        "A1246_C1: a + b where 1/2015 = a/5 + b/13 + c/31 ∧ a, b, c ∈ Z ∧ 0 ≤ a < 5 ∧ 0 ≤ b < 13",
        "A1246_C2: 2015 = 5 × 13 × 31"
      ],
      "conclusions": [
        "A1246_C6: 1 = 13 × 31 × a + 5 × 31 × b + 5 × 13 × c"
      ]
    },
    {
      "id": "A1246_S3",
      "rule": "reduce modulo 5 (13≡3, 31≡1, 5≡0 mod 5)",
      "premises": [
        "A1246_C6: 1 = 13 × 31 × a + 5 × 31 × b + 5 × 13 × c"
      ],
      "conclusions": [
        "A1246_C7: 1 ≡ 3a (mod 5)"
      ]
    },
    {
      "id": "A1246_S4",
      "rule": "solve 3a ≡ 1 mod 5 (inverse of 3 is 2)",
      "premises": [
        "A1246_C7: 1 ≡ 3a (mod 5)"
      ],
      "conclusions": [
        "A1246_C8: a ≡ 2 (mod 5)"
      ]
    },
    {
      "id": "A1246_S5",
      "rule": "unique solution in range",
      "premises": [
        "A1246_C3: 0 ≤ a < 5",
        "A1246_C8: a ≡ 2 (mod 5)"
      ],
      "conclusions": [
        "A1246_C9: a = 2"
      ]
    },
    {
      "id": "A1246_S6",
      "rule": "reduce modulo 13 (5≡5, 31≡5, 13≡0 mod 13; 25≡-1 mod 13)",
      "premises": [
        "A1246_C6: 1 = 13 × 31 × a + 5 × 31 × b + 5 × 13 × c"
      ],
      "conclusions": [
        "A1246_C10: 1 ≡ -b (mod 13)"
      ]
    },
    {
      "id": "A1246_S7",
      "rule": "solve -b ≡ 1 mod 13",
      "premises": [
        "A1246_C10: 1 ≡ -b (mod 13)"
      ],
      "conclusions": [
        "A1246_C11: b ≡ 12 (mod 13)"
      ]
    },
    {
      "id": "A1246_S8",
      "rule": "unique solution in range",
      "premises": [
        "A1246_C4: 0 ≤ b < 13",
        "A1246_C11: b ≡ 12 (mod 13)"
      ],
      "conclusions": [
        "A1246_C12: b = 12"
      ]
    },
    {
      "id": "A1246_S9",
      "rule": "compute sum",
      "premises": [
        "A1246_C9: a = 2",
        "A1246_C12: b = 12"
      ],
      "conclusions": [
        "A1246_C13: a + b = 14"
      ]
    },
    {
      "id": "A1331_S1",
      "rule": "problem setup",
      "premises": [
        "A1331_C1: expected number of cuts for initial length 2016 = 1 + log(2016)"
      ],
      "conclusions": [
        "A1331_C2: initial string length x = 2016 mm",
        "A1331_C3: cut at U uniform in [0, x], take left piece of length U",
        "A1331_C4: repeat until length < 1 mm",
        "A1331_C5: f(x) = expected number of cuts starting from length x"
      ]
    },
    {
      "id": "A1331_S2",
      "rule": "base case definition",
      "premises": [
        "A1331_C4: repeat until length < 1 mm",
        "A1331_C5: f(x) = expected number of cuts starting from length x"
      ],
      "conclusions": [
        "A1331_C6: x < 1 ⇒ f(x) = 0"
      ]
    },
    {
      "id": "A1331_S3",
      "rule": "expected value recursion",
      "premises": [
        "A1331_C3: cut at U uniform in [0, x], take left piece of length U",
        "A1331_C5: f(x) = expected number of cuts starting from length x",
        "A1331_C6: x < 1 ⇒ f(x) = 0"
      ],
      "conclusions": [
        "A1331_C7: x ≥ 1 ⇒ f(x) = 1 + (1/x) ∫_{0}^{x} f(y) dy"
      ]
    },
    {
      "id": "A1331_S4",
      "rule": "auxiliary function definition",
      "premises": [
        "A1331_C7: x ≥ 1 ⇒ f(x) = 1 + (1/x) ∫_{0}^{x} f(y) dy"
      ],
      "conclusions": [
        "A1331_C8: g(x) = ∫_{1}^{x} f(y) dy"
      ]
    },
    {
      "id": "A1331_S5",
      "rule": "fundamental theorem of calculus",
      "premises": [
        "A1331_C8: g(x) = ∫_{1}^{x} f(y) dy"
      ],
      "conclusions": [
        "A1331_C9: g'(x) = f(x)"
      ]
    },
    {
      "id": "A1331_S6",
      "rule": "integral substitution",
      "premises": [
        "A1331_C7: x ≥ 1 ⇒ f(x) = 1 + (1/x) ∫_{0}^{x} f(y) dy",
        "A1331_C8: g(x) = ∫_{1}^{x} f(y) dy"
      ],
      "conclusions": [
        "A1331_C10: f(x) = 1 + (1/x) g(x)"
      ]
    },
    {
      "id": "A1331_S7",
      "rule": "differential equation formation",
      "premises": [
        "A1331_C9: g'(x) = f(x)",
        "A1331_C10: f(x) = 1 + (1/x) g(x)"
      ],
      "conclusions": [
        "A1331_C11: g'(x) - (1/x) g(x) = 1"
      ]
    },
    {
      "id": "A1331_S8",
      "rule": "integrating factor computation",
      "premises": [
        "A1331_C11: g'(x) - (1/x) g(x) = 1"
      ],
      "conclusions": [
        "A1331_C12: integrating factor μ(x) = 1/x"
      ]
    },
    {
      "id": "A1331_S9",
      "rule": "multiply by integrating factor",
      "premises": [
        "A1331_C11: g'(x) - (1/x) g(x) = 1",
        "A1331_C12: integrating factor μ(x) = 1/x"
      ],
      "conclusions": [
        "A1331_C13: (1/x) g'(x) - (1/x²) g(x) = 1/x"
      ]
    },
    {
      "id": "A1331_S10",
      "rule": "left side derivative recognition",
      "premises": [
        "A1331_C13: (1/x) g'(x) - (1/x²) g(x) = 1/x"
      ],
      "conclusions": [
        "A1331_C14: d/dx [g(x)/x] = 1/x"
      ]
    },
    {
      "id": "A1331_S11",
      "rule": "integration",
      "premises": [
        "A1331_C14: d/dx [g(x)/x] = 1/x"
      ],
      "conclusions": [
        "A1331_C15: g(x)/x = log x + C"
      ]
    },
    {
      "id": "A1331_S12",
      "rule": "multiply by x",
      "premises": [
        "A1331_C15: g(x)/x = log x + C"
      ],
      "conclusions": [
        "A1331_C16: g(x) = x (log x + C)"
      ]
    },
    {
      "id": "A1331_S13",
      "rule": "boundary condition",
      "premises": [
        "A1331_C8: g(x) = ∫_{1}^{x} f(y) dy"
      ],
      "conclusions": [
        "A1331_C17: g(1) = 0"
      ]
    },
    {
      "id": "A1331_S14",
      "rule": "apply boundary condition",
      "premises": [
        "A1331_C16: g(x) = x (log x + C)",
        "A1331_C17: g(1) = 0"
      ],
      "conclusions": [
        "A1331_C18: C = 0"
      ]
    },
    {
      "id": "A1331_S15",
      "rule": "substitute constant",
      "premises": [
        "A1331_C16: g(x) = x (log x + C)",
        "A1331_C18: C = 0"
      ],
      "conclusions": [
        "A1331_C19: g(x) = x log x"
      ]
    },
    {
      "id": "A1331_S16",
      "rule": "differentiation",
      "premises": [
        "A1331_C9: g'(x) = f(x)",
        "A1331_C19: g(x) = x log x"
      ],
      "conclusions": [
        "A1331_C20: f(x) = 1 + log x"
      ]
    },
    {
      "id": "A1331_S17",
      "rule": "evaluation at x=2016",
      "premises": [
        "A1331_C2: initial string length x = 2016 mm",
        "A1331_C20: f(x) = 1 + log x"
      ],
      "conclusions": [
        "A1331_C21: f(2016) = 1 + log 2016"
      ]
    },
    {
      "id": "B1242_S1",
      "rule": "problem connection",
      "premises": [
        "B1242_C1: expected number of cuts for initial length (b + 2004) = 1 + log((b + 2004))",
        "A1246_C12: b = 12"
      ],
      "conclusions": [
        "A1331_C1: expected number of cuts for initial length 2016 = 1 + log(2016)"
      ]
    }
  ]
}