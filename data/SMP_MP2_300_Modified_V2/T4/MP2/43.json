{
  "Problem_ID": 43,
  "Chunk_Type": "T4",
  "Class_ID": "B8658",
  "Multiple_Synthesis_Class": "MP2",
  "Sub_Class_ID": [
    {
      "A497": "A497_DG_1"
    },
    {
      "A60": "A60_DG_1"
    }
  ],
  "Synthesis_Trace": "DG-DG",
  "Synthesis_Status": "Continuable",
  "Math_Problem": "Triangle $ABC$ is inscribed in a circle of radius $2$ with $\\angle ABC \\geq 90^\\circ$, and $x$ is a real number satisfying the equation $x^4 + a x^3 + b x^2 + c x + 1 = 0$, where $a=BC$, $b=CA$, $c=AB$. Find all possible values of $x$. Instead of determining all possible real roots of the quartic equation with coefficients given by the side lengths, simply find $k = b + 2013$, where $b$ is the length of side $CA$. Find the numbers of ordered array $(x_1,...,x_{100})$ that satisfies the following conditions: $(i)$ $x_1,...,x_{100} \\in \\{1,2,..,k\\}$; $(ii)$ $k | x_1 + \\dots + x_{100}$; $(iii)$ $k | x_1^2 + \\dots + x_{100}^2$.",
  "Connecting_Sentence": [
    {
      "A497": "Instead of determining all possible real roots of the quartic equation with coefficients given by the side lengths, simply find $k = b + 2013$, where $b$ is the length of side $CA$."
    },
    {
      "A60": "None"
    }
  ],
  "Synthesised_By": [
    {
      "A497": "Triangle $ABC$ is inscribed in a circle of radius $2$ with $\\angle ABC \\geq 90^\\circ$ , and $x$ is a real number satisfying the equation $x^4 + ax^3 + bx^2 + cx + 1 = 0$ , where $a=BC,b=CA,c=AB$ . Find all possible values of $x$ . Instead of determining all possible real roots of the quartic equation with coefficients given by the side lengths, simply find $k = b + 2013$, where $b$ is the length of side $CA$."
    },
    {
      "A60": "Find the numbers of ordered array $(x_1,...,x_{100})$ that satisfies the following conditions:\n($i$)$x_1,...,x_{100}\\in\\{1,2,..,2017\\}$;\n($ii$)$2017|x_1+...+x_{100}$;\n($iii$)$2017|x_1^2+...+x_{100}^2$."
    }
  ],
  "Original_Problem": [
    {
      "A497": "Triangle $ABC$ is inscribed in a circle of radius $2$ with $\\angle ABC \\geq 90^\\circ$ , and $x$ is a real number satisfying the equation $x^4 + ax^3 + bx^2 + cx + 1 = 0$ , where $a=BC,b=CA,c=AB$ . Find all possible values of $x$ ."
    },
    {
      "A60": "Find the numbers of ordered array $(x_1,...,x_{100})$ that satisfies the following conditions:\n($i$)$x_1,...,x_{100}\\in\\{1,2,..,2017\\}$;\n($ii$)$2017|x_1+...+x_{100}$;\n($iii$)$2017|x_1^2+...+x_{100}^2$."
    }
  ],
  "Problem_Type": [
    {
      "A497": [
        "Mathematics -> Algebra -> Algebra -> Polynomial Operations",
        "Mathematics -> Geometry -> Plane Geometry -> Angles"
      ]
    },
    {
      "A60": [
        "Mathematics -> Number Theory -> Congruences",
        "Mathematics -> Applied Mathematics -> Statistics -> Probability -> Counting Methods -> Other"
      ]
    }
  ],
  "Problem_Level": [
    {
      "A497": "KbsdJames_Omni-MATH_6.5"
    },
    {
      "A60": "KbsdJames_Omni-MATH_6.5"
    }
  ],
  "Problem_Source": [
    {
      "A497": "usajmo"
    },
    {
      "A60": "china_team_selection_test"
    }
  ],
  "Problem_Length": [
    {
      "A497": 230
    },
    {
      "A60": 201
    }
  ],
  "Synthesised_Problem_Length": 631,
  "Ground_Truth": [
    {
      "A497": "The possible values of \\( x \\) are:\n\n\\[ -\\frac{\\sqrt{6}+\\sqrt{2}}{2} \\quad \\text{and} \\quad -\\frac{\\sqrt{6}-\\sqrt{2}}{2} \\]"
    },
    {
      "A60": "2017^{98}"
    }
  ],
  "Predicted_Answer": [
    {
      "A497": "-\frac{\\sqrt{6}+\\sqrt{2}}{2} and -\frac{\\sqrt{6}-\\sqrt{2}}{2}"
    },
    {
      "A60": "2017^{98}"
    }
  ],
  "Connecting_Point": [
    {
      "B8658": {
        "2017": "(b + 2013)"
      }
    }
  ],
  "Delta_Factor": [
    {
      "A497": 0.5
    },
    {
      "A60": 0.89
    }
  ],
  "Delta_Value": [
    {
      "A497": {
        "b": "4"
      }
    },
    {
      "A60": {
        "T": "0"
      }
    }
  ],
  "Delta_Depth": [
    {
      "A497": {
        "b": 15
      }
    },
    {
      "A60": {
        "T": 25
      }
    }
  ],
  "Delta_Source": [
    {
      "A497": "derived"
    },
    {
      "A60": "derived"
    }
  ],
  "Delta_Value_Order": [
    {
      "A497": 1
    },
    {
      "A60": 1
    }
  ],
  "Delta_Variable_Names": [
    {
      "A497": [
        "b"
      ]
    },
    {
      "A60": [
        "T"
      ]
    }
  ],
  "Delta_Socket": [
    {
      "A497": {
        "4": 4.0
      }
    },
    {
      "A60": {
        "2017": 2017.0
      }
    }
  ],
  "Source_Delta_Socket": [
    {
      "A497": "goal"
    },
    {
      "A60": "goal"
    }
  ],
  "Delta_Socket_Order": [
    {
      "A497": 1
    },
    {
      "A60": 1
    }
  ],
  "Variable_Names": [
    {
      "A497": [
        "A",
        "B",
        "C",
        "x",
        "c",
        "b",
        "a"
      ]
    },
    {
      "A60": [
        "x",
        "i"
      ]
    }
  ],
  "Total_Claims": [
    {
      "A497": 30
    },
    {
      "A60": 28
    }
  ],
  "Total_Delta": [
    {
      "A497": 1
    },
    {
      "A60": 1
    }
  ],
  "Total_Delta_Socket": [
    {
      "A497": 1
    },
    {
      "A60": 1
    }
  ],
  "Max_Delta_Factor": [
    {
      "A497": 0.5
    },
    {
      "A60": 0.89
    }
  ],
  "Min_Delta_Factor": [
    {
      "A497": 0.5
    },
    {
      "A60": 0.89
    }
  ],
  "Max_Delta_Depth": [
    {
      "A497": 15
    },
    {
      "A60": 25
    }
  ],
  "Min_Delta_Depth": [
    {
      "A497": 15
    },
    {
      "A60": 25
    }
  ],
  "Claims": [
    {
      "id": "A497_C1",
      "type": "goal",
      "expr": "all possible real x satisfying x^4 + a x^3 + b x^2 + c x + 1 = 0"
    },
    {
      "id": "A497_C2",
      "type": "context",
      "expr": "radius R = 2"
    },
    {
      "id": "A497_C3",
      "type": "context",
      "expr": "∠ABC ≥ 90°"
    },
    {
      "id": "A497_C4",
      "type": "context",
      "expr": "a = BC > 0, b = CA > 0, c = AB > 0"
    },
    {
      "id": "A497_C5",
      "type": "context",
      "expr": "P(x) = x^4 + a x^3 + b x^2 + c x + 1"
    },
    {
      "id": "A497_C6",
      "type": "derived",
      "expr": "b ≤ 4"
    },
    {
      "id": "A497_C7",
      "type": "derived",
      "expr": "b^2 ≥ a^2 + c^2"
    },
    {
      "id": "A497_C8",
      "type": "derived",
      "expr": "P(x) = (x^2 + (a/2) x)^2 + ((c/2) x + 1)^2 + (b - a^2/4 - c^2/4) x^2"
    },
    {
      "id": "A497_C9",
      "type": "derived",
      "expr": "if b > a^2/4 + c^2/4 then P(x) > 0 for all real x"
    },
    {
      "id": "A497_C10",
      "type": "derived",
      "expr": "b ≤ (a^2 + c^2)/4"
    },
    {
      "id": "A497_C11",
      "type": "derived",
      "expr": "a^2 + c^2 ≥ 4 b"
    },
    {
      "id": "A497_C12",
      "type": "derived",
      "expr": "4 b ≤ a^2 + c^2 ≤ b^2"
    },
    {
      "id": "A497_C13",
      "type": "derived",
      "expr": "4 b ≤ b^2"
    },
    {
      "id": "A497_C14",
      "type": "derived",
      "expr": "b ≥ 4"
    },
    {
      "id": "A497_C15",
      "type": "derived",
      "expr": "b = 4"
    },
    {
      "id": "A497_C16",
      "type": "derived",
      "expr": "a^2 + c^2 = 16"
    },
    {
      "id": "A497_C17",
      "type": "derived",
      "expr": "P(x) = (x^2 + (a/2) x)^2 + ((c/2) x + 1)^2"
    },
    {
      "id": "A497_C18",
      "type": "derived",
      "expr": "x^2 + (a/2) x = 0 and (c/2) x + 1 = 0"
    },
    {
      "id": "A497_C19",
      "type": "derived",
      "expr": "x = -2/c"
    },
    {
      "id": "A497_C20",
      "type": "derived",
      "expr": "x = 0 or x = -a/2"
    },
    {
      "id": "A497_C21",
      "type": "derived",
      "expr": "0 ≠ -2/c"
    },
    {
      "id": "A497_C22",
      "type": "derived",
      "expr": "-a/2 = -2/c"
    },
    {
      "id": "A497_C23",
      "type": "derived",
      "expr": "a c = 4"
    },
    {
      "id": "A497_C24",
      "type": "derived",
      "expr": "(a + c)^2 = 24"
    },
    {
      "id": "A497_C25",
      "type": "derived",
      "expr": "a + c = 2 √6"
    },
    {
      "id": "A497_C26",
      "type": "derived",
      "expr": "(a - c)^2 = 8"
    },
    {
      "id": "A497_C27",
      "type": "derived",
      "expr": "a - c = ± 2 √2"
    },
    {
      "id": "A497_C28",
      "type": "derived",
      "expr": "(a, c) = (√6 + √2, √6 - √2) or (√6 - √2, √6 + √2)"
    },
    {
      "id": "A497_C29",
      "type": "derived",
      "expr": "x = -a/2"
    },
    {
      "id": "A497_C30",
      "type": "final",
      "expr": "x = - (√6 + √2)/2 or x = - (√6 - √2)/2"
    },
    {
      "id": "A60_C1",
      "type": "derived",
      "expr": "Find the number of ordered arrays (x_1,...,x_100) with x_i ∈ {1,2,...,2017}, 2017 | ∑ x_i, 2017 | ∑ x_i^2"
    },
    {
      "id": "A60_C2",
      "type": "context",
      "expr": "p = 2017 is prime"
    },
    {
      "id": "A60_C3",
      "type": "context",
      "expr": "x_i ∈ {1,2,...,p} for i=1,...,100"
    },
    {
      "id": "A60_C4",
      "type": "context",
      "expr": "∑_{i=1}^{100} x_i ≡ 0 (mod p)"
    },
    {
      "id": "A60_C5",
      "type": "context",
      "expr": "∑_{i=1}^{100} x_i^2 ≡ 0 (mod p)"
    },
    {
      "id": "A60_C6",
      "type": "derived",
      "expr": "ω is a primitive p-th root of unity"
    },
    {
      "id": "A60_C7",
      "type": "derived",
      "expr": "∑_{k=0}^{p-1} ω^{k s} = p ⋅ 1_{s ≡ 0 mod p}"
    },
    {
      "id": "A60_C8",
      "type": "derived",
      "expr": "∑_{a=0}^{p-1} ∑_{b=0}^{p-1} ω^{a ∑ x_i^2 + b ∑ x_i} = p^2 ⋅ 1_{∑ x_i ≡ 0 mod p and ∑ x_i^2 ≡ 0 mod p}"
    },
    {
      "id": "A60_C9",
      "type": "derived",
      "expr": "p^2 N = ∑_{tuples} ∑_{a,b=0}^{p-1} ω^{a ∑ x_i^2 + b ∑ x_i}"
    },
    {
      "id": "A60_C10",
      "type": "derived",
      "expr": "p^2 N = ∑_{a=0}^{p-1} ∑_{b=0}^{p-1} (∑_{x=1}^p ω^{a x^2 + b x})^{100}"
    },
    {
      "id": "A60_C11",
      "type": "derived",
      "expr": "∑_{x=1}^p ω^{a x^2 + b x} = S(a,b) := ∑_{x=0}^{p-1} ω^{a x^2 + b x}"
    },
    {
      "id": "A60_C12",
      "type": "derived",
      "expr": "p^2 N = ∑_{a=0}^{p-1} ∑_{b=0}^{p-1} S(a,b)^{100}"
    },
    {
      "id": "A60_C13",
      "type": "derived",
      "expr": "S(0,b) = p if b=0, 0 otherwise"
    },
    {
      "id": "A60_C14",
      "type": "derived",
      "expr": "∑_{b=0}^{p-1} S(0,b)^{100} = p^{100}"
    },
    {
      "id": "A60_C15",
      "type": "derived",
      "expr": "For a ≠ 0, a x^2 + b x = a (x + b/(2a))^2 - b^2/(4a) mod p"
    },
    {
      "id": "A60_C16",
      "type": "derived",
      "expr": "For a ≠ 0, S(a,b) = ω^{-b^2/(4a)} G(a), G(a) = ∑_{x=0}^{p-1} ω^{a x^2}"
    },
    {
      "id": "A60_C17",
      "type": "derived",
      "expr": "G(a) = (a/p) G(1) for a ≠ 0"
    },
    {
      "id": "A60_C18",
      "type": "derived",
      "expr": "G(a)^{100} = G(1)^{100} for a ≠ 0"
    },
    {
      "id": "A60_C19",
      "type": "derived",
      "expr": "For a ≠ 0, S(a,b)^{100} = ω^{-25 b^2 / a} G(1)^{100}"
    },
    {
      "id": "A60_C20",
      "type": "derived",
      "expr": "∑_{a=1}^{p-1} ∑_{b=0}^{p-1} S(a,b)^{100} = G(1)^{100} ⋅ T, T = ∑_{a=1}^{p-1} ∑_{b=0}^{p-1} ω^{-25 b^2 / a}"
    },
    {
      "id": "A60_C21",
      "type": "derived",
      "expr": "T = ∑_{b=0}^{p-1} ∑_{a=1}^{p-1} ω^{c b^2 / a}, c ≡ -25 ≠ 0 mod p"
    },
    {
      "id": "A60_C22",
      "type": "derived",
      "expr": "b=0 contribution to T: p-1"
    },
    {
      "id": "A60_C23",
      "type": "derived",
      "expr": "For b ≠ 0, ∑_{a=1}^{p-1} ω^{(c b^2)/a} = -1"
    },
    {
      "id": "A60_C24",
      "type": "derived",
      "expr": "∑_{b=1}^{p-1} ∑_{a=1}^{p-1} ω^{c b^2 / a} = (p-1) (-1)"
    },
    {
      "id": "A60_C25",
      "type": "derived",
      "expr": "T = 0"
    },
    {
      "id": "A60_C26",
      "type": "derived",
      "expr": "∑_{a=1}^{p-1} ∑_{b=0}^{p-1} S(a,b)^{100} = 0"
    },
    {
      "id": "A60_C27",
      "type": "derived",
      "expr": "p^2 N = p^{100}"
    },
    {
      "id": "A60_C28",
      "type": "final",
      "expr": "N = p^{98}"
    },
    {
      "id": "B8658_C1",
      "type": "goal",
      "expr": "Find the number of ordered arrays (x_1,...,x_100) with x_i ∈ {1,2,...,2017}, (b + 2013) | ∑ x_i, (b + 2013) | ∑ x_i^2"
    }
  ],
  "Steps": [
    {
      "id": "A497_S1",
      "rule": "problem setup",
      "premises": [
        "A497_C1: all possible real x satisfying x^4 + a x^3 + b x^2 + c x + 1 = 0"
      ],
      "conclusions": [
        "A497_C2: radius R = 2",
        "A497_C3: ∠ABC ≥ 90°",
        "A497_C4: a = BC > 0, b = CA > 0, c = AB > 0",
        "A497_C5: P(x) = x^4 + a x^3 + b x^2 + c x + 1"
      ]
    },
    {
      "id": "A497_S2",
      "rule": "diameter bound",
      "premises": [
        "A497_C2: radius R = 2",
        "A497_C4: a = BC > 0, b = CA > 0, c = AB > 0"
      ],
      "conclusions": [
        "A497_C6: b ≤ 4"
      ]
    },
    {
      "id": "A497_S3",
      "rule": "law of cosines with cos ∠B ≤ 0",
      "premises": [
        "A497_C3: ∠ABC ≥ 90°",
        "A497_C4: a = BC > 0, b = CA > 0, c = AB > 0"
      ],
      "conclusions": [
        "A497_C7: b^2 ≥ a^2 + c^2"
      ]
    },
    {
      "id": "A497_S4",
      "rule": "polynomial rewriting",
      "premises": [
        "A497_C5: P(x) = x^4 + a x^3 + b x^2 + c x + 1"
      ],
      "conclusions": [
        "A497_C8: P(x) = (x^2 + (a/2) x)^2 + ((c/2) x + 1)^2 + (b - a^2/4 - c^2/4) x^2"
      ]
    },
    {
      "id": "A497_S5",
      "rule": "positivity analysis",
      "premises": [
        "A497_C8: P(x) = (x^2 + (a/2) x)^2 + ((c/2) x + 1)^2 + (b - a^2/4 - c^2/4) x^2"
      ],
      "conclusions": [
        "A497_C9: if b > a^2/4 + c^2/4 then P(x) > 0 for all real x"
      ]
    },
    {
      "id": "A497_S6",
      "rule": "necessary condition",
      "premises": [
        "A497_C9: if b > a^2/4 + c^2/4 then P(x) > 0 for all real x",
        "A497_C1: all possible real x satisfying x^4 + a x^3 + b x^2 + c x + 1 = 0"
      ],
      "conclusions": [
        "A497_C10: b ≤ (a^2 + c^2)/4"
      ]
    },
    {
      "id": "A497_S7",
      "rule": "inequality rearrangement",
      "premises": [
        "A497_C10: b ≤ (a^2 + c^2)/4"
      ],
      "conclusions": [
        "A497_C11: a^2 + c^2 ≥ 4 b"
      ]
    },
    {
      "id": "A497_S8",
      "rule": "combine inequalities",
      "premises": [
        "A497_C11: a^2 + c^2 ≥ 4 b",
        "A497_C7: b^2 ≥ a^2 + c^2"
      ],
      "conclusions": [
        "A497_C12: 4 b ≤ a^2 + c^2 ≤ b^2"
      ]
    },
    {
      "id": "A497_S9",
      "rule": "transitivity of inequality",
      "premises": [
        "A497_C12: 4 b ≤ a^2 + c^2 ≤ b^2"
      ],
      "conclusions": [
        "A497_C13: 4 b ≤ b^2"
      ]
    },
    {
      "id": "A497_S10",
      "rule": "solve b^2 - 4b ≥ 0 for b > 0",
      "premises": [
        "A497_C13: 4 b ≤ b^2",
        "A497_C4: a = BC > 0, b = CA > 0, c = AB > 0"
      ],
      "conclusions": [
        "A497_C14: b ≥ 4"
      ]
    },
    {
      "id": "A497_S11",
      "rule": "equality from lower and upper bounds",
      "premises": [
        "A497_C14: b ≥ 4",
        "A497_C6: b ≤ 4"
      ],
      "conclusions": [
        "A497_C15: b = 4"
      ]
    },
    {
      "id": "A497_S12",
      "rule": "substitute b=4 into inequalities",
      "premises": [
        "A497_C12: 4 b ≤ a^2 + c^2 ≤ b^2",
        "A497_C15: b = 4"
      ],
      "conclusions": [
        "A497_C16: a^2 + c^2 = 16"
      ]
    },
    {
      "id": "A497_S13",
      "rule": "set k=0 in rewriting",
      "premises": [
        "A497_C8: P(x) = (x^2 + (a/2) x)^2 + ((c/2) x + 1)^2 + (b - a^2/4 - c^2/4) x^2",
        "A497_C15: b = 4",
        "A497_C16: a^2 + c^2 = 16"
      ],
      "conclusions": [
        "A497_C17: P(x) = (x^2 + (a/2) x)^2 + ((c/2) x + 1)^2"
      ]
    },
    {
      "id": "A497_S14",
      "rule": "sum of squares zero implies each zero",
      "premises": [
        "A497_C17: P(x) = (x^2 + (a/2) x)^2 + ((c/2) x + 1)^2",
        "A497_C1: all possible real x satisfying x^4 + a x^3 + b x^2 + c x + 1 = 0"
      ],
      "conclusions": [
        "A497_C18: x^2 + (a/2) x = 0 and (c/2) x + 1 = 0"
      ]
    },
    {
      "id": "A497_S15",
      "rule": "solve linear equation",
      "premises": [
        "A497_C18: x^2 + (a/2) x = 0 and (c/2) x + 1 = 0"
      ],
      "conclusions": [
        "A497_C19: x = -2/c"
      ]
    },
    {
      "id": "A497_S16",
      "rule": "solve quadratic equation",
      "premises": [
        "A497_C18: x^2 + (a/2) x = 0 and (c/2) x + 1 = 0"
      ],
      "conclusions": [
        "A497_C20: x = 0 or x = -a/2"
      ]
    },
    {
      "id": "A497_S17",
      "rule": "contradiction check",
      "premises": [
        "A497_C19: x = -2/c",
        "A497_C4: a = BC > 0, b = CA > 0, c = AB > 0"
      ],
      "conclusions": [
        "A497_C21: 0 ≠ -2/c"
      ]
    },
    {
      "id": "A497_S18",
      "rule": "require common root excluding x=0",
      "premises": [
        "A497_C19: x = -2/c",
        "A497_C20: x = 0 or x = -a/2",
        "A497_C21: 0 ≠ -2/c"
      ],
      "conclusions": [
        "A497_C22: -a/2 = -2/c"
      ]
    },
    {
      "id": "A497_S19",
      "rule": "algebraic simplification",
      "premises": [
        "A497_C22: -a/2 = -2/c"
      ],
      "conclusions": [
        "A497_C23: a c = 4"
      ]
    },
    {
      "id": "A497_S20",
      "rule": "expand (a+c)^2",
      "premises": [
        "A497_C16: a^2 + c^2 = 16",
        "A497_C23: a c = 4"
      ],
      "conclusions": [
        "A497_C24: (a + c)^2 = 24"
      ]
    },
    {
      "id": "A497_S21",
      "rule": "positive root",
      "premises": [
        "A497_C24: (a + c)^2 = 24",
        "A497_C4: a = BC > 0, b = CA > 0, c = AB > 0"
      ],
      "conclusions": [
        "A497_C25: a + c = 2 √6"
      ]
    },
    {
      "id": "A497_S22",
      "rule": "expand (a-c)^2",
      "premises": [
        "A497_C16: a^2 + c^2 = 16",
        "A497_C23: a c = 4"
      ],
      "conclusions": [
        "A497_C26: (a - c)^2 = 8"
      ]
    },
    {
      "id": "A497_S23",
      "rule": "square roots",
      "premises": [
        "A497_C26: (a - c)^2 = 8"
      ],
      "conclusions": [
        "A497_C27: a - c = ± 2 √2"
      ]
    },
    {
      "id": "A497_S24",
      "rule": "solve linear system for a, c > 0",
      "premises": [
        "A497_C25: a + c = 2 √6",
        "A497_C27: a - c = ± 2 √2",
        "A497_C4: a = BC > 0, b = CA > 0, c = AB > 0"
      ],
      "conclusions": [
        "A497_C28: (a, c) = (√6 + √2, √6 - √2) or (√6 - √2, √6 + √2)"
      ]
    },
    {
      "id": "A497_S25",
      "rule": "x from common root",
      "premises": [
        "A497_C22: -a/2 = -2/c"
      ],
      "conclusions": [
        "A497_C29: x = -a/2"
      ]
    },
    {
      "id": "A497_S26",
      "rule": "substitute (a,c) pairs",
      "premises": [
        "A497_C28: (a, c) = (√6 + √2, √6 - √2) or (√6 - √2, √6 + √2)",
        "A497_C29: x = -a/2"
      ],
      "conclusions": [
        "A497_C30: x = - (√6 + √2)/2 or x = - (√6 - √2)/2"
      ]
    },
    {
      "id": "A60_S1",
      "rule": "problem setup",
      "premises": [
        "A60_C1: Find the number of ordered arrays (x_1,...,x_100) with x_i ∈ {1,2,...,2017}, 2017 | ∑ x_i, 2017 | ∑ x_i^2"
      ],
      "conclusions": [
        "A60_C2: p = 2017 is prime",
        "A60_C3: x_i ∈ {1,2,...,p} for i=1,...,100",
        "A60_C4: ∑_{i=1}^{100} x_i ≡ 0 (mod p)",
        "A60_C5: ∑_{i=1}^{100} x_i^2 ≡ 0 (mod p)"
      ]
    },
    {
      "id": "A60_S2",
      "rule": "define roots of unity",
      "premises": [
        "A60_C2: p = 2017 is prime"
      ],
      "conclusions": [
        "A60_C6: ω is a primitive p-th root of unity"
      ]
    },
    {
      "id": "A60_S3",
      "rule": "roots of unity filter one condition",
      "premises": [
        "A60_C6: ω is a primitive p-th root of unity"
      ],
      "conclusions": [
        "A60_C7: ∑_{k=0}^{p-1} ω^{k s} = p ⋅ 1_{s ≡ 0 mod p}"
      ]
    },
    {
      "id": "A60_S4",
      "rule": "roots of unity filter two conditions",
      "premises": [
        "A60_C7: ∑_{k=0}^{p-1} ω^{k s} = p ⋅ 1_{s ≡ 0 mod p}",
        "A60_C4: ∑_{i=1}^{100} x_i ≡ 0 (mod p)",
        "A60_C5: ∑_{i=1}^{100} x_i^2 ≡ 0 (mod p)"
      ],
      "conclusions": [
        "A60_C8: ∑_{a=0}^{p-1} ∑_{b=0}^{p-1} ω^{a ∑ x_i^2 + b ∑ x_i} = p^2 ⋅ 1_{∑ x_i ≡ 0 mod p and ∑ x_i^2 ≡ 0 mod p}"
      ]
    },
    {
      "id": "A60_S5",
      "rule": "apply filter to count N",
      "premises": [
        "A60_C8: ∑_{a=0}^{p-1} ∑_{b=0}^{p-1} ω^{a ∑ x_i^2 + b ∑ x_i} = p^2 ⋅ 1_{∑ x_i ≡ 0 mod p and ∑ x_i^2 ≡ 0 mod p}"
      ],
      "conclusions": [
        "A60_C9: p^2 N = ∑_{tuples} ∑_{a,b=0}^{p-1} ω^{a ∑ x_i^2 + b ∑ x_i}"
      ]
    },
    {
      "id": "A60_S6",
      "rule": "interchange sums",
      "premises": [
        "A60_C9: p^2 N = ∑_{tuples} ∑_{a,b=0}^{p-1} ω^{a ∑ x_i^2 + b ∑ x_i}",
        "A60_C3: x_i ∈ {1,2,...,p} for i=1,...,100"
      ],
      "conclusions": [
        "A60_C10: p^2 N = ∑_{a=0}^{p-1} ∑_{b=0}^{p-1} (∑_{x=1}^p ω^{a x^2 + b x})^{100}"
      ]
    },
    {
      "id": "A60_S7",
      "rule": "equivalence of sum ranges mod p",
      "premises": [
        "A60_C10: p^2 N = ∑_{a=0}^{p-1} ∑_{b=0}^{p-1} (∑_{x=1}^p ω^{a x^2 + b x})^{100}",
        "A60_C2: p = 2017 is prime",
        "A60_C3: x_i ∈ {1,2,...,p} for i=1,...,100"
      ],
      "conclusions": [
        "A60_C11: ∑_{x=1}^p ω^{a x^2 + b x} = S(a,b) := ∑_{x=0}^{p-1} ω^{a x^2 + b x}"
      ]
    },
    {
      "id": "A60_S8",
      "rule": "define S(a,b) and substitute",
      "premises": [
        "A60_C10: p^2 N = ∑_{a=0}^{p-1} ∑_{b=0}^{p-1} (∑_{x=1}^p ω^{a x^2 + b x})^{100}",
        "A60_C11: ∑_{x=1}^p ω^{a x^2 + b x} = S(a,b) := ∑_{x=0}^{p-1} ω^{a x^2 + b x}"
      ],
      "conclusions": [
        "A60_C12: p^2 N = ∑_{a=0}^{p-1} ∑_{b=0}^{p-1} S(a,b)^{100}"
      ]
    },
    {
      "id": "A60_S9",
      "rule": "evaluate S(0,b)",
      "premises": [
        "A60_C12: p^2 N = ∑_{a=0}^{p-1} ∑_{b=0}^{p-1} S(a,b)^{100}",
        "A60_C7: ∑_{k=0}^{p-1} ω^{k s} = p ⋅ 1_{s ≡ 0 mod p}"
      ],
      "conclusions": [
        "A60_C13: S(0,b) = p if b=0, 0 otherwise"
      ]
    },
    {
      "id": "A60_S10",
      "rule": "a=0 contribution",
      "premises": [
        "A60_C13: S(0,b) = p if b=0, 0 otherwise"
      ],
      "conclusions": [
        "A60_C14: ∑_{b=0}^{p-1} S(0,b)^{100} = p^{100}"
      ]
    },
    {
      "id": "A60_S11",
      "rule": "complete the square",
      "premises": [
        "A60_C2: p = 2017 is prime"
      ],
      "conclusions": [
        "A60_C15: For a ≠ 0, a x^2 + b x = a (x + b/(2a))^2 - b^2/(4a) mod p"
      ]
    },
    {
      "id": "A60_S12",
      "rule": "apply completing the square to S(a,b)",
      "premises": [
        "A60_C15: For a ≠ 0, a x^2 + b x = a (x + b/(2a))^2 - b^2/(4a) mod p",
        "A60_C11: ∑_{x=1}^p ω^{a x^2 + b x} = S(a,b) := ∑_{x=0}^{p-1} ω^{a x^2 + b x}"
      ],
      "conclusions": [
        "A60_C16: For a ≠ 0, S(a,b) = ω^{-b^2/(4a)} G(a), G(a) = ∑_{x=0}^{p-1} ω^{a x^2}"
      ]
    },
    {
      "id": "A60_S13",
      "rule": "Gauss sum scaling",
      "premises": [
        "A60_C2: p = 2017 is prime"
      ],
      "conclusions": [
        "A60_C17: G(a) = (a/p) G(1) for a ≠ 0"
      ]
    },
    {
      "id": "A60_S14",
      "rule": "even power on Legendre symbol",
      "premises": [
        "A60_C17: G(a) = (a/p) G(1) for a ≠ 0"
      ],
      "conclusions": [
        "A60_C18: G(a)^{100} = G(1)^{100} for a ≠ 0"
      ]
    },
    {
      "id": "A60_S15",
      "rule": "raise S(a,b) to 100th power",
      "premises": [
        "A60_C16: For a ≠ 0, S(a,b) = ω^{-b^2/(4a)} G(a), G(a) = ∑_{x=0}^{p-1} ω^{a x^2}",
        "A60_C18: G(a)^{100} = G(1)^{100} for a ≠ 0"
      ],
      "conclusions": [
        "A60_C19: For a ≠ 0, S(a,b)^{100} = ω^{-25 b^2 / a} G(1)^{100}"
      ]
    },
    {
      "id": "A60_S16",
      "rule": "sum over a ≠ 0",
      "premises": [
        "A60_C12: p^2 N = ∑_{a=0}^{p-1} ∑_{b=0}^{p-1} S(a,b)^{100}",
        "A60_C19: For a ≠ 0, S(a,b)^{100} = ω^{-25 b^2 / a} G(1)^{100}"
      ],
      "conclusions": [
        "A60_C20: ∑_{a=1}^{p-1} ∑_{b=0}^{p-1} S(a,b)^{100} = G(1)^{100} ⋅ T, T = ∑_{a=1}^{p-1} ∑_{b=0}^{p-1} ω^{-25 b^2 / a}"
      ]
    },
    {
      "id": "A60_S17",
      "rule": "define auxiliary sum T",
      "premises": [
        "A60_C20: ∑_{a=1}^{p-1} ∑_{b=0}^{p-1} S(a,b)^{100} = G(1)^{100} ⋅ T, T = ∑_{a=1}^{p-1} ∑_{b=0}^{p-1} ω^{-25 b^2 / a}"
      ],
      "conclusions": [
        "A60_C21: T = ∑_{b=0}^{p-1} ∑_{a=1}^{p-1} ω^{c b^2 / a}, c ≡ -25 ≠ 0 mod p"
      ]
    },
    {
      "id": "A60_S18",
      "rule": "split T at b=0",
      "premises": [
        "A60_C21: T = ∑_{b=0}^{p-1} ∑_{a=1}^{p-1} ω^{c b^2 / a}, c ≡ -25 ≠ 0 mod p"
      ],
      "conclusions": [
        "A60_C22: b=0 contribution to T: p-1"
      ]
    },
    {
      "id": "A60_S19",
      "rule": "sum over a via inversion",
      "premises": [
        "A60_C2: p = 2017 is prime",
        "A60_C21: T = ∑_{b=0}^{p-1} ∑_{a=1}^{p-1} ω^{c b^2 / a}, c ≡ -25 ≠ 0 mod p"
      ],
      "conclusions": [
        "A60_C23: For b ≠ 0, ∑_{a=1}^{p-1} ω^{(c b^2)/a} = -1"
      ]
    },
    {
      "id": "A60_S20",
      "rule": "sum over b ≠ 0",
      "premises": [
        "A60_C23: For b ≠ 0, ∑_{a=1}^{p-1} ω^{(c b^2)/a} = -1"
      ],
      "conclusions": [
        "A60_C24: ∑_{b=1}^{p-1} ∑_{a=1}^{p-1} ω^{c b^2 / a} = (p-1) (-1)"
      ]
    },
    {
      "id": "A60_S21",
      "rule": "evaluate T",
      "premises": [
        "A60_C22: b=0 contribution to T: p-1",
        "A60_C24: ∑_{b=1}^{p-1} ∑_{a=1}^{p-1} ω^{c b^2 / a} = (p-1) (-1)"
      ],
      "conclusions": [
        "A60_C25: T = 0"
      ]
    },
    {
      "id": "A60_S22",
      "rule": "a ≠ 0 total contribution",
      "premises": [
        "A60_C20: ∑_{a=1}^{p-1} ∑_{b=0}^{p-1} S(a,b)^{100} = G(1)^{100} ⋅ T, T = ∑_{a=1}^{p-1} ∑_{b=0}^{p-1} ω^{-25 b^2 / a}",
        "A60_C25: T = 0"
      ],
      "conclusions": [
        "A60_C26: ∑_{a=1}^{p-1} ∑_{b=0}^{p-1} S(a,b)^{100} = 0"
      ]
    },
    {
      "id": "A60_S23",
      "rule": "combine a=0 and a ≠ 0",
      "premises": [
        "A60_C12: p^2 N = ∑_{a=0}^{p-1} ∑_{b=0}^{p-1} S(a,b)^{100}",
        "A60_C14: ∑_{b=0}^{p-1} S(0,b)^{100} = p^{100}",
        "A60_C26: ∑_{a=1}^{p-1} ∑_{b=0}^{p-1} S(a,b)^{100} = 0"
      ],
      "conclusions": [
        "A60_C27: p^2 N = p^{100}"
      ]
    },
    {
      "id": "A60_S24",
      "rule": "solve for N",
      "premises": [
        "A60_C27: p^2 N = p^{100}"
      ],
      "conclusions": [
        "A60_C28: N = p^{98}"
      ]
    },
    {
      "id": "B8658_S1",
      "rule": "problem connection",
      "premises": [
        "B8658_C1: Find the number of ordered arrays (x_1,...,x_100) with x_i ∈ {1,2,...,2017}, (b + 2013) | ∑ x_i, (b + 2013) | ∑ x_i^2",
        "A497_C15: b = 4"
      ],
      "conclusions": [
        "A60_C1: Find the number of ordered arrays (x_1,...,x_100) with x_i ∈ {1,2,...,2017}, 2017 | ∑ x_i, 2017 | ∑ x_i^2"
      ]
    }
  ]
}