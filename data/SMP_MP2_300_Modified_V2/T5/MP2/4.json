{
  "Problem_ID": 4,
  "Chunk_Type": "T5",
  "Class_ID": "B236",
  "Multiple_Synthesis_Class": "MP2",
  "Sub_Class_ID": [
    {
      "A262": "A262_DG_1"
    },
    {
      "A113": "A113_DG_4"
    }
  ],
  "Synthesis_Trace": "DG-DG",
  "Synthesis_Status": "Continuable",
  "Math_Problem": "Let $ (a_{n}) $ be the sequence of reals defined by $ a_{1}=\\frac{1}{4} $ and the recurrence $ a_{n}= \\frac{1}{4}(1+a_{n-1})^{2}, n\\geq 2 $. Find the minimum real $ \\lambda $ such that for any non-negative reals $ x_{1},x_{2},\\dots,x_{2002} $, it holds\n\\[ \\sum_{k=1}^{2002}A_{k}\\leq \\lambda a_{2002}, \\]\nwhere $  A_{k}= \\frac{x_{k}-k}{(x_{k}+\\cdots+x_{2002}+\\frac{k(k-1)}{2}+1)^{2}}, k\\geq 1 $. Instead of determining the infimal constant that majorizes the aggregate of the deviation terms normalized by cumulative sums plus quadratic offsets in terms of the terminal sequence value for all non-negative inputs, simply find $\\delta = t - \\frac{4003}{2}$, where $t$ is the cardinality of the collection of non-negative real variables. Determine all functions $f: \\mathbb{Q} \\to \\mathbb{Q}$ such that\n$$f(2xy + \\delta) + f(x-y) = 4f(x)f(y) + \\delta$$\nfor all $x,y \\in \\mathbb{Q}$.",
  "Connecting_Sentence": [
    {
      "A262": "Instead of determining the infimal constant that majorizes the aggregate of the deviation terms normalized by cumulative sums plus quadratic offsets in terms of the terminal sequence value for all non-negative inputs, simply find $\\delta = t - \\frac{4003}{2}$, where $t$ is the cardinality of the collection of non-negative real variables."
    },
    {
      "A113": "None"
    }
  ],
  "Synthesised_By": [
    {
      "A262": "Let $ \\left(a_{n}\\right)$ be the sequence of reals defined by $ a_{1}=\\frac{1}{4}$ and the recurrence $ a_{n}= \\frac{1}{4}(1+a_{n-1})^{2}, n\\geq 2$. Find the minimum real $ \\lambda$ such that for any non-negative reals $ x_{1},x_{2},\\dots,x_{2002}$, it holds\r\n\\[ \\sum_{k=1}^{2002}A_{k}\\leq \\lambda a_{2002}, \\]\r\nwhere $  A_{k}= \\frac{x_{k}-k}{(x_{k}+\\cdots+x_{2002}+\\frac{k(k-1)}{2}+1)^{2}}, k\\geq 1$. Instead of determining the infimal constant that majorizes the aggregate of the deviation terms normalized by cumulative sums plus quadratic offsets in terms of the terminal sequence value for all non-negative inputs, simply find $\\delta = t - \\frac{4003}{2}$, where $t$ is the cardinality of the collection of non-negative real variables."
    },
    {
      "A113": "Determine all functions $f: \\mathbb{Q} \\to \\mathbb{Q}$ such that\n$$f(2xy + \\frac{1}{2}) + f(x-y) = 4f(x)f(y) + \\frac{1}{2}$$\nfor all $x,y \\in \\mathbb{Q}$."
    }
  ],
  "Original_Problem": [
    {
      "A262": "Let $ \\left(a_{n}\\right)$ be the sequence of reals defined by $ a_{1}=\\frac{1}{4}$ and the recurrence $ a_{n}= \\frac{1}{4}(1+a_{n-1})^{2}, n\\geq 2$. Find the minimum real $ \\lambda$ such that for any non-negative reals $ x_{1},x_{2},\\dots,x_{2002}$, it holds\r\n\\[ \\sum_{k=1}^{2002}A_{k}\\leq \\lambda a_{2002}, \\]\r\nwhere $  A_{k}= \\frac{x_{k}-k}{(x_{k}+\\cdots+x_{2002}+\\frac{k(k-1)}{2}+1)^{2}}, k\\geq 1$."
    },
    {
      "A113": "Determine all functions $f: \\mathbb{Q} \\to \\mathbb{Q}$ such that\n$$f(2xy + \\frac{1}{2}) + f(x-y) = 4f(x)f(y) + \\frac{1}{2}$$\nfor all $x,y \\in \\mathbb{Q}$."
    }
  ],
  "Problem_Type": [
    {
      "A262": [
        "Mathematics -> Algebra -> Intermediate Algebra -> Recursive Sequences -> Other"
      ]
    },
    {
      "A113": [
        "Mathematics -> Algebra -> Algebra -> Algebraic Expressions",
        "Mathematics -> Algebra -> Algebra -> Equations and Inequalities"
      ]
    }
  ],
  "Problem_Level": [
    {
      "A262": "KbsdJames_Omni-MATH_8.0"
    },
    {
      "A113": "KbsdJames_Omni-MATH_8.0"
    }
  ],
  "Problem_Source": [
    {
      "A262": "china_team_selection_test"
    },
    {
      "A113": "china_team_selection_test"
    }
  ],
  "Problem_Length": [
    {
      "A262": 401
    },
    {
      "A113": 154
    }
  ],
  "Synthesised_Problem_Length": 879,
  "Ground_Truth": [
    {
      "A262": "\\frac{1}{2005004}"
    },
    {
      "A113": "f(x) = x^2 + \\frac{1}{2}"
    }
  ],
  "Predicted_Answer": [
    {
      "A262": "1/2005004"
    },
    {
      "A113": "f(x) = x^2 + 1/4"
    }
  ],
  "Connecting_Point": [
    {
      "B236": {
        "1/2": "(t - 4003/2)"
      }
    }
  ],
  "Delta_Factor": [
    {
      "A262": 0.15
    },
    {
      "A113": 0.97
    }
  ],
  "Delta_Value": [
    {
      "A262": {
        "t": "2002"
      }
    },
    {
      "A113": {
        "b": "0"
      }
    }
  ],
  "Delta_Depth": [
    {
      "A262": {
        "t": 5
      }
    },
    {
      "A113": {
        "b": 30
      }
    }
  ],
  "Delta_Source": [
    {
      "A262": "derived"
    },
    {
      "A113": "derived"
    }
  ],
  "Delta_Value_Order": [
    {
      "A262": 1
    },
    {
      "A113": 4
    }
  ],
  "Delta_Variable_Names": [
    {
      "A262": [
        "t"
      ]
    },
    {
      "A113": [
        "b"
      ]
    }
  ],
  "Delta_Socket": [
    {
      "A262": {
        "0": 0.0
      }
    },
    {
      "A113": {
        "1/2": 0.5
      }
    }
  ],
  "Source_Delta_Socket": [
    {
      "A262": "goal"
    },
    {
      "A113": "goal"
    }
  ],
  "Delta_Socket_Order": [
    {
      "A262": 1
    },
    {
      "A113": 1
    }
  ],
  "Variable_Names": [
    {
      "A262": [
        "a",
        "n",
        "x",
        "k",
        "A"
      ]
    },
    {
      "A113": [
        "Q",
        "f",
        "x",
        "y"
      ]
    }
  ],
  "Total_Claims": [
    {
      "A262": 34
    },
    {
      "A113": 31
    }
  ],
  "Total_Delta": [
    {
      "A262": 1
    },
    {
      "A113": 4
    }
  ],
  "Total_Delta_Socket": [
    {
      "A262": 1
    },
    {
      "A113": 1
    }
  ],
  "Max_Delta_Factor": [
    {
      "A262": 0.15
    },
    {
      "A113": 0.97
    }
  ],
  "Min_Delta_Factor": [
    {
      "A262": 0.15
    },
    {
      "A113": 0.42
    }
  ],
  "Max_Delta_Depth": [
    {
      "A262": 5
    },
    {
      "A113": 30
    }
  ],
  "Min_Delta_Depth": [
    {
      "A262": 5
    },
    {
      "A113": 13
    }
  ],
  "Claims": [
    {
      "id": "A262_C1",
      "type": "goal",
      "expr": "minimum λ such that ∀ x_1,…,x_{2002} ≥ 0, ∑_{k=1}^{2002} A_k ≤ λ a_{2002}"
    },
    {
      "id": "A262_C2",
      "type": "context",
      "expr": "a_1 = 1/4, a_n = (1/4)(1 + a_{n-1})^2, n ≥ 2"
    },
    {
      "id": "A262_C3",
      "type": "context",
      "expr": "A_k = (x_k - k) / (∑_{i=k}^{2002} x_i + k(k-1)/2 + 1)^2, k=1..2002"
    },
    {
      "id": "A262_C4",
      "type": "context",
      "expr": "x_1, …, x_{2002} ≥ 0"
    },
    {
      "id": "A262_C5",
      "type": "derived",
      "expr": "t = 2002"
    },
    {
      "id": "A262_C6",
      "type": "derived",
      "expr": "y_k = ∑_{i=k}^t x_i + k(k-1)/2 + 1, k=1..t"
    },
    {
      "id": "A262_C7",
      "type": "derived",
      "expr": "y_{t+1} = t(t+1)/2 + 1 = L"
    },
    {
      "id": "A262_C8",
      "type": "derived",
      "expr": "y_k - y_{k+1} = x_k - k"
    },
    {
      "id": "A262_C9",
      "type": "derived",
      "expr": "S = ∑_{k=1}^t A_k = ∑_{k=1}^t (y_k - y_{k+1}) / y_k^2"
    },
    {
      "id": "A262_C10",
      "type": "derived",
      "expr": "∀ a,b > 0, x ≠ 0, (a x - b)/x^2 ≤ a^2 / (4 b), equality iff x = 2 b / a"
    },
    {
      "id": "A262_C11",
      "type": "derived",
      "expr": "b_1 = 0, b_n = (1/4)(1 + b_{n-1})^2, n ≥ 2"
    },
    {
      "id": "A262_C12",
      "type": "derived",
      "expr": "(b_k / y_k) + (y_k - y_{k+1}) / y_k^2 = [(b_k + 1) y_k - y_{k+1}] / y_k^2"
    },
    {
      "id": "A262_C13",
      "type": "derived",
      "expr": "[(b_k + 1) y_k - y_{k+1}] / y_k^2 ≤ (b_k + 1)^2 / (4 y_{k+1})"
    },
    {
      "id": "A262_C14",
      "type": "derived",
      "expr": "(b_k + 1)^2 / (4 y_{k+1}) = b_{k+1} / y_{k+1}"
    },
    {
      "id": "A262_C15",
      "type": "derived",
      "expr": "b_k / y_k + (y_k - y_{k+1}) / y_k^2 ≤ b_{k+1} / y_{k+1}"
    },
    {
      "id": "A262_C16",
      "type": "derived",
      "expr": "∑_{k=1}^t [b_k / y_k + (y_k - y_{k+1}) / y_k^2 - b_{k+1} / y_{k+1}] ≤ 0"
    },
    {
      "id": "A262_C17",
      "type": "derived",
      "expr": "∑_{k=1}^t [b_k / y_k + (y_k - y_{k+1}) / y_k^2 - b_{k+1} / y_{k+1}] = S - b_{t+1} / y_{t+1}"
    },
    {
      "id": "A262_C18",
      "type": "derived",
      "expr": "S ≤ b_{t+1} / L"
    },
    {
      "id": "A262_C19",
      "type": "derived",
      "expr": "b_2 = 1/4 = a_1"
    },
    {
      "id": "A262_C20",
      "type": "derived",
      "expr": "b_{k+1} = (1/4)(1 + b_k)^2 = (1/4)(1 + a_{k-1})^2 = a_k if b_k = a_{k-1}"
    },
    {
      "id": "A262_C21",
      "type": "derived",
      "expr": "b_{n+1} = a_n ∀ n ≥ 1 by induction"
    },
    {
      "id": "A262_C22",
      "type": "derived",
      "expr": "b_{t+1} = a_t"
    },
    {
      "id": "A262_C23",
      "type": "derived",
      "expr": "S ≤ a_t / L"
    },
    {
      "id": "A262_C24",
      "type": "derived",
      "expr": "0 ≤ b_n ≤ 1 ∀ n ≥ 1"
    },
    {
      "id": "A262_C25",
      "type": "derived",
      "expr": "equality in C15 iff y_k = 2 y_{k+1} / (b_k + 1) ∀ k"
    },
    {
      "id": "A262_C26",
      "type": "derived",
      "expr": "2 / (b_k + 1) ≥ 1 since b_k ≤ 1, so y_k ≥ y_{k+1} if equality"
    },
    {
      "id": "A262_C27",
      "type": "derived",
      "expr": "x_k = (y_k - y_{k+1}) + k ≥ k ≥ 0 if equality"
    },
    {
      "id": "A262_C28",
      "type": "derived",
      "expr": "equality case achievable with x_i ≥ 0, y_k > 0"
    },
    {
      "id": "A262_C29",
      "type": "derived",
      "expr": "sup S = a_t / L"
    },
    {
      "id": "A262_C30",
      "type": "derived",
      "expr": "min λ = (sup S) / a_t = 1 / L"
    },
    {
      "id": "A262_C31",
      "type": "derived",
      "expr": "L = (2002 × 2003) / 2 + 1"
    },
    {
      "id": "A262_C32",
      "type": "derived",
      "expr": "(2002 × 2003) / 2 = 1001 × 2003 = 2005003"
    },
    {
      "id": "A262_C33",
      "type": "derived",
      "expr": "L = 2005003 + 1 = 2005004"
    },
    {
      "id": "A262_C34",
      "type": "final",
      "expr": "min λ = 1 / 2005004"
    },
    {
      "id": "A113_C1",
      "type": "derived",
      "expr": "Determine all functions f: Q -> Q such that f(2xy + 1/2) + f(x-y) = 4f(x)f(y) + 1/2 for all x,y in Q"
    },
    {
      "id": "A113_C2",
      "type": "context",
      "expr": "f(2xy + 1/2) + f(x-y) = 4f(x)f(y) + 1/2 for all x,y in Q"
    },
    {
      "id": "A113_C3",
      "type": "derived",
      "expr": "f(1/2) + f(x) = 4 f(0) f(x) + 1/2 for all x in Q"
    },
    {
      "id": "A113_C4",
      "type": "derived",
      "expr": "c = f(0)"
    },
    {
      "id": "A113_C5",
      "type": "derived",
      "expr": "f(1/2) + f(-y) = 4 c f(y) + 1/2 for all y in Q"
    },
    {
      "id": "A113_C6",
      "type": "derived",
      "expr": "f(1/2) - 1/2 = (4c - 1) f(x) for all x in Q"
    },
    {
      "id": "A113_C7",
      "type": "derived",
      "expr": "f(1/2) - 1/2 = (4c - 1) f(-y) for all y in Q"
    },
    {
      "id": "A113_C8",
      "type": "derived",
      "expr": "If 4c ≠ 1, then f is a constant function"
    },
    {
      "id": "A113_C9",
      "type": "derived",
      "expr": "If f(x) = k for all x, then 2k = 4k^2 + 1/2"
    },
    {
      "id": "A113_C10",
      "type": "derived",
      "expr": "4k^2 - 2k + 1/2 = 0"
    },
    {
      "id": "A113_C11",
      "type": "derived",
      "expr": "8k^2 - 4k + 1 = 0"
    },
    {
      "id": "A113_C12",
      "type": "derived",
      "expr": "Discriminant = 16 - 32 = -16 < 0, no real solutions"
    },
    {
      "id": "A113_C13",
      "type": "derived",
      "expr": "f(0) = 1/4"
    },
    {
      "id": "A113_C14",
      "type": "derived",
      "expr": "f(1/2) = 1/2"
    },
    {
      "id": "A113_C15",
      "type": "derived",
      "expr": "f(x + 1/2) + f(x - 1/2) = 4 f(x) f(1/2) + 1/2 for all x in Q"
    },
    {
      "id": "A113_C16",
      "type": "derived",
      "expr": "f(x + 1/2) + f(x - 1/2) = 2 f(x) + 1/2 for all x in Q"
    },
    {
      "id": "A113_C17",
      "type": "derived",
      "expr": "Assume f(x) = a x^2 + b x + d for rationals a,b,d"
    },
    {
      "id": "A113_C18",
      "type": "derived",
      "expr": "d = 1/4"
    },
    {
      "id": "A113_C19",
      "type": "derived",
      "expr": "a/4 + b/2 + d = 1/2"
    },
    {
      "id": "A113_C20",
      "type": "derived",
      "expr": "a/4 + b/2 + 1/4 = 1/2"
    },
    {
      "id": "A113_C21",
      "type": "derived",
      "expr": "a/4 + b/2 = 1/4"
    },
    {
      "id": "A113_C22",
      "type": "derived",
      "expr": "a + 2b = 1"
    },
    {
      "id": "A113_C23",
      "type": "derived",
      "expr": "f(x + 1/2) + f(x - 1/2) = 2a x^2 + 2b x + a/2 + 2d"
    },
    {
      "id": "A113_C24",
      "type": "derived",
      "expr": "2 f(x) + 1/2 = 2a x^2 + 2b x + 2d + 1/2"
    },
    {
      "id": "A113_C25",
      "type": "derived",
      "expr": "a/2 + 2d = 2d + 1/2"
    },
    {
      "id": "A113_C26",
      "type": "derived",
      "expr": "a/2 = 1/2"
    },
    {
      "id": "A113_C27",
      "type": "derived",
      "expr": "a = 1"
    },
    {
      "id": "A113_C28",
      "type": "derived",
      "expr": "1 + 2b = 1"
    },
    {
      "id": "A113_C29",
      "type": "derived",
      "expr": "2b = 0"
    },
    {
      "id": "A113_C30",
      "type": "derived",
      "expr": "b = 0"
    },
    {
      "id": "A113_C31",
      "type": "final",
      "expr": "f(x) = x^2 + 1/4"
    },
    {
      "id": "B236_C1",
      "type": "goal",
      "expr": "Determine all functions f: Q -> Q such that f(2xy + (t - 4003/2)) + f(x-y) = 4f(x)f(y) + (t - 4003/2) for all x,y in Q"
    }
  ],
  "Steps": [
    {
      "id": "A262_S1",
      "rule": "problem setup",
      "premises": [
        "A262_C1: minimum λ such that ∀ x_1,…,x_{2002} ≥ 0, ∑_{k=1}^{2002} A_k ≤ λ a_{2002}"
      ],
      "conclusions": [
        "A262_C2: a_1 = 1/4, a_n = (1/4)(1 + a_{n-1})^2, n ≥ 2",
        "A262_C3: A_k = (x_k - k) / (∑_{i=k}^{2002} x_i + k(k-1)/2 + 1)^2, k=1..2002",
        "A262_C4: x_1, …, x_{2002} ≥ 0",
        "A262_C5: t = 2002"
      ]
    },
    {
      "id": "A262_S2",
      "rule": "define variables",
      "premises": [
        "A262_C3: A_k = (x_k - k) / (∑_{i=k}^{2002} x_i + k(k-1)/2 + 1)^2, k=1..2002",
        "A262_C5: t = 2002"
      ],
      "conclusions": [
        "A262_C6: y_k = ∑_{i=k}^t x_i + k(k-1)/2 + 1, k=1..t"
      ]
    },
    {
      "id": "A262_S3",
      "rule": "boundary definition",
      "premises": [
        "A262_C5: t = 2002",
        "A262_C6: y_k = ∑_{i=k}^t x_i + k(k-1)/2 + 1, k=1..t"
      ],
      "conclusions": [
        "A262_C7: y_{t+1} = t(t+1)/2 + 1 = L"
      ]
    },
    {
      "id": "A262_S4",
      "rule": "difference computation",
      "premises": [
        "A262_C6: y_k = ∑_{i=k}^t x_i + k(k-1)/2 + 1, k=1..t"
      ],
      "conclusions": [
        "A262_C8: y_k - y_{k+1} = x_k - k"
      ]
    },
    {
      "id": "A262_S5",
      "rule": "substitute definitions",
      "premises": [
        "A262_C3: A_k = (x_k - k) / (∑_{i=k}^{2002} x_i + k(k-1)/2 + 1)^2, k=1..2002",
        "A262_C8: y_k - y_{k+1} = x_k - k",
        "A262_C6: y_k = ∑_{i=k}^t x_i + k(k-1)/2 + 1, k=1..t"
      ],
      "conclusions": [
        "A262_C9: S = ∑_{k=1}^t A_k = ∑_{k=1}^t (y_k - y_{k+1}) / y_k^2"
      ]
    },
    {
      "id": "A262_S6",
      "rule": "inequality lemma",
      "premises": [],
      "conclusions": [
        "A262_C10: ∀ a,b > 0, x ≠ 0, (a x - b)/x^2 ≤ a^2 / (4 b), equality iff x = 2 b / a"
      ]
    },
    {
      "id": "A262_S7",
      "rule": "define auxiliary sequence",
      "premises": [
        "A262_C2: a_1 = 1/4, a_n = (1/4)(1 + a_{n-1})^2, n ≥ 2"
      ],
      "conclusions": [
        "A262_C11: b_1 = 0, b_n = (1/4)(1 + b_{n-1})^2, n ≥ 2"
      ]
    },
    {
      "id": "A262_S8",
      "rule": "algebraic identity",
      "premises": [
        "A262_C11: b_1 = 0, b_n = (1/4)(1 + b_{n-1})^2, n ≥ 2"
      ],
      "conclusions": [
        "A262_C12: (b_k / y_k) + (y_k - y_{k+1}) / y_k^2 = [(b_k + 1) y_k - y_{k+1}] / y_k^2"
      ]
    },
    {
      "id": "A262_S9",
      "rule": "apply Lemma 1",
      "premises": [
        "A262_C10: ∀ a,b > 0, x ≠ 0, (a x - b)/x^2 ≤ a^2 / (4 b), equality iff x = 2 b / a",
        "A262_C12: (b_k / y_k) + (y_k - y_{k+1}) / y_k^2 = [(b_k + 1) y_k - y_{k+1}] / y_k^2"
      ],
      "conclusions": [
        "A262_C13: [(b_k + 1) y_k - y_{k+1}] / y_k^2 ≤ (b_k + 1)^2 / (4 y_{k+1})"
      ]
    },
    {
      "id": "A262_S10",
      "rule": "recurrence matching",
      "premises": [
        "A262_C11: b_1 = 0, b_n = (1/4)(1 + b_{n-1})^2, n ≥ 2"
      ],
      "conclusions": [
        "A262_C14: (b_k + 1)^2 / (4 y_{k+1}) = b_{k+1} / y_{k+1}"
      ]
    },
    {
      "id": "A262_S11",
      "rule": "combine inequalities",
      "premises": [
        "A262_C12: (b_k / y_k) + (y_k - y_{k+1}) / y_k^2 = [(b_k + 1) y_k - y_{k+1}] / y_k^2",
        "A262_C13: [(b_k + 1) y_k - y_{k+1}] / y_k^2 ≤ (b_k + 1)^2 / (4 y_{k+1})",
        "A262_C14: (b_k + 1)^2 / (4 y_{k+1}) = b_{k+1} / y_{k+1}"
      ],
      "conclusions": [
        "A262_C15: b_k / y_k + (y_k - y_{k+1}) / y_k^2 ≤ b_{k+1} / y_{k+1}"
      ]
    },
    {
      "id": "A262_S12",
      "rule": "sum inequalities",
      "premises": [
        "A262_C15: b_k / y_k + (y_k - y_{k+1}) / y_k^2 ≤ b_{k+1} / y_{k+1}"
      ],
      "conclusions": [
        "A262_C16: ∑_{k=1}^t [b_k / y_k + (y_k - y_{k+1}) / y_k^2 - b_{k+1} / y_{k+1}] ≤ 0"
      ]
    },
    {
      "id": "A262_S13",
      "rule": "telescoping sum",
      "premises": [
        "A262_C16: ∑_{k=1}^t [b_k / y_k + (y_k - y_{k+1}) / y_k^2 - b_{k+1} / y_{k+1}] ≤ 0",
        "A262_C11: b_1 = 0, b_n = (1/4)(1 + b_{n-1})^2, n ≥ 2"
      ],
      "conclusions": [
        "A262_C17: ∑_{k=1}^t [b_k / y_k + (y_k - y_{k+1}) / y_k^2 - b_{k+1} / y_{k+1}] = S - b_{t+1} / y_{t+1}"
      ]
    },
    {
      "id": "A262_S14",
      "rule": "simplify sum",
      "premises": [
        "A262_C17: ∑_{k=1}^t [b_k / y_k + (y_k - y_{k+1}) / y_k^2 - b_{k+1} / y_{k+1}] = S - b_{t+1} / y_{t+1}",
        "A262_C7: y_{t+1} = t(t+1)/2 + 1 = L"
      ],
      "conclusions": [
        "A262_C18: S ≤ b_{t+1} / L"
      ]
    },
    {
      "id": "A262_S15",
      "rule": "base case computation",
      "premises": [
        "A262_C11: b_1 = 0, b_n = (1/4)(1 + b_{n-1})^2, n ≥ 2",
        "A262_C2: a_1 = 1/4, a_n = (1/4)(1 + a_{n-1})^2, n ≥ 2"
      ],
      "conclusions": [
        "A262_C19: b_2 = 1/4 = a_1"
      ]
    },
    {
      "id": "A262_S16",
      "rule": "induction step",
      "premises": [
        "A262_C11: b_1 = 0, b_n = (1/4)(1 + b_{n-1})^2, n ≥ 2",
        "A262_C2: a_1 = 1/4, a_n = (1/4)(1 + a_{n-1})^2, n ≥ 2"
      ],
      "conclusions": [
        "A262_C20: b_{k+1} = (1/4)(1 + b_k)^2 = (1/4)(1 + a_{k-1})^2 = a_k if b_k = a_{k-1}"
      ]
    },
    {
      "id": "A262_S17",
      "rule": "induction conclusion",
      "premises": [
        "A262_C19: b_2 = 1/4 = a_1",
        "A262_C20: b_{k+1} = (1/4)(1 + b_k)^2 = (1/4)(1 + a_{k-1})^2 = a_k if b_k = a_{k-1}"
      ],
      "conclusions": [
        "A262_C21: b_{n+1} = a_n ∀ n ≥ 1 by induction"
      ]
    },
    {
      "id": "A262_S18",
      "rule": "apply to t",
      "premises": [
        "A262_C21: b_{n+1} = a_n ∀ n ≥ 1 by induction",
        "A262_C5: t = 2002"
      ],
      "conclusions": [
        "A262_C22: b_{t+1} = a_t"
      ]
    },
    {
      "id": "A262_S19",
      "rule": "substitute b_{t+1}",
      "premises": [
        "A262_C18: S ≤ b_{t+1} / L",
        "A262_C22: b_{t+1} = a_t"
      ],
      "conclusions": [
        "A262_C23: S ≤ a_t / L"
      ]
    },
    {
      "id": "A262_S20",
      "rule": "induction on bounds",
      "premises": [
        "A262_C11: b_1 = 0, b_n = (1/4)(1 + b_{n-1})^2, n ≥ 2"
      ],
      "conclusions": [
        "A262_C24: 0 ≤ b_n ≤ 1 ∀ n ≥ 1"
      ]
    },
    {
      "id": "A262_S21",
      "rule": "equality condition from Lemma 1",
      "premises": [
        "A262_C10: ∀ a,b > 0, x ≠ 0, (a x - b)/x^2 ≤ a^2 / (4 b), equality iff x = 2 b / a"
      ],
      "conclusions": [
        "A262_C25: equality in C15 iff y_k = 2 y_{k+1} / (b_k + 1) ∀ k"
      ]
    },
    {
      "id": "A262_S22",
      "rule": "ratio analysis",
      "premises": [
        "A262_C24: 0 ≤ b_n ≤ 1 ∀ n ≥ 1"
      ],
      "conclusions": [
        "A262_C26: 2 / (b_k + 1) ≥ 1 since b_k ≤ 1, so y_k ≥ y_{k+1} if equality"
      ]
    },
    {
      "id": "A262_S23",
      "rule": "non-negativity check",
      "premises": [
        "A262_C8: y_k - y_{k+1} = x_k - k",
        "A262_C26: 2 / (b_k + 1) ≥ 1 since b_k ≤ 1, so y_k ≥ y_{k+1} if equality"
      ],
      "conclusions": [
        "A262_C27: x_k = (y_k - y_{k+1}) + k ≥ k ≥ 0 if equality"
      ]
    },
    {
      "id": "A262_S24",
      "rule": "achievability verification",
      "premises": [
        "A262_C25: equality in C15 iff y_k = 2 y_{k+1} / (b_k + 1) ∀ k",
        "A262_C27: x_k = (y_k - y_{k+1}) + k ≥ k ≥ 0 if equality",
        "A262_C7: y_{t+1} = t(t+1)/2 + 1 = L",
        "A262_C4: x_1, …, x_{2002} ≥ 0"
      ],
      "conclusions": [
        "A262_C28: equality case achievable with x_i ≥ 0, y_k > 0"
      ]
    },
    {
      "id": "A262_S25",
      "rule": "supremum from equality",
      "premises": [
        "A262_C23: S ≤ a_t / L",
        "A262_C28: equality case achievable with x_i ≥ 0, y_k > 0"
      ],
      "conclusions": [
        "A262_C29: sup S = a_t / L"
      ]
    },
    {
      "id": "A262_S26",
      "rule": "min λ derivation",
      "premises": [
        "A262_C1: minimum λ such that ∀ x_1,…,x_{2002} ≥ 0, ∑_{k=1}^{2002} A_k ≤ λ a_{2002}",
        "A262_C29: sup S = a_t / L"
      ],
      "conclusions": [
        "A262_C30: min λ = (sup S) / a_t = 1 / L"
      ]
    },
    {
      "id": "A262_S27",
      "rule": "explicit L formula",
      "premises": [
        "A262_C7: y_{t+1} = t(t+1)/2 + 1 = L",
        "A262_C5: t = 2002"
      ],
      "conclusions": [
        "A262_C31: L = (2002 × 2003) / 2 + 1"
      ]
    },
    {
      "id": "A262_S28",
      "rule": "arithmetic computation",
      "premises": [
        "A262_C5: t = 2002"
      ],
      "conclusions": [
        "A262_C32: (2002 × 2003) / 2 = 1001 × 2003 = 2005003"
      ]
    },
    {
      "id": "A262_S29",
      "rule": "addition",
      "premises": [
        "A262_C31: L = (2002 × 2003) / 2 + 1",
        "A262_C32: (2002 × 2003) / 2 = 1001 × 2003 = 2005003"
      ],
      "conclusions": [
        "A262_C33: L = 2005003 + 1 = 2005004"
      ]
    },
    {
      "id": "A262_S30",
      "rule": "final substitution",
      "premises": [
        "A262_C30: min λ = (sup S) / a_t = 1 / L",
        "A262_C33: L = 2005003 + 1 = 2005004"
      ],
      "conclusions": [
        "A262_C34: min λ = 1 / 2005004"
      ]
    },
    {
      "id": "A113_S1",
      "rule": "problem setup",
      "premises": [
        "A113_C1: Determine all functions f: Q -> Q such that f(2xy + 1/2) + f(x-y) = 4f(x)f(y) + 1/2 for all x,y in Q"
      ],
      "conclusions": [
        "A113_C2: f(2xy + 1/2) + f(x-y) = 4f(x)f(y) + 1/2 for all x,y in Q"
      ]
    },
    {
      "id": "A113_S2",
      "rule": "substitute y=0",
      "premises": [
        "A113_C2: f(2xy + 1/2) + f(x-y) = 4f(x)f(y) + 1/2 for all x,y in Q"
      ],
      "conclusions": [
        "A113_C3: f(1/2) + f(x) = 4 f(0) f(x) + 1/2 for all x in Q"
      ]
    },
    {
      "id": "A113_S3",
      "rule": "denote c=f(0)",
      "premises": [
        "A113_C3: f(1/2) + f(x) = 4 f(0) f(x) + 1/2 for all x in Q"
      ],
      "conclusions": [
        "A113_C4: c = f(0)"
      ]
    },
    {
      "id": "A113_S4",
      "rule": "substitute x=0",
      "premises": [
        "A113_C2: f(2xy + 1/2) + f(x-y) = 4f(x)f(y) + 1/2 for all x,y in Q"
      ],
      "conclusions": [
        "A113_C5: f(1/2) + f(-y) = 4 c f(y) + 1/2 for all y in Q"
      ]
    },
    {
      "id": "A113_S5",
      "rule": "rearrange",
      "premises": [
        "A113_C4: c = f(0)"
      ],
      "conclusions": [
        "A113_C6: f(1/2) - 1/2 = (4c - 1) f(x) for all x in Q"
      ]
    },
    {
      "id": "A113_S6",
      "rule": "rearrange",
      "premises": [
        "A113_C5: f(1/2) + f(-y) = 4 c f(y) + 1/2 for all y in Q"
      ],
      "conclusions": [
        "A113_C7: f(1/2) - 1/2 = (4c - 1) f(-y) for all y in Q"
      ]
    },
    {
      "id": "A113_S7",
      "rule": "case analysis",
      "premises": [
        "A113_C6: f(1/2) - 1/2 = (4c - 1) f(x) for all x in Q"
      ],
      "conclusions": [
        "A113_C8: If 4c ≠ 1, then f is a constant function"
      ]
    },
    {
      "id": "A113_S8",
      "rule": "assume constant and plug in",
      "premises": [
        "A113_C8: If 4c ≠ 1, then f is a constant function",
        "A113_C2: f(2xy + 1/2) + f(x-y) = 4f(x)f(y) + 1/2 for all x,y in Q"
      ],
      "conclusions": [
        "A113_C9: If f(x) = k for all x, then 2k = 4k^2 + 1/2"
      ]
    },
    {
      "id": "A113_S9",
      "rule": "rearrange to standard quadratic",
      "premises": [
        "A113_C9: If f(x) = k for all x, then 2k = 4k^2 + 1/2"
      ],
      "conclusions": [
        "A113_C10: 4k^2 - 2k + 1/2 = 0"
      ]
    },
    {
      "id": "A113_S10",
      "rule": "multiply by 2",
      "premises": [
        "A113_C10: 4k^2 - 2k + 1/2 = 0"
      ],
      "conclusions": [
        "A113_C11: 8k^2 - 4k + 1 = 0"
      ]
    },
    {
      "id": "A113_S11",
      "rule": "discriminant calculation",
      "premises": [
        "A113_C11: 8k^2 - 4k + 1 = 0"
      ],
      "conclusions": [
        "A113_C12: Discriminant = 16 - 32 = -16 < 0, no real solutions"
      ]
    },
    {
      "id": "A113_S12",
      "rule": "contradiction implies 4c=1",
      "premises": [
        "A113_C8: If 4c ≠ 1, then f is a constant function",
        "A113_C12: Discriminant = 16 - 32 = -16 < 0, no real solutions"
      ],
      "conclusions": [
        "A113_C13: f(0) = 1/4"
      ]
    },
    {
      "id": "A113_S13",
      "rule": "special case 4c=1",
      "premises": [
        "A113_C6: f(1/2) - 1/2 = (4c - 1) f(x) for all x in Q",
        "A113_C13: f(0) = 1/4"
      ],
      "conclusions": [
        "A113_C14: f(1/2) = 1/2"
      ]
    },
    {
      "id": "A113_S14",
      "rule": "substitute y=1/2",
      "premises": [
        "A113_C2: f(2xy + 1/2) + f(x-y) = 4f(x)f(y) + 1/2 for all x,y in Q"
      ],
      "conclusions": [
        "A113_C15: f(x + 1/2) + f(x - 1/2) = 4 f(x) f(1/2) + 1/2 for all x in Q"
      ]
    },
    {
      "id": "A113_S15",
      "rule": "substitute known f(1/2)",
      "premises": [
        "A113_C15: f(x + 1/2) + f(x - 1/2) = 4 f(x) f(1/2) + 1/2 for all x in Q",
        "A113_C14: f(1/2) = 1/2"
      ],
      "conclusions": [
        "A113_C16: f(x + 1/2) + f(x - 1/2) = 2 f(x) + 1/2 for all x in Q"
      ]
    },
    {
      "id": "A113_S16",
      "rule": "quadratic ansatz for recurrence",
      "premises": [
        "A113_C16: f(x + 1/2) + f(x - 1/2) = 2 f(x) + 1/2 for all x in Q"
      ],
      "conclusions": [
        "A113_C17: Assume f(x) = a x^2 + b x + d for rationals a,b,d"
      ]
    },
    {
      "id": "A113_S17",
      "rule": "evaluate at x=0",
      "premises": [
        "A113_C17: Assume f(x) = a x^2 + b x + d for rationals a,b,d",
        "A113_C13: f(0) = 1/4"
      ],
      "conclusions": [
        "A113_C18: d = 1/4"
      ]
    },
    {
      "id": "A113_S18",
      "rule": "evaluate at x=1/2",
      "premises": [
        "A113_C17: Assume f(x) = a x^2 + b x + d for rationals a,b,d",
        "A113_C14: f(1/2) = 1/2"
      ],
      "conclusions": [
        "A113_C19: a/4 + b/2 + d = 1/2"
      ]
    },
    {
      "id": "A113_S19",
      "rule": "substitute d=1/4",
      "premises": [
        "A113_C19: a/4 + b/2 + d = 1/2",
        "A113_C18: d = 1/4"
      ],
      "conclusions": [
        "A113_C20: a/4 + b/2 + 1/4 = 1/2"
      ]
    },
    {
      "id": "A113_S20",
      "rule": "subtract 1/4",
      "premises": [
        "A113_C20: a/4 + b/2 + 1/4 = 1/2"
      ],
      "conclusions": [
        "A113_C21: a/4 + b/2 = 1/4"
      ]
    },
    {
      "id": "A113_S21",
      "rule": "multiply by 4",
      "premises": [
        "A113_C21: a/4 + b/2 = 1/4"
      ],
      "conclusions": [
        "A113_C22: a + 2b = 1"
      ]
    },
    {
      "id": "A113_S22",
      "rule": "expand and add f(x±1/2)",
      "premises": [
        "A113_C17: Assume f(x) = a x^2 + b x + d for rationals a,b,d"
      ],
      "conclusions": [
        "A113_C23: f(x + 1/2) + f(x - 1/2) = 2a x^2 + 2b x + a/2 + 2d"
      ]
    },
    {
      "id": "A113_S23",
      "rule": "right side expansion",
      "premises": [
        "A113_C17: Assume f(x) = a x^2 + b x + d for rationals a,b,d"
      ],
      "conclusions": [
        "A113_C24: 2 f(x) + 1/2 = 2a x^2 + 2b x + 2d + 1/2"
      ]
    },
    {
      "id": "A113_S24",
      "rule": "equate expressions",
      "premises": [
        "A113_C23: f(x + 1/2) + f(x - 1/2) = 2a x^2 + 2b x + a/2 + 2d",
        "A113_C24: 2 f(x) + 1/2 = 2a x^2 + 2b x + 2d + 1/2"
      ],
      "conclusions": [
        "A113_C25: a/2 + 2d = 2d + 1/2"
      ]
    },
    {
      "id": "A113_S25",
      "rule": "isolate a/2",
      "premises": [
        "A113_C25: a/2 + 2d = 2d + 1/2"
      ],
      "conclusions": [
        "A113_C26: a/2 = 1/2"
      ]
    },
    {
      "id": "A113_S26",
      "rule": "multiply by 2",
      "premises": [
        "A113_C26: a/2 = 1/2"
      ],
      "conclusions": [
        "A113_C27: a = 1"
      ]
    },
    {
      "id": "A113_S27",
      "rule": "substitute a=1",
      "premises": [
        "A113_C22: a + 2b = 1",
        "A113_C27: a = 1"
      ],
      "conclusions": [
        "A113_C28: 1 + 2b = 1"
      ]
    },
    {
      "id": "A113_S28",
      "rule": "subtract 1",
      "premises": [
        "A113_C28: 1 + 2b = 1"
      ],
      "conclusions": [
        "A113_C29: 2b = 0"
      ]
    },
    {
      "id": "A113_S29",
      "rule": "divide by 2",
      "premises": [
        "A113_C29: 2b = 0"
      ],
      "conclusions": [
        "A113_C30: b = 0"
      ]
    },
    {
      "id": "A113_S30",
      "rule": "combine coefficients",
      "premises": [
        "A113_C17: Assume f(x) = a x^2 + b x + d for rationals a,b,d",
        "A113_C27: a = 1",
        "A113_C30: b = 0",
        "A113_C18: d = 1/4"
      ],
      "conclusions": [
        "A113_C31: f(x) = x^2 + 1/4"
      ]
    },
    {
      "id": "B236_S1",
      "rule": "problem connection",
      "premises": [
        "B236_C1: Determine all functions f: Q -> Q such that f(2xy + (t - 4003/2)) + f(x-y) = 4f(x)f(y) + (t - 4003/2) for all x,y in Q",
        "A262_C5: t = 2002"
      ],
      "conclusions": [
        "A113_C1: Determine all functions f: Q -> Q such that f(2xy + 1/2) + f(x-y) = 4f(x)f(y) + 1/2 for all x,y in Q"
      ]
    }
  ]
}