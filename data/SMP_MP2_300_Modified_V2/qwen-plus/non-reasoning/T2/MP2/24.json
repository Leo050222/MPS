{
  "Problem_ID": 24,
  "Chunk_Type": "T2",
  "Class_ID": "B5169",
  "Multiple_Synthesis_Class": "MP2",
  "Sub_Class_ID": [
    {
      "A2182": "A2182_DG_2"
    },
    {
      "A2189": "A2189_DG_1"
    }
  ],
  "Synthesis_Trace": "DG-DG",
  "Synthesis_Status": "Continuable",
  "Math_Problem": "Let $n$ be the answer to this problem. Box $B$ initially contains $n$ balls, and Box $A$ contains half as many balls as Box $B$. After 80 balls are moved from Box $A$ to Box $B$, the ratio of balls in Box $A$ to Box $B$ is now $\\frac{p}{q}$, where $p, q$ are positive integers with $\\operatorname{gcd}(p, q)=1$. Find $100p+q$. Instead of computing the encoding of the simplified ratio via one hundred times its numerator plus its denominator, simply find $k = g + 3$, where $g$ is the greatest common divisor of the numerator and denominator of that simplified ratio. Let $T$ be a trapezoid with two right angles and side lengths $4,4,5$, and $\\sqrt{17}$. Two line segments are drawn, connecting the midpoints of opposite sides of $T$ and dividing $T$ into $k$ regions. If the difference between the areas of the largest and smallest of these regions is $d$, compute $(k + 236) d$.",
  "Connecting_Sentence": [
    {
      "A2182": "Instead of computing the encoding of the simplified ratio via one hundred times its numerator plus its denominator, simply find $k = g + 3$, where $g$ is the greatest common divisor of the numerator and denominator of that simplified ratio."
    },
    {
      "A2189": "None"
    }
  ],
  "Synthesised_By": [
    {
      "A2182": "Let $n$ be the answer to this problem. Box $B$ initially contains $n$ balls, and Box $A$ contains half as many balls as Box $B$. After 80 balls are moved from Box $A$ to Box $B$, the ratio of balls in Box $A$ to Box $B$ is now $\\frac{p}{q}$, where $p, q$ are positive integers with $\\operatorname{gcd}(p, q)=1$. Find $100p+q$. Instead of computing the encoding of the simplified ratio via one hundred times its numerator plus its denominator, simply find $k = g + 3$, where $g$ is the greatest common divisor of the numerator and denominator of that simplified ratio."
    },
    {
      "A2189": "Let $T$ be a trapezoid with two right angles and side lengths $4,4,5$, and $\\sqrt{17}$. Two line segments are drawn, connecting the midpoints of opposite sides of $T$ and dividing $T$ into 4 regions. If the difference between the areas of the largest and smallest of these regions is $d$, compute $240 d$."
    }
  ],
  "Original_Problem": [
    {
      "A2182": "Let $n$ be the answer to this problem. Box $B$ initially contains $n$ balls, and Box $A$ contains half as many balls as Box $B$. After 80 balls are moved from Box $A$ to Box $B$, the ratio of balls in Box $A$ to Box $B$ is now $\\frac{p}{q}$, where $p, q$ are positive integers with $\\operatorname{gcd}(p, q)=1$. Find $100p+q$."
    },
    {
      "A2189": "Let $T$ be a trapezoid with two right angles and side lengths $4,4,5$, and $\\sqrt{17}$. Two line segments are drawn, connecting the midpoints of opposite sides of $T$ and dividing $T$ into 4 regions. If the difference between the areas of the largest and smallest of these regions is $d$, compute $240 d$."
    }
  ],
  "Problem_Type": [
    {
      "A2182": [
        "Mathematics -> Algebra -> Algebra -> Equations and Inequalities",
        "Mathematics -> Number Theory -> Greatest Common Divisors (GCD)"
      ]
    },
    {
      "A2189": [
        "Mathematics -> Geometry -> Plane Geometry -> Polygons"
      ]
    }
  ],
  "Problem_Level": [
    {
      "A2182": "KbsdJames_Omni-MATH_4.0"
    },
    {
      "A2189": "KbsdJames_Omni-MATH_4.0"
    }
  ],
  "Problem_Source": [
    {
      "A2182": "HMMT_11"
    },
    {
      "A2189": "HMMT_11"
    }
  ],
  "Problem_Length": [
    {
      "A2182": 326
    },
    {
      "A2189": 305
    }
  ],
  "Synthesised_Problem_Length": 875,
  "Ground_Truth": [
    {
      "A2182": "720"
    },
    {
      "A2189": "120"
    }
  ],
  "Predicted_Answer": [
    {
      "A2182": "720"
    },
    {
      "A2189": "120"
    }
  ],
  "Connecting_Point": [
    {
      "B5169": {
        "4": "(gcd(7,20) + 3)"
      }
    }
  ],
  "Delta_Factor": [
    {
      "A2182": 0.98
    },
    {
      "A2189": 0.83
    }
  ],
  "Delta_Value": [
    {
      "A2182": {
        "gcd(7,20)": "1"
      }
    },
    {
      "A2189": {
        "smallest": "17/4"
      }
    }
  ],
  "Delta_Depth": [
    {
      "A2182": {
        "gcd(7,20)": 63
      }
    },
    {
      "A2189": {
        "smallest": 10
      }
    }
  ],
  "Delta_Source": [
    {
      "A2182": "derived"
    },
    {
      "A2189": "derived"
    }
  ],
  "Delta_Value_Order": [
    {
      "A2182": 2
    },
    {
      "A2189": 1
    }
  ],
  "Delta_Variable_Names": [
    {
      "A2182": [
        "gcd"
      ]
    },
    {
      "A2189": [
        "smallest"
      ]
    }
  ],
  "Delta_Socket": [
    {
      "A2182": {
        "2": 2.0
      }
    },
    {
      "A2189": {
        "4": 4.0
      }
    }
  ],
  "Source_Delta_Socket": [
    {
      "A2182": "goal"
    },
    {
      "A2189": "goal"
    }
  ],
  "Delta_Socket_Order": [
    {
      "A2182": 1
    },
    {
      "A2189": 1
    }
  ],
  "Variable_Names": [
    {
      "A2182": [
        "n",
        "B",
        "A",
        "p",
        "q",
        "g",
        "d",
        "c"
      ]
    },
    {
      "A2189": [
        "T",
        "d"
      ]
    }
  ],
  "Total_Claims": [
    {
      "A2182": 64
    },
    {
      "A2189": 12
    }
  ],
  "Total_Delta": [
    {
      "A2182": 3
    },
    {
      "A2189": 1
    }
  ],
  "Total_Delta_Socket": [
    {
      "A2182": 1
    },
    {
      "A2189": 1
    }
  ],
  "Max_Delta_Factor": [
    {
      "A2182": 1.0
    },
    {
      "A2189": 0.83
    }
  ],
  "Min_Delta_Factor": [
    {
      "A2182": 0.2
    },
    {
      "A2189": 0.83
    }
  ],
  "Max_Delta_Depth": [
    {
      "A2182": 64
    },
    {
      "A2189": 10
    }
  ],
  "Min_Delta_Depth": [
    {
      "A2182": 13
    },
    {
      "A2189": 10
    }
  ],
  "Claims": [
    {
      "id": "A2182_C1",
      "type": "goal",
      "expr": "n = 100p + q ∧ p/q = (n/2 - 80)/(n + 80) ∧ gcd(p,q)=1 ∧ p,q positive integers"
    },
    {
      "id": "A2182_C2",
      "type": "context",
      "expr": "initial balls B = n"
    },
    {
      "id": "A2182_C3",
      "type": "context",
      "expr": "initial balls A = n/2"
    },
    {
      "id": "A2182_C4",
      "type": "derived",
      "expr": "after move: A = n/2 - 80"
    },
    {
      "id": "A2182_C5",
      "type": "derived",
      "expr": "after move: B = n + 80"
    },
    {
      "id": "A2182_C6",
      "type": "derived",
      "expr": "let a = n/2 - 80, b = n + 80"
    },
    {
      "id": "A2182_C7",
      "type": "derived",
      "expr": "p = a/d, q = b/d where d = gcd(a,b)"
    },
    {
      "id": "A2182_C8",
      "type": "derived",
      "expr": "n = (100a + b)/d"
    },
    {
      "id": "A2182_C9",
      "type": "derived",
      "expr": "100a + b = n d"
    },
    {
      "id": "A2182_C10",
      "type": "derived",
      "expr": "100(n/2 - 80) + n + 80 = n d"
    },
    {
      "id": "A2182_C11",
      "type": "derived",
      "expr": "50n - 8000 + n + 80 = n d"
    },
    {
      "id": "A2182_C12",
      "type": "derived",
      "expr": "51n - 7920 = n d"
    },
    {
      "id": "A2182_C13",
      "type": "derived",
      "expr": "n(51 - d) = 7920"
    },
    {
      "id": "A2182_C14",
      "type": "derived",
      "expr": "d = gcd(a, b) = gcd(n/2 - 80, n + 80)"
    },
    {
      "id": "A2182_C15",
      "type": "derived",
      "expr": "gcd(n/2 - 80, n + 80) = gcd(n/2 - 80, (n + 80) - 2(n/2 - 80))"
    },
    {
      "id": "A2182_C16",
      "type": "derived",
      "expr": "(n + 80) - 2(n/2 - 80) = 240"
    },
    {
      "id": "A2182_C17",
      "type": "derived",
      "expr": "d = gcd(n/2 - 80, 240)"
    },
    {
      "id": "A2182_C18",
      "type": "derived",
      "expr": "d | 240"
    },
    {
      "id": "A2182_C19",
      "type": "derived",
      "expr": "n = 7920 / (51 - d)"
    },
    {
      "id": "A2182_C20",
      "type": "context",
      "expr": "n even positive integer, n > 160"
    },
    {
      "id": "A2182_C21",
      "type": "derived",
      "expr": "5 | 7920"
    },
    {
      "id": "A2182_C22",
      "type": "derived",
      "expr": "5 prime"
    },
    {
      "id": "A2182_C23",
      "type": "derived",
      "expr": "5 | n ∨ 5 | (51 - d)"
    },
    {
      "id": "A2182_C24",
      "type": "derived",
      "expr": "51 ≡ 1 mod 5"
    },
    {
      "id": "A2182_C25",
      "type": "derived",
      "expr": "if 5 ∤ n then d ≡ 1 mod 5"
    },
    {
      "id": "A2182_C26",
      "type": "derived",
      "expr": "if 5 | n then 5 | n/2 (5 ≠ 2)"
    },
    {
      "id": "A2182_C27",
      "type": "derived",
      "expr": "5 | 80"
    },
    {
      "id": "A2182_C28",
      "type": "derived",
      "expr": "if 5 | n then 5 | a"
    },
    {
      "id": "A2182_C29",
      "type": "derived",
      "expr": "5 | 240"
    },
    {
      "id": "A2182_C30",
      "type": "derived",
      "expr": "if 5 | a ∧ 5 | 240 then 5 | d"
    },
    {
      "id": "A2182_C31",
      "type": "derived",
      "expr": "if 5 | n then d ≡ 0 mod 5"
    },
    {
      "id": "A2182_C32",
      "type": "derived",
      "expr": "d ≡ 0 or 1 mod 5"
    },
    {
      "id": "A2182_C33",
      "type": "derived",
      "expr": "16 | 7920"
    },
    {
      "id": "A2182_C34",
      "type": "derived",
      "expr": "51 odd"
    },
    {
      "id": "A2182_C35",
      "type": "derived",
      "expr": "if 4 | n then n/2 even ∧ 80 even ⇒ a even"
    },
    {
      "id": "A2182_C36",
      "type": "derived",
      "expr": "2 | 240"
    },
    {
      "id": "A2182_C37",
      "type": "derived",
      "expr": "if 4 | n then 2 | d (d even)"
    },
    {
      "id": "A2182_C38",
      "type": "derived",
      "expr": "if d even then 51 - d odd"
    },
    {
      "id": "A2182_C39",
      "type": "derived",
      "expr": "v2(51 - d) = 0 if 4 | n"
    },
    {
      "id": "A2182_C40",
      "type": "derived",
      "expr": "if 4 | n then v2(n) = 4 ⇒ 16 | n"
    },
    {
      "id": "A2182_C41",
      "type": "derived",
      "expr": "if 16 | n then 8 | n/2 ∧ 8 | 80 ⇒ 8 | a"
    },
    {
      "id": "A2182_C42",
      "type": "derived",
      "expr": "8 | 240"
    },
    {
      "id": "A2182_C43",
      "type": "derived",
      "expr": "if 16 | n then 8 | d"
    },
    {
      "id": "A2182_C44",
      "type": "derived",
      "expr": "if 4 ∤ n but 2 | n then v2(n) = 1"
    },
    {
      "id": "A2182_C45",
      "type": "derived",
      "expr": "if v2(n) = 1 then v2(51 - d) = 3 ⇒ 8 | (51 - d)"
    },
    {
      "id": "A2182_C46",
      "type": "derived",
      "expr": "51 ≡ 3 mod 8"
    },
    {
      "id": "A2182_C47",
      "type": "derived",
      "expr": "if 8 | (51 - d) then d ≡ 3 mod 8"
    },
    {
      "id": "A2182_C48",
      "type": "derived",
      "expr": "d ≡ 0 or 3 mod 8"
    },
    {
      "id": "A2182_C49",
      "type": "derived",
      "expr": "systems: d ≡ 0 mod 5 ∧ 0 mod 8 ⇒ d ≡ 0 mod 40"
    },
    {
      "id": "A2182_C50",
      "type": "derived",
      "expr": "d ≡ 0 mod 5 ∧ 3 mod 8 ⇒ d ≡ 35 mod 40"
    },
    {
      "id": "A2182_C51",
      "type": "derived",
      "expr": "d ≡ 1 mod 5 ∧ 0 mod 8 ⇒ d ≡ 16 mod 40"
    },
    {
      "id": "A2182_C52",
      "type": "derived",
      "expr": "d ≡ 1 mod 5 ∧ 3 mod 8 ⇒ d ≡ 11 mod 40"
    },
    {
      "id": "A2182_C53",
      "type": "derived",
      "expr": "d ≡ 0, 11, 16, 35 mod 40"
    },
    {
      "id": "A2182_C54",
      "type": "derived",
      "expr": "positive divisors of 240 less than 51: 1,2,3,4,5,6,8,10,12,15,16,20,24,30,40,48"
    },
    {
      "id": "A2182_C55",
      "type": "derived",
      "expr": "among them ≡ 0,11,16,35 mod 40: 16,40"
    },
    {
      "id": "A2182_C56",
      "type": "derived",
      "expr": "for d=16, 51-16=35, 35 ∤ 7920"
    },
    {
      "id": "A2182_C57",
      "type": "derived",
      "expr": "for d=40, 51-40=11, 11 | 7920, n=7920/11=720"
    },
    {
      "id": "A2182_C58",
      "type": "derived",
      "expr": "720 even, 720 > 160"
    },
    {
      "id": "A2182_C59",
      "type": "derived",
      "expr": "a = 720/2 - 80 = 280"
    },
    {
      "id": "A2182_C60",
      "type": "derived",
      "expr": "b = 720 + 80 = 800"
    },
    {
      "id": "A2182_C61",
      "type": "derived",
      "expr": "gcd(280,800)=40=d"
    },
    {
      "id": "A2182_C62",
      "type": "derived",
      "expr": "p=280/40=7, q=800/40=20"
    },
    {
      "id": "A2182_C63",
      "type": "derived",
      "expr": "gcd(7,20)=1"
    },
    {
      "id": "A2182_C64",
      "type": "final",
      "expr": "n=720"
    },
    {
      "id": "A2189_C1",
      "type": "derived",
      "expr": "compute 240d where d = largest area - smallest area of the 4 regions"
    },
    {
      "id": "A2189_C2",
      "type": "context",
      "expr": "T is trapezoid with two right angles and sides 4,4,5,√17"
    },
    {
      "id": "A2189_C3",
      "type": "derived",
      "expr": "height h=4 and bases b_s=4 (short), b_l=5 (long)"
    },
    {
      "id": "A2189_C4",
      "type": "derived",
      "expr": "midsegment length m = (b_s + b_l)/2 = 9/2"
    },
    {
      "id": "A2189_C5",
      "type": "derived",
      "expr": "top regions: trapezoids with bases b_s/2=2, m/2=9/4, height h/2=2"
    },
    {
      "id": "A2189_C6",
      "type": "derived",
      "expr": "bottom regions: trapezoids with bases m/2=9/4, b_l/2=5/2, height h/2=2"
    },
    {
      "id": "A2189_C7",
      "type": "derived",
      "expr": "top area A_t = ((2 + 9/4)/2) * 2 = 17/4"
    },
    {
      "id": "A2189_C8",
      "type": "derived",
      "expr": "bottom area A_b = ((9/4 + 5/2)/2) * 2 = 19/4"
    },
    {
      "id": "A2189_C9",
      "type": "derived",
      "expr": "areas: two of 17/4 and two of 19/4"
    },
    {
      "id": "A2189_C10",
      "type": "derived",
      "expr": "largest = 19/4, smallest = 17/4"
    },
    {
      "id": "A2189_C11",
      "type": "derived",
      "expr": "d = 19/4 - 17/4 = 1/2"
    },
    {
      "id": "A2189_C12",
      "type": "final",
      "expr": "240d = 120"
    },
    {
      "id": "B5169_C1",
      "type": "goal",
      "expr": "compute 240d where d = largest area - smallest area of the (gcd(7,20) + 3) regions"
    }
  ],
  "Steps": [
    {
      "id": "A2182_S1",
      "rule": "problem setup",
      "premises": [
        "A2182_C1: n = 100p + q ∧ p/q = (n/2 - 80)/(n + 80) ∧ gcd(p,q)=1 ∧ p,q positive integers"
      ],
      "conclusions": [
        "A2182_C2: initial balls B = n",
        "A2182_C3: initial balls A = n/2",
        "A2182_C20: n even positive integer, n > 160"
      ]
    },
    {
      "id": "A2182_S2",
      "rule": "initial to after move",
      "premises": [
        "A2182_C2: initial balls B = n",
        "A2182_C3: initial balls A = n/2"
      ],
      "conclusions": [
        "A2182_C4: after move: A = n/2 - 80",
        "A2182_C5: after move: B = n + 80"
      ]
    },
    {
      "id": "A2182_S3",
      "rule": "define variables",
      "premises": [
        "A2182_C4: after move: A = n/2 - 80",
        "A2182_C5: after move: B = n + 80"
      ],
      "conclusions": [
        "A2182_C6: let a = n/2 - 80, b = n + 80"
      ]
    },
    {
      "id": "A2182_S4",
      "rule": "ratio in lowest terms",
      "premises": [
        "A2182_C1: n = 100p + q ∧ p/q = (n/2 - 80)/(n + 80) ∧ gcd(p,q)=1 ∧ p,q positive integers",
        "A2182_C6: let a = n/2 - 80, b = n + 80"
      ],
      "conclusions": [
        "A2182_C7: p = a/d, q = b/d where d = gcd(a,b)"
      ]
    },
    {
      "id": "A2182_S5",
      "rule": "substitute n expression",
      "premises": [
        "A2182_C1: n = 100p + q ∧ p/q = (n/2 - 80)/(n + 80) ∧ gcd(p,q)=1 ∧ p,q positive integers",
        "A2182_C7: p = a/d, q = b/d where d = gcd(a,b)"
      ],
      "conclusions": [
        "A2182_C8: n = (100a + b)/d"
      ]
    },
    {
      "id": "A2182_S6",
      "rule": "multiply both sides by d",
      "premises": [
        "A2182_C8: n = (100a + b)/d"
      ],
      "conclusions": [
        "A2182_C9: 100a + b = n d"
      ]
    },
    {
      "id": "A2182_S7",
      "rule": "substitute a and b",
      "premises": [
        "A2182_C6: let a = n/2 - 80, b = n + 80",
        "A2182_C9: 100a + b = n d"
      ],
      "conclusions": [
        "A2182_C10: 100(n/2 - 80) + n + 80 = n d"
      ]
    },
    {
      "id": "A2182_S8",
      "rule": "algebraic simplification",
      "premises": [
        "A2182_C10: 100(n/2 - 80) + n + 80 = n d"
      ],
      "conclusions": [
        "A2182_C11: 50n - 8000 + n + 80 = n d"
      ]
    },
    {
      "id": "A2182_S9",
      "rule": "further simplification",
      "premises": [
        "A2182_C11: 50n - 8000 + n + 80 = n d"
      ],
      "conclusions": [
        "A2182_C12: 51n - 7920 = n d"
      ]
    },
    {
      "id": "A2182_S10",
      "rule": "rearrange",
      "premises": [
        "A2182_C12: 51n - 7920 = n d"
      ],
      "conclusions": [
        "A2182_C13: n(51 - d) = 7920"
      ]
    },
    {
      "id": "A2182_S11",
      "rule": "gcd property",
      "premises": [
        "A2182_C14: d = gcd(a, b) = gcd(n/2 - 80, n + 80)"
      ],
      "conclusions": [
        "A2182_C15: gcd(n/2 - 80, n + 80) = gcd(n/2 - 80, (n + 80) - 2(n/2 - 80))"
      ]
    },
    {
      "id": "A2182_S12",
      "rule": "compute difference",
      "premises": [
        "A2182_C6: let a = n/2 - 80, b = n + 80",
        "A2182_C15: gcd(n/2 - 80, n + 80) = gcd(n/2 - 80, (n + 80) - 2(n/2 - 80))"
      ],
      "conclusions": [
        "A2182_C16: (n + 80) - 2(n/2 - 80) = 240"
      ]
    },
    {
      "id": "A2182_S13",
      "rule": "gcd conclusion",
      "premises": [
        "A2182_C16: (n + 80) - 2(n/2 - 80) = 240"
      ],
      "conclusions": [
        "A2182_C17: d = gcd(n/2 - 80, 240)"
      ]
    },
    {
      "id": "A2182_S14",
      "rule": "divisibility",
      "premises": [
        "A2182_C17: d = gcd(n/2 - 80, 240)"
      ],
      "conclusions": [
        "A2182_C18: d | 240"
      ]
    },
    {
      "id": "A2182_S15",
      "rule": "solve for n",
      "premises": [
        "A2182_C13: n(51 - d) = 7920"
      ],
      "conclusions": [
        "A2182_C19: n = 7920 / (51 - d)"
      ]
    },
    {
      "id": "A2182_S16",
      "rule": "factor 7920",
      "premises": [
        "A2182_C13: n(51 - d) = 7920"
      ],
      "conclusions": [
        "A2182_C21: 5 | 7920"
      ]
    },
    {
      "id": "A2182_S17",
      "rule": "prime divisibility",
      "premises": [
        "A2182_C21: 5 | 7920",
        "A2182_C22: 5 prime"
      ],
      "conclusions": [
        "A2182_C23: 5 | n ∨ 5 | (51 - d)"
      ]
    },
    {
      "id": "A2182_S18",
      "rule": "modular arithmetic",
      "premises": [
        "A2182_C13: n(51 - d) = 7920"
      ],
      "conclusions": [
        "A2182_C24: 51 ≡ 1 mod 5"
      ]
    },
    {
      "id": "A2182_S19",
      "rule": "contrapositive implication",
      "premises": [
        "A2182_C23: 5 | n ∨ 5 | (51 - d)",
        "A2182_C24: 51 ≡ 1 mod 5"
      ],
      "conclusions": [
        "A2182_C25: if 5 ∤ n then d ≡ 1 mod 5"
      ]
    },
    {
      "id": "A2182_S20",
      "rule": "prime not dividing 2",
      "premises": [
        "A2182_C20: n even positive integer, n > 160",
        "A2182_C22: 5 prime"
      ],
      "conclusions": [
        "A2182_C26: if 5 | n then 5 | n/2 (5 ≠ 2)"
      ]
    },
    {
      "id": "A2182_S21",
      "rule": "modular arithmetic",
      "premises": [
        "A2182_C13: n(51 - d) = 7920"
      ],
      "conclusions": [
        "A2182_C27: 5 | 80"
      ]
    },
    {
      "id": "A2182_S22",
      "rule": "substitution",
      "premises": [
        "A2182_C26: if 5 | n then 5 | n/2 (5 ≠ 2)",
        "A2182_C27: 5 | 80"
      ],
      "conclusions": [
        "A2182_C28: if 5 | n then 5 | a"
      ]
    },
    {
      "id": "A2182_S23",
      "rule": "modular arithmetic",
      "premises": [
        "A2182_C13: n(51 - d) = 7920"
      ],
      "conclusions": [
        "A2182_C29: 5 | 240"
      ]
    },
    {
      "id": "A2182_S24",
      "rule": "gcd divisibility prime",
      "premises": [
        "A2182_C17: d = gcd(n/2 - 80, 240)",
        "A2182_C28: if 5 | n then 5 | a",
        "A2182_C29: 5 | 240",
        "A2182_C22: 5 prime"
      ],
      "conclusions": [
        "A2182_C30: if 5 | a ∧ 5 | 240 then 5 | d"
      ]
    },
    {
      "id": "A2182_S25",
      "rule": "case combination",
      "premises": [
        "A2182_C25: if 5 ∤ n then d ≡ 1 mod 5",
        "A2182_C31: if 5 | n then d ≡ 0 mod 5"
      ],
      "conclusions": [
        "A2182_C32: d ≡ 0 or 1 mod 5"
      ]
    },
    {
      "id": "A2182_S26",
      "rule": "factor 7920 for 2",
      "premises": [
        "A2182_C13: n(51 - d) = 7920"
      ],
      "conclusions": [
        "A2182_C33: 16 | 7920"
      ]
    },
    {
      "id": "A2182_S27",
      "rule": "parity",
      "premises": [
        "A2182_C13: n(51 - d) = 7920"
      ],
      "conclusions": [
        "A2182_C34: 51 odd"
      ]
    },
    {
      "id": "A2182_S28",
      "rule": "if 4|n then a even",
      "premises": [
        "A2182_C20: n even positive integer, n > 160",
        "A2182_C6: let a = n/2 - 80, b = n + 80"
      ],
      "conclusions": [
        "A2182_C35: if 4 | n then n/2 even ∧ 80 even ⇒ a even"
      ]
    },
    {
      "id": "A2182_S29",
      "rule": "gcd even",
      "premises": [
        "A2182_C35: if 4 | n then n/2 even ∧ 80 even ⇒ a even",
        "A2182_C36: 2 | 240",
        "A2182_C17: d = gcd(n/2 - 80, 240)"
      ],
      "conclusions": [
        "A2182_C37: if 4 | n then 2 | d (d even)"
      ]
    },
    {
      "id": "A2182_S30",
      "rule": "parity subtraction",
      "premises": [
        "A2182_C34: 51 odd",
        "A2182_C37: if 4 | n then 2 | d (d even)"
      ],
      "conclusions": [
        "A2182_C38: if d even then 51 - d odd"
      ]
    },
    {
      "id": "A2182_S31",
      "rule": "valuation if odd",
      "premises": [
        "A2182_C38: if d even then 51 - d odd"
      ],
      "conclusions": [
        "A2182_C39: v2(51 - d) = 0 if 4 | n"
      ]
    },
    {
      "id": "A2182_S32",
      "rule": "valuation equation",
      "premises": [
        "A2182_C13: n(51 - d) = 7920",
        "A2182_C33: 16 | 7920",
        "A2182_C39: v2(51 - d) = 0 if 4 | n"
      ],
      "conclusions": [
        "A2182_C40: if 4 | n then v2(n) = 4 ⇒ 16 | n"
      ]
    },
    {
      "id": "A2182_S33",
      "rule": "if 16|n then 8|a",
      "premises": [
        "A2182_C20: n even positive integer, n > 160",
        "A2182_C6: let a = n/2 - 80, b = n + 80",
        "A2182_C27: 5 | 80"
      ],
      "conclusions": [
        "A2182_C41: if 16 | n then 8 | n/2 ∧ 8 | 80 ⇒ 8 | a"
      ]
    },
    {
      "id": "A2182_S34",
      "rule": "gcd 8",
      "premises": [
        "A2182_C41: if 16 | n then 8 | n/2 ∧ 8 | 80 ⇒ 8 | a",
        "A2182_C42: 8 | 240",
        "A2182_C17: d = gcd(n/2 - 80, 240)"
      ],
      "conclusions": [
        "A2182_C43: if 16 | n then 8 | d"
      ]
    },
    {
      "id": "A2182_S35",
      "rule": "valuation case v2=1",
      "premises": [
        "A2182_C20: n even positive integer, n > 160",
        "A2182_C33: 16 | 7920",
        "A2182_C13: n(51 - d) = 7920"
      ],
      "conclusions": [
        "A2182_C44: if 4 ∤ n but 2 | n then v2(n) = 1"
      ]
    },
    {
      "id": "A2182_S36",
      "rule": "valuation equation",
      "premises": [
        "A2182_C13: n(51 - d) = 7920",
        "A2182_C33: 16 | 7920",
        "A2182_C44: if 4 ∤ n but 2 | n then v2(n) = 1"
      ],
      "conclusions": [
        "A2182_C45: if v2(n) = 1 then v2(51 - d) = 3 ⇒ 8 | (51 - d)"
      ]
    },
    {
      "id": "A2182_S37",
      "rule": "modular arithmetic",
      "premises": [
        "A2182_C13: n(51 - d) = 7920"
      ],
      "conclusions": [
        "A2182_C46: 51 ≡ 3 mod 8"
      ]
    },
    {
      "id": "A2182_S38",
      "rule": "implication mod 8",
      "premises": [
        "A2182_C45: if v2(n) = 1 then v2(51 - d) = 3 ⇒ 8 | (51 - d)",
        "A2182_C46: 51 ≡ 3 mod 8"
      ],
      "conclusions": [
        "A2182_C47: if 8 | (51 - d) then d ≡ 3 mod 8"
      ]
    },
    {
      "id": "A2182_S39",
      "rule": "case combination mod 8",
      "premises": [
        "A2182_C43: if 16 | n then 8 | d",
        "A2182_C47: if 8 | (51 - d) then d ≡ 3 mod 8"
      ],
      "conclusions": [
        "A2182_C48: d ≡ 0 or 3 mod 8"
      ]
    },
    {
      "id": "A2182_S40",
      "rule": "Chinese remainder theorem case 1",
      "premises": [
        "A2182_C32: d ≡ 0 or 1 mod 5",
        "A2182_C48: d ≡ 0 or 3 mod 8"
      ],
      "conclusions": [
        "A2182_C49: systems: d ≡ 0 mod 5 ∧ 0 mod 8 ⇒ d ≡ 0 mod 40"
      ]
    },
    {
      "id": "A2182_S41",
      "rule": "Chinese remainder theorem case 2",
      "premises": [
        "A2182_C32: d ≡ 0 or 1 mod 5",
        "A2182_C48: d ≡ 0 or 3 mod 8"
      ],
      "conclusions": [
        "A2182_C50: d ≡ 0 mod 5 ∧ 3 mod 8 ⇒ d ≡ 35 mod 40"
      ]
    },
    {
      "id": "A2182_S42",
      "rule": "Chinese remainder theorem case 3",
      "premises": [
        "A2182_C32: d ≡ 0 or 1 mod 5",
        "A2182_C48: d ≡ 0 or 3 mod 8"
      ],
      "conclusions": [
        "A2182_C51: d ≡ 1 mod 5 ∧ 0 mod 8 ⇒ d ≡ 16 mod 40"
      ]
    },
    {
      "id": "A2182_S43",
      "rule": "Chinese remainder theorem case 4",
      "premises": [
        "A2182_C32: d ≡ 0 or 1 mod 5",
        "A2182_C48: d ≡ 0 or 3 mod 8"
      ],
      "conclusions": [
        "A2182_C52: d ≡ 1 mod 5 ∧ 3 mod 8 ⇒ d ≡ 11 mod 40"
      ]
    },
    {
      "id": "A2182_S44",
      "rule": "combine congruences",
      "premises": [
        "A2182_C49: systems: d ≡ 0 mod 5 ∧ 0 mod 8 ⇒ d ≡ 0 mod 40",
        "A2182_C50: d ≡ 0 mod 5 ∧ 3 mod 8 ⇒ d ≡ 35 mod 40",
        "A2182_C51: d ≡ 1 mod 5 ∧ 0 mod 8 ⇒ d ≡ 16 mod 40",
        "A2182_C52: d ≡ 1 mod 5 ∧ 3 mod 8 ⇒ d ≡ 11 mod 40"
      ],
      "conclusions": [
        "A2182_C53: d ≡ 0, 11, 16, 35 mod 40"
      ]
    },
    {
      "id": "A2182_S45",
      "rule": "list divisors",
      "premises": [
        "A2182_C18: d | 240",
        "A2182_C19: n = 7920 / (51 - d)"
      ],
      "conclusions": [
        "A2182_C54: positive divisors of 240 less than 51: 1,2,3,4,5,6,8,10,12,15,16,20,24,30,40,48"
      ]
    },
    {
      "id": "A2182_S46",
      "rule": "filter by congruence",
      "premises": [
        "A2182_C54: positive divisors of 240 less than 51: 1,2,3,4,5,6,8,10,12,15,16,20,24,30,40,48",
        "A2182_C53: d ≡ 0, 11, 16, 35 mod 40"
      ],
      "conclusions": [
        "A2182_C55: among them ≡ 0,11,16,35 mod 40: 16,40"
      ]
    },
    {
      "id": "A2182_S47",
      "rule": "check divisibility d=16",
      "premises": [
        "A2182_C13: n(51 - d) = 7920",
        "A2182_C55: among them ≡ 0,11,16,35 mod 40: 16,40"
      ],
      "conclusions": [
        "A2182_C56: for d=16, 51-16=35, 35 ∤ 7920"
      ]
    },
    {
      "id": "A2182_S48",
      "rule": "check divisibility d=40",
      "premises": [
        "A2182_C13: n(51 - d) = 7920",
        "A2182_C55: among them ≡ 0,11,16,35 mod 40: 16,40"
      ],
      "conclusions": [
        "A2182_C57: for d=40, 51-40=11, 11 | 7920, n=7920/11=720"
      ]
    },
    {
      "id": "A2182_S49",
      "rule": "verify n=720",
      "premises": [
        "A2182_C20: n even positive integer, n > 160",
        "A2182_C57: for d=40, 51-40=11, 11 | 7920, n=7920/11=720"
      ],
      "conclusions": [
        "A2182_C58: 720 even, 720 > 160"
      ]
    },
    {
      "id": "A2182_S50",
      "rule": "compute a",
      "premises": [
        "A2182_C6: let a = n/2 - 80, b = n + 80",
        "A2182_C57: for d=40, 51-40=11, 11 | 7920, n=7920/11=720"
      ],
      "conclusions": [
        "A2182_C59: a = 720/2 - 80 = 280"
      ]
    },
    {
      "id": "A2182_S51",
      "rule": "compute b",
      "premises": [
        "A2182_C6: let a = n/2 - 80, b = n + 80",
        "A2182_C57: for d=40, 51-40=11, 11 | 7920, n=7920/11=720"
      ],
      "conclusions": [
        "A2182_C60: b = 720 + 80 = 800"
      ]
    },
    {
      "id": "A2182_S52",
      "rule": "compute gcd",
      "premises": [
        "A2182_C59: a = 720/2 - 80 = 280",
        "A2182_C60: b = 720 + 80 = 800",
        "A2182_C17: d = gcd(n/2 - 80, 240)"
      ],
      "conclusions": [
        "A2182_C61: gcd(280,800)=40=d"
      ]
    },
    {
      "id": "A2182_S53",
      "rule": "compute p q",
      "premises": [
        "A2182_C7: p = a/d, q = b/d where d = gcd(a,b)",
        "A2182_C61: gcd(280,800)=40=d"
      ],
      "conclusions": [
        "A2182_C62: p=280/40=7, q=800/40=20"
      ]
    },
    {
      "id": "A2182_S54",
      "rule": "check gcd p q",
      "premises": [
        "A2182_C62: p=280/40=7, q=800/40=20"
      ],
      "conclusions": [
        "A2182_C63: gcd(7,20)=1"
      ]
    },
    {
      "id": "A2182_S55",
      "rule": "check n=100p+q",
      "premises": [
        "A2182_C1: n = 100p + q ∧ p/q = (n/2 - 80)/(n + 80) ∧ gcd(p,q)=1 ∧ p,q positive integers",
        "A2182_C62: p=280/40=7, q=800/40=20"
      ],
      "conclusions": [
        "A2182_C64: n=720"
      ]
    },
    {
      "id": "A2189_S1",
      "rule": "problem setup",
      "premises": [
        "A2189_C1: compute 240d where d = largest area - smallest area of the 4 regions"
      ],
      "conclusions": [
        "A2189_C2: T is trapezoid with two right angles and sides 4,4,5,√17"
      ]
    },
    {
      "id": "A2189_S2",
      "rule": "configuration from side lengths and right angles",
      "premises": [
        "A2189_C2: T is trapezoid with two right angles and sides 4,4,5,√17"
      ],
      "conclusions": [
        "A2189_C3: height h=4 and bases b_s=4 (short), b_l=5 (long)"
      ]
    },
    {
      "id": "A2189_S3",
      "rule": "midsegment theorem",
      "premises": [
        "A2189_C3: height h=4 and bases b_s=4 (short), b_l=5 (long)"
      ],
      "conclusions": [
        "A2189_C4: midsegment length m = (b_s + b_l)/2 = 9/2"
      ]
    },
    {
      "id": "A2189_S4",
      "rule": "equal split by center-to-center connector",
      "premises": [
        "A2189_C3: height h=4 and bases b_s=4 (short), b_l=5 (long)",
        "A2189_C4: midsegment length m = (b_s + b_l)/2 = 9/2"
      ],
      "conclusions": [
        "A2189_C5: top regions: trapezoids with bases b_s/2=2, m/2=9/4, height h/2=2",
        "A2189_C6: bottom regions: trapezoids with bases m/2=9/4, b_l/2=5/2, height h/2=2"
      ]
    },
    {
      "id": "A2189_S5",
      "rule": "trapezoid area formula",
      "premises": [
        "A2189_C5: top regions: trapezoids with bases b_s/2=2, m/2=9/4, height h/2=2"
      ],
      "conclusions": [
        "A2189_C7: top area A_t = ((2 + 9/4)/2) * 2 = 17/4"
      ]
    },
    {
      "id": "A2189_S6",
      "rule": "trapezoid area formula",
      "premises": [
        "A2189_C6: bottom regions: trapezoids with bases m/2=9/4, b_l/2=5/2, height h/2=2"
      ],
      "conclusions": [
        "A2189_C8: bottom area A_b = ((9/4 + 5/2)/2) * 2 = 19/4"
      ]
    },
    {
      "id": "A2189_S7",
      "rule": "region identification",
      "premises": [
        "A2189_C7: top area A_t = ((2 + 9/4)/2) * 2 = 17/4",
        "A2189_C8: bottom area A_b = ((9/4 + 5/2)/2) * 2 = 19/4"
      ],
      "conclusions": [
        "A2189_C9: areas: two of 17/4 and two of 19/4"
      ]
    },
    {
      "id": "A2189_S8",
      "rule": "max and min determination",
      "premises": [
        "A2189_C9: areas: two of 17/4 and two of 19/4"
      ],
      "conclusions": [
        "A2189_C10: largest = 19/4, smallest = 17/4"
      ]
    },
    {
      "id": "A2189_S9",
      "rule": "area difference",
      "premises": [
        "A2189_C10: largest = 19/4, smallest = 17/4"
      ],
      "conclusions": [
        "A2189_C11: d = 19/4 - 17/4 = 1/2"
      ]
    },
    {
      "id": "A2189_S10",
      "rule": "final computation",
      "premises": [
        "A2189_C11: d = 19/4 - 17/4 = 1/2"
      ],
      "conclusions": [
        "A2189_C12: 240d = 120"
      ]
    },
    {
      "id": "B5169_S1",
      "rule": "problem connection",
      "premises": [
        "B5169_C1: compute 240d where d = largest area - smallest area of the (gcd(7,20) + 3) regions",
        "A2182_C63: gcd(7,20)=1"
      ],
      "conclusions": [
        "A2189_C1: compute 240d where d = largest area - smallest area of the 4 regions"
      ]
    }
  ]
}