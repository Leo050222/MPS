{
  "Problem_ID": 27,
  "Chunk_Type": "T3",
  "Class_ID": "D1480",
  "Multiple_Synthesis_Class": "MP2",
  "Sub_Class_ID": [
    {
      "A499": "A499_DG_1"
    },
    {
      "A1492": "A1492_DG_1"
    }
  ],
  "Synthesis_Trace": "DG-DG",
  "Synthesis_Status": "Continuable",
  "Math_Problem": "A tightrope walker stands in the center of a rope of length 32 meters. Every minute she walks forward one meter with probability $3 / 4$ and backward one meter with probability $1 / 4$. What is the probability that she reaches the end in front of her before the end behind her? Instead of computing the probability of reaching the forward end before the backward end in this biased random walk on a line, simply find $k = r + 2/3$, where $r$ is the ratio of the backward probability to the forward probability. Sam spends his days walking around the following $(k + 1) \\times (k + 1)$ grid of squares. Say that two squares are adjacent if they share a side. He starts at the square labeled $k$ and every second walks to an adjacent square. How many paths can Sam take so that the sum of the numbers on every square he visits in his path is equal to $(k + 19)$ (not counting the square he started on)?",
  "Connecting_Sentence": [
    {
      "A499": "Instead of computing the probability of reaching the forward end before the backward end in this biased random walk on a line, simply find $k = r + 2/3$, where $r$ is the ratio of the backward probability to the forward probability."
    },
    {
      "A1492": "None"
    }
  ],
  "Synthesised_By": [
    {
      "A499": "A tightrope walker stands in the center of a rope of length 32 meters. Every minute she walks forward one meter with probability $3 / 4$ and backward one meter with probability $1 / 4$. What is the probability that she reaches the end in front of her before the end behind her? Instead of computing the probability of reaching the forward end before the backward end in this biased random walk on a line, simply find $k = r + 2/3$, where $r$ is the ratio of the backward probability to the forward probability."
    },
    {
      "A1492": "Sam spends his days walking around the following $2 \\times 2$ grid of squares. Say that two squares are adjacent if they share a side. He starts at the square labeled 1 and every second walks to an adjacent square. How many paths can Sam take so that the sum of the numbers on every square he visits in his path is equal to 20 (not counting the square he started on)?"
    }
  ],
  "Original_Problem": [
    {
      "A499": "A tightrope walker stands in the center of a rope of length 32 meters. Every minute she walks forward one meter with probability $3 / 4$ and backward one meter with probability $1 / 4$. What is the probability that she reaches the end in front of her before the end behind her?"
    },
    {
      "A1492": "Sam spends his days walking around the following $2 \\times 2$ grid of squares. Say that two squares are adjacent if they share a side. He starts at the square labeled 1 and every second walks to an adjacent square. How many paths can Sam take so that the sum of the numbers on every square he visits in his path is equal to 20 (not counting the square he started on)?"
    }
  ],
  "Problem_Type": [
    {
      "A499": [
        "Mathematics -> Applied Mathematics -> Probability -> Other"
      ]
    },
    {
      "A1492": [
        "Mathematics -> Applied Mathematics -> Statistics -> Probability -> Counting Methods -> Combinations"
      ]
    }
  ],
  "Problem_Level": [
    {
      "A499": "KbsdJames_Omni-MATH_5.25"
    },
    {
      "A1492": "KbsdJames_Omni-MATH_5.0"
    }
  ],
  "Problem_Source": [
    {
      "A499": "HMMT_2"
    },
    {
      "A1492": "HMMT_2"
    }
  ],
  "Problem_Length": [
    {
      "A499": 277
    },
    {
      "A1492": 367
    }
  ],
  "Synthesised_Problem_Length": 880,
  "Ground_Truth": [
    {
      "A499": "3^{16} / (3^{16}+1)"
    },
    {
      "A1492": "167"
    }
  ],
  "Predicted_Answer": [
    {
      "A499": "3^{16} / (3^{16} + 1)"
    },
    {
      "A1492": "167"
    }
  ],
  "Connecting_Point": [
    {
      "B1480": {
        "1": "(r + 2/3)"
      }
    }
  ],
  "Delta_Factor": [
    {
      "A499": 0.42
    },
    {
      "A1492": 0.86
    }
  ],
  "Delta_Value": [
    {
      "A499": {
        "r": "1/3"
      }
    },
    {
      "A1492": {
        "a": "0"
      }
    }
  ],
  "Delta_Depth": [
    {
      "A499": {
        "r": 5
      }
    },
    {
      "A1492": {
        "a": 18
      }
    }
  ],
  "Delta_Source": [
    {
      "A499": "derived"
    },
    {
      "A1492": "derived"
    }
  ],
  "Delta_Value_Order": [
    {
      "A499": 1
    },
    {
      "A1492": 1
    }
  ],
  "Delta_Variable_Names": [
    {
      "A499": [
        "r"
      ]
    },
    {
      "A1492": [
        "a"
      ]
    }
  ],
  "Delta_Socket": [
    {
      "A499": {
        "16": 16.0
      }
    },
    {
      "A1492": {
        "1": 1.0
      }
    }
  ],
  "Source_Delta_Socket": [
    {
      "A499": "goal"
    },
    {
      "A1492": "goal"
    }
  ],
  "Delta_Socket_Order": [
    {
      "A499": 1
    },
    {
      "A1492": 1
    }
  ],
  "Variable_Names": [
    {
      "A499": []
    },
    {
      "A1492": []
    }
  ],
  "Total_Claims": [
    {
      "A499": 12
    },
    {
      "A1492": 21
    }
  ],
  "Total_Delta": [
    {
      "A499": 1
    },
    {
      "A1492": 1
    }
  ],
  "Total_Delta_Socket": [
    {
      "A499": 1
    },
    {
      "A1492": 1
    }
  ],
  "Max_Delta_Factor": [
    {
      "A499": 0.42
    },
    {
      "A1492": 0.86
    }
  ],
  "Min_Delta_Factor": [
    {
      "A499": 0.42
    },
    {
      "A1492": 0.86
    }
  ],
  "Max_Delta_Depth": [
    {
      "A499": 5
    },
    {
      "A1492": 18
    }
  ],
  "Min_Delta_Depth": [
    {
      "A499": 5
    },
    {
      "A1492": 18
    }
  ],
  "Claims": [
    {
      "id": "A499_C1",
      "type": "goal",
      "expr": "P(hit +16 before -16 from 0)"
    },
    {
      "id": "A499_C2",
      "type": "context",
      "expr": "rope length = 32 m"
    },
    {
      "id": "A499_C3",
      "type": "context",
      "expr": "starts at center, barriers at ±16"
    },
    {
      "id": "A499_C4",
      "type": "context",
      "expr": "p = 3/4 forward, q = 1/4 backward"
    },
    {
      "id": "A499_C5",
      "type": "derived",
      "expr": "r = q/p = 1/3, r = 1/3"
    },
    {
      "id": "A499_C6",
      "type": "derived",
      "expr": "P = (1 - r^{16}) / (1 - r^{32})"
    },
    {
      "id": "A499_C7",
      "type": "derived",
      "expr": "r^{16} = 3^{-16}"
    },
    {
      "id": "A499_C8",
      "type": "derived",
      "expr": "r^{32} = 3^{-32}"
    },
    {
      "id": "A499_C9",
      "type": "derived",
      "expr": "P = (1 - 3^{-16}) / (1 - 3^{-32})"
    },
    {
      "id": "A499_C10",
      "type": "derived",
      "expr": "1 - 3^{-32} = (1 - 3^{-16})(1 + 3^{-16})"
    },
    {
      "id": "A499_C11",
      "type": "derived",
      "expr": "P = 1 / (1 + 3^{-16})"
    },
    {
      "id": "A499_C12",
      "type": "final",
      "expr": "P = 3^{16} / (3^{16} + 1)"
    },
    {
      "id": "A1492_C1",
      "type": "derived",
      "expr": "number of paths starting at 1 with sum of visited squares = 20"
    },
    {
      "id": "A1492_C2",
      "type": "context",
      "expr": "2x2 grid with squares labeled 1,2,3,4; adjacencies: 1-2,1-4,2-3,4-3"
    },
    {
      "id": "A1492_C3",
      "type": "derived",
      "expr": "odd steps visit {2,4}, even steps visit {1,3}"
    },
    {
      "id": "A1492_C4",
      "type": "derived",
      "expr": "at each step, 2 choices to next set"
    },
    {
      "id": "A1492_C5",
      "type": "derived",
      "expr": "total paths of n steps = 2^n"
    },
    {
      "id": "A1492_C6",
      "type": "derived",
      "expr": "value on odd step = 2 + 2 h_i, h_i ∈ {0,1}"
    },
    {
      "id": "A1492_C7",
      "type": "derived",
      "expr": "value on even step = 1 + 2 h_i, h_i ∈ {0,1}"
    },
    {
      "id": "A1492_C8",
      "type": "derived",
      "expr": "k = ceil(n/2), m = floor(n/2)"
    },
    {
      "id": "A1492_C9",
      "type": "derived",
      "expr": "min sum L(n) = 2k + m"
    },
    {
      "id": "A1492_C10",
      "type": "derived",
      "expr": "sum = L(n) + 2a, a = number of high choices, 0 ≤ a ≤ n"
    },
    {
      "id": "A1492_C11",
      "type": "derived",
      "expr": "require L(n) + 2a = 20, a integer"
    },
    {
      "id": "A1492_C12",
      "type": "derived",
      "expr": "for n=8, k=4, m=4, L=12, a=4"
    },
    {
      "id": "A1492_C13",
      "type": "derived",
      "expr": "ways for n=8: binom(8,4) = 70"
    },
    {
      "id": "A1492_C14",
      "type": "derived",
      "expr": "for n=9, k=5, m=4, L=14, a=3"
    },
    {
      "id": "A1492_C15",
      "type": "derived",
      "expr": "ways for n=9: binom(9,3) = 84"
    },
    {
      "id": "A1492_C16",
      "type": "derived",
      "expr": "for n=12, k=6, m=6, L=18, a=1"
    },
    {
      "id": "A1492_C17",
      "type": "derived",
      "expr": "ways for n=12: binom(12,1) = 12"
    },
    {
      "id": "A1492_C18",
      "type": "derived",
      "expr": "for n=13, k=7, m=6, L=20, a=0"
    },
    {
      "id": "A1492_C19",
      "type": "derived",
      "expr": "ways for n=13: binom(13,0) = 1"
    },
    {
      "id": "A1492_C20",
      "type": "derived",
      "expr": "no other n satisfies condition"
    },
    {
      "id": "A1492_C21",
      "type": "final",
      "expr": "total = 70 + 84 + 12 + 1 = 167"
    },
    {
      "id": "B1480_C1",
      "type": "goal",
      "expr": "number of paths starting at (r + 2/3) with sum of visited squares = 20"
    }
  ],
  "Steps": [
    {
      "id": "A499_S1",
      "rule": "problem setup",
      "premises": [
        "A499_C1: P(hit +16 before -16 from 0)"
      ],
      "conclusions": [
        "A499_C2: rope length = 32 m",
        "A499_C3: starts at center, barriers at ±16",
        "A499_C4: p = 3/4 forward, q = 1/4 backward"
      ]
    },
    {
      "id": "A499_S2",
      "rule": "ratio computation",
      "premises": [
        "A499_C4: p = 3/4 forward, q = 1/4 backward"
      ],
      "conclusions": [
        "A499_C5: r = q/p = 1/3, r = 1/3"
      ]
    },
    {
      "id": "A499_S3",
      "rule": "random walk absorption probability formula",
      "premises": [
        "A499_C3: starts at center, barriers at ±16",
        "A499_C5: r = q/p = 1/3, r = 1/3"
      ],
      "conclusions": [
        "A499_C6: P = (1 - r^{16}) / (1 - r^{32})"
      ]
    },
    {
      "id": "A499_S4",
      "rule": "exponentiation",
      "premises": [
        "A499_C5: r = q/p = 1/3, r = 1/3"
      ],
      "conclusions": [
        "A499_C7: r^{16} = 3^{-16}"
      ]
    },
    {
      "id": "A499_S5",
      "rule": "exponentiation",
      "premises": [
        "A499_C5: r = q/p = 1/3, r = 1/3"
      ],
      "conclusions": [
        "A499_C8: r^{32} = 3^{-32}"
      ]
    },
    {
      "id": "A499_S6",
      "rule": "substitution",
      "premises": [
        "A499_C6: P = (1 - r^{16}) / (1 - r^{32})",
        "A499_C7: r^{16} = 3^{-16}",
        "A499_C8: r^{32} = 3^{-32}"
      ],
      "conclusions": [
        "A499_C9: P = (1 - 3^{-16}) / (1 - 3^{-32})"
      ]
    },
    {
      "id": "A499_S7",
      "rule": "difference of squares identity",
      "premises": [
        "A499_C8: r^{32} = 3^{-32}"
      ],
      "conclusions": [
        "A499_C10: 1 - 3^{-32} = (1 - 3^{-16})(1 + 3^{-16})"
      ]
    },
    {
      "id": "A499_S8",
      "rule": "cancellation",
      "premises": [
        "A499_C9: P = (1 - 3^{-16}) / (1 - 3^{-32})",
        "A499_C10: 1 - 3^{-32} = (1 - 3^{-16})(1 + 3^{-16})"
      ],
      "conclusions": [
        "A499_C11: P = 1 / (1 + 3^{-16})"
      ]
    },
    {
      "id": "A499_S9",
      "rule": "multiply numerator and denominator by 3^{16}",
      "premises": [
        "A499_C11: P = 1 / (1 + 3^{-16})"
      ],
      "conclusions": [
        "A499_C12: P = 3^{16} / (3^{16} + 1)"
      ]
    },
    {
      "id": "A1492_S1",
      "rule": "problem setup",
      "premises": [
        "A1492_C1: number of paths starting at 1 with sum of visited squares = 20"
      ],
      "conclusions": [
        "A1492_C2: 2x2 grid with squares labeled 1,2,3,4; adjacencies: 1-2,1-4,2-3,4-3"
      ]
    },
    {
      "id": "A1492_S2",
      "rule": "path alternation analysis",
      "premises": [
        "A1492_C2: 2x2 grid with squares labeled 1,2,3,4; adjacencies: 1-2,1-4,2-3,4-3"
      ],
      "conclusions": [
        "A1492_C3: odd steps visit {2,4}, even steps visit {1,3}"
      ]
    },
    {
      "id": "A1492_S3",
      "rule": "choice analysis",
      "premises": [
        "A1492_C2: 2x2 grid with squares labeled 1,2,3,4; adjacencies: 1-2,1-4,2-3,4-3",
        "A1492_C3: odd steps visit {2,4}, even steps visit {1,3}"
      ],
      "conclusions": [
        "A1492_C4: at each step, 2 choices to next set"
      ]
    },
    {
      "id": "A1492_S4",
      "rule": "counting total paths",
      "premises": [
        "A1492_C4: at each step, 2 choices to next set"
      ],
      "conclusions": [
        "A1492_C5: total paths of n steps = 2^n"
      ]
    },
    {
      "id": "A1492_S5",
      "rule": "value decomposition odd steps",
      "premises": [
        "A1492_C3: odd steps visit {2,4}, even steps visit {1,3}"
      ],
      "conclusions": [
        "A1492_C6: value on odd step = 2 + 2 h_i, h_i ∈ {0,1}"
      ]
    },
    {
      "id": "A1492_S6",
      "rule": "value decomposition even steps",
      "premises": [
        "A1492_C3: odd steps visit {2,4}, even steps visit {1,3}"
      ],
      "conclusions": [
        "A1492_C7: value on even step = 1 + 2 h_i, h_i ∈ {0,1}"
      ]
    },
    {
      "id": "A1492_S7",
      "rule": "count steps by parity",
      "premises": [
        "A1492_C3: odd steps visit {2,4}, even steps visit {1,3}"
      ],
      "conclusions": [
        "A1492_C8: k = ceil(n/2), m = floor(n/2)"
      ]
    },
    {
      "id": "A1492_S8",
      "rule": "minimal sum calculation",
      "premises": [
        "A1492_C6: value on odd step = 2 + 2 h_i, h_i ∈ {0,1}",
        "A1492_C7: value on even step = 1 + 2 h_i, h_i ∈ {0,1}",
        "A1492_C8: k = ceil(n/2), m = floor(n/2)"
      ],
      "conclusions": [
        "A1492_C9: min sum L(n) = 2k + m"
      ]
    },
    {
      "id": "A1492_S9",
      "rule": "sum expression",
      "premises": [
        "A1492_C6: value on odd step = 2 + 2 h_i, h_i ∈ {0,1}",
        "A1492_C7: value on even step = 1 + 2 h_i, h_i ∈ {0,1}",
        "A1492_C9: min sum L(n) = 2k + m"
      ],
      "conclusions": [
        "A1492_C10: sum = L(n) + 2a, a = number of high choices, 0 ≤ a ≤ n"
      ]
    },
    {
      "id": "A1492_S10",
      "rule": "condition for sum=20",
      "premises": [
        "A1492_C10: sum = L(n) + 2a, a = number of high choices, 0 ≤ a ≤ n"
      ],
      "conclusions": [
        "A1492_C11: require L(n) + 2a = 20, a integer"
      ]
    },
    {
      "id": "A1492_S11",
      "rule": "compute for n=8",
      "premises": [
        "A1492_C8: k = ceil(n/2), m = floor(n/2)",
        "A1492_C9: min sum L(n) = 2k + m",
        "A1492_C11: require L(n) + 2a = 20, a integer"
      ],
      "conclusions": [
        "A1492_C12: for n=8, k=4, m=4, L=12, a=4"
      ]
    },
    {
      "id": "A1492_S12",
      "rule": "binomial coefficient",
      "premises": [
        "A1492_C5: total paths of n steps = 2^n",
        "A1492_C12: for n=8, k=4, m=4, L=12, a=4"
      ],
      "conclusions": [
        "A1492_C13: ways for n=8: binom(8,4) = 70"
      ]
    },
    {
      "id": "A1492_S13",
      "rule": "compute for n=9",
      "premises": [
        "A1492_C8: k = ceil(n/2), m = floor(n/2)",
        "A1492_C9: min sum L(n) = 2k + m",
        "A1492_C11: require L(n) + 2a = 20, a integer"
      ],
      "conclusions": [
        "A1492_C14: for n=9, k=5, m=4, L=14, a=3"
      ]
    },
    {
      "id": "A1492_S14",
      "rule": "binomial coefficient",
      "premises": [
        "A1492_C5: total paths of n steps = 2^n",
        "A1492_C14: for n=9, k=5, m=4, L=14, a=3"
      ],
      "conclusions": [
        "A1492_C15: ways for n=9: binom(9,3) = 84"
      ]
    },
    {
      "id": "A1492_S15",
      "rule": "compute for n=12",
      "premises": [
        "A1492_C8: k = ceil(n/2), m = floor(n/2)",
        "A1492_C9: min sum L(n) = 2k + m",
        "A1492_C11: require L(n) + 2a = 20, a integer"
      ],
      "conclusions": [
        "A1492_C16: for n=12, k=6, m=6, L=18, a=1"
      ]
    },
    {
      "id": "A1492_S16",
      "rule": "binomial coefficient",
      "premises": [
        "A1492_C5: total paths of n steps = 2^n",
        "A1492_C16: for n=12, k=6, m=6, L=18, a=1"
      ],
      "conclusions": [
        "A1492_C17: ways for n=12: binom(12,1) = 12"
      ]
    },
    {
      "id": "A1492_S17",
      "rule": "compute for n=13",
      "premises": [
        "A1492_C8: k = ceil(n/2), m = floor(n/2)",
        "A1492_C9: min sum L(n) = 2k + m",
        "A1492_C11: require L(n) + 2a = 20, a integer"
      ],
      "conclusions": [
        "A1492_C18: for n=13, k=7, m=6, L=20, a=0"
      ]
    },
    {
      "id": "A1492_S18",
      "rule": "binomial coefficient",
      "premises": [
        "A1492_C5: total paths of n steps = 2^n",
        "A1492_C18: for n=13, k=7, m=6, L=20, a=0"
      ],
      "conclusions": [
        "A1492_C19: ways for n=13: binom(13,0) = 1"
      ]
    },
    {
      "id": "A1492_S19",
      "rule": "exhaustiveness check",
      "premises": [
        "A1492_C9: min sum L(n) = 2k + m",
        "A1492_C10: sum = L(n) + 2a, a = number of high choices, 0 ≤ a ≤ n",
        "A1492_C11: require L(n) + 2a = 20, a integer"
      ],
      "conclusions": [
        "A1492_C20: no other n satisfies condition"
      ]
    },
    {
      "id": "A1492_S20",
      "rule": "total summation",
      "premises": [
        "A1492_C13: ways for n=8: binom(8,4) = 70",
        "A1492_C15: ways for n=9: binom(9,3) = 84",
        "A1492_C17: ways for n=12: binom(12,1) = 12",
        "A1492_C19: ways for n=13: binom(13,0) = 1",
        "A1492_C20: no other n satisfies condition"
      ],
      "conclusions": [
        "A1492_C21: total = 70 + 84 + 12 + 1 = 167"
      ]
    },
    {
      "id": "B1480_S1",
      "rule": "problem connection",
      "premises": [
        "B1480_C1: number of paths starting at (r + 2/3) with sum of visited squares = 20",
        "A499_C5: r = q/p = 1/3, r = 1/3"
      ],
      "conclusions": [
        "A1492_C1: number of paths starting at 1 with sum of visited squares = 20"
      ]
    }
  ]
}