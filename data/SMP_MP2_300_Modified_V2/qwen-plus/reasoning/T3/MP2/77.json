{
  "Problem_ID": 77,
  "Chunk_Type": "T3",
  "Class_ID": "E905",
  "Multiple_Synthesis_Class": "MP2",
  "Sub_Class_ID": [
    {
      "A2333": "A2333_DG_3"
    },
    {
      "A507": "A507_DG_4"
    }
  ],
  "Synthesis_Trace": "DG-DG",
  "Synthesis_Status": "Continuable",
  "Math_Problem": "Marcus and four of his relatives are at a party. Each pair of the five people are either friends or enemies. For any two enemies, there is no person that they are both friends with. In how many ways is this possible? Instead of determining the total number of valid friendship and enmity assignments among the five people, simply find $q = s - 1$, where $s$ is the number of such assignments in which no two people are friends. How many lattice points are enclosed by the triangle with vertices $(q,99),((q + 5),100)$, and $((q + 2003),500)$? Don't count boundary points.",
  "Connecting_Sentence": [
    {
      "A2333": "Instead of determining the total number of valid friendship and enmity assignments among the five people, simply find $q = s - 1$, where $s$ is the number of such assignments in which no two people are friends."
    },
    {
      "A507": "None"
    }
  ],
  "Synthesised_By": [
    {
      "A2333": "Marcus and four of his relatives are at a party. Each pair of the five people are either friends or enemies. For any two enemies, there is no person that they are both friends with. In how many ways is this possible? Instead of determining the total number of valid friendship and enmity assignments among the five people, simply find $q = s - 1$, where $s$ is the number of such assignments in which no two people are friends."
    },
    {
      "A507": "How many lattice points are enclosed by the triangle with vertices $(0,99),(5,100)$, and $(2003,500) ?$ Don't count boundary points."
    }
  ],
  "Original_Problem": [
    {
      "A2333": "Marcus and four of his relatives are at a party. Each pair of the five people are either friends or enemies. For any two enemies, there is no person that they are both friends with. In how many ways is this possible?"
    },
    {
      "A507": "How many lattice points are enclosed by the triangle with vertices $(0,99),(5,100)$, and $(2003,500) ?$ Don't count boundary points."
    }
  ],
  "Problem_Type": [
    {
      "A2333": [
        "Mathematics -> Discrete Mathematics -> Combinatorics"
      ]
    },
    {
      "A507": [
        "Mathematics -> Geometry -> Plane Geometry -> Area",
        "Mathematics -> Discrete Mathematics -> Combinatorics"
      ]
    }
  ],
  "Problem_Level": [
    {
      "A2333": "KbsdJames_Omni-MATH_5.0"
    },
    {
      "A507": "KbsdJames_Omni-MATH_5.0"
    }
  ],
  "Problem_Source": [
    {
      "A2333": "HMMT_11"
    },
    {
      "A507": "HMMT_2"
    }
  ],
  "Problem_Length": [
    {
      "A2333": 216
    },
    {
      "A507": 132
    }
  ],
  "Synthesised_Problem_Length": 559,
  "Ground_Truth": [
    {
      "A2333": "52"
    },
    {
      "A507": "0"
    }
  ],
  "Predicted_Answer": [
    {
      "A2333": "52"
    },
    {
      "A507": "0"
    }
  ],
  "Connecting_Point": [
    {
      "D905": {
        "0": "(S(5,5) - 1)"
      }
    }
  ],
  "Delta_Factor": [
    {
      "A2333": 0.93
    },
    {
      "A507": 0.71
    }
  ],
  "Delta_Value": [
    {
      "A2333": {
        "S(5,5)": "1"
      }
    },
    {
      "A507": {
        "gcd(1998,400)": "2"
      }
    }
  ],
  "Delta_Depth": [
    {
      "A2333": {
        "S(5,5)": 26
      }
    },
    {
      "A507": {
        "gcd(1998,400)": 27
      }
    }
  ],
  "Delta_Source": [
    {
      "A2333": "derived"
    },
    {
      "A507": "derived"
    }
  ],
  "Delta_Value_Order": [
    {
      "A2333": 3
    },
    {
      "A507": 4
    }
  ],
  "Delta_Variable_Names": [
    {
      "A2333": [
        "S"
      ]
    },
    {
      "A507": [
        "gcd"
      ]
    }
  ],
  "Delta_Socket": [
    {
      "A2333": {
        "5": 5.0
      }
    },
    {
      "A507": {
        "0": 0.0
      }
    }
  ],
  "Source_Delta_Socket": [
    {
      "A2333": "goal"
    },
    {
      "A507": "goal"
    }
  ],
  "Delta_Socket_Order": [
    {
      "A2333": 1
    },
    {
      "A507": 1
    }
  ],
  "Variable_Names": [
    {
      "A2333": []
    },
    {
      "A507": []
    }
  ],
  "Total_Claims": [
    {
      "A2333": 28
    },
    {
      "A507": 38
    }
  ],
  "Total_Delta": [
    {
      "A2333": 4
    },
    {
      "A507": 5
    }
  ],
  "Total_Delta_Socket": [
    {
      "A2333": 1
    },
    {
      "A507": 1
    }
  ],
  "Max_Delta_Factor": [
    {
      "A2333": 1.0
    },
    {
      "A507": 1.0
    }
  ],
  "Min_Delta_Factor": [
    {
      "A2333": 0.39
    },
    {
      "A507": 0.37
    }
  ],
  "Max_Delta_Depth": [
    {
      "A2333": 28
    },
    {
      "A507": 38
    }
  ],
  "Min_Delta_Depth": [
    {
      "A2333": 11
    },
    {
      "A507": 14
    }
  ],
  "Claims": [
    {
      "id": "A2333_C1",
      "type": "goal",
      "expr": "G = number of ways to assign friendships among 5 people satisfying: each pair friends or enemies, and for any enemies a,b no common friend c"
    },
    {
      "id": "A2333_C2",
      "type": "context",
      "expr": "There are 5 distinct people"
    },
    {
      "id": "A2333_C3",
      "type": "context",
      "expr": "For distinct a,b: a ∼ b or enemies (¬ a ∼ b)"
    },
    {
      "id": "A2333_C4",
      "type": "context",
      "expr": "∼ is symmetric: a ∼ b ⇔ b ∼ a"
    },
    {
      "id": "A2333_C5",
      "type": "context",
      "expr": "a ∼ a for all a"
    },
    {
      "id": "A2333_C6",
      "type": "derived",
      "expr": "(a ∼ b ∧ b ∼ c) ⇒ a ∼ c for all a,b,c"
    },
    {
      "id": "A2333_C7",
      "type": "derived",
      "expr": "∼ is an equivalence relation"
    },
    {
      "id": "A2333_C8",
      "type": "derived",
      "expr": "Each such ∼ corresponds to a partition of the 5 people into equivalence classes, with friends within classes, enemies between"
    },
    {
      "id": "A2333_C9",
      "type": "derived",
      "expr": "G = B_5 where B_5 is the 5th Bell number"
    },
    {
      "id": "A2333_C10",
      "type": "derived",
      "expr": "B_5 = ∑_{k=1}^5 S(5,k) where S(n,k) is Stirling number of the second kind"
    },
    {
      "id": "A2333_C11",
      "type": "derived",
      "expr": "S(5,1) = 1"
    },
    {
      "id": "A2333_C12",
      "type": "derived",
      "expr": "\binom{5}{1} = 5"
    },
    {
      "id": "A2333_C13",
      "type": "derived",
      "expr": "Number of partitions of type 4+1: \binom{5}{1} = 5"
    },
    {
      "id": "A2333_C14",
      "type": "derived",
      "expr": "\binom{5}{3} = 10"
    },
    {
      "id": "A2333_C15",
      "type": "derived",
      "expr": "Number of partitions of type 3+2: \binom{5}{3} = 10"
    },
    {
      "id": "A2333_C16",
      "type": "derived",
      "expr": "S(5,2) = 5 + 10 = 15"
    },
    {
      "id": "A2333_C17",
      "type": "derived",
      "expr": "Number of partitions of type 3+1+1: \binom{5}{3} = 10"
    },
    {
      "id": "A2333_C18",
      "type": "derived",
      "expr": "\binom{5}{1} = 5"
    },
    {
      "id": "A2333_C19",
      "type": "derived",
      "expr": "\binom{4}{2} = 6"
    },
    {
      "id": "A2333_C20",
      "type": "derived",
      "expr": "Number of ways to partition 4 labeled into 2 unlabeled pairs: \binom{4}{2}/2 = 3"
    },
    {
      "id": "A2333_C21",
      "type": "derived",
      "expr": "Number of partitions of type 2+2+1: 5 × 3 = 15"
    },
    {
      "id": "A2333_C22",
      "type": "derived",
      "expr": "S(5,3) = 10 + 15 = 25"
    },
    {
      "id": "A2333_C23",
      "type": "derived",
      "expr": "\binom{5}{2} = 10"
    },
    {
      "id": "A2333_C24",
      "type": "derived",
      "expr": "Number of partitions of type 2+1+1+1: \binom{5}{2} = 10"
    },
    {
      "id": "A2333_C25",
      "type": "derived",
      "expr": "S(5,4) = 10"
    },
    {
      "id": "A2333_C26",
      "type": "derived",
      "expr": "S(5,5) = 1"
    },
    {
      "id": "A2333_C27",
      "type": "derived",
      "expr": "B_5 = 1 + 15 + 25 + 10 + 1 = 52"
    },
    {
      "id": "A2333_C28",
      "type": "final",
      "expr": "G = 52"
    },
    {
      "id": "A507_C1",
      "type": "derived",
      "expr": "I = number of interior lattice points in triangle with vertices A=(0,99), B=(5,100), C=(2003,500)"
    },
    {
      "id": "A507_C2",
      "type": "context",
      "expr": "A=(0,99), B=(5,100), C=(2003,500)"
    },
    {
      "id": "A507_C3",
      "type": "context",
      "expr": "lattice points have integer coordinates"
    },
    {
      "id": "A507_C4",
      "type": "context",
      "expr": "interior points strictly inside triangle, excluding boundary"
    },
    {
      "id": "A507_C5",
      "type": "derived",
      "expr": "AB = B - A = (5,1)"
    },
    {
      "id": "A507_C6",
      "type": "derived",
      "expr": "AC = C - A = (2003,401)"
    },
    {
      "id": "A507_C7",
      "type": "derived",
      "expr": "det(AB, AC) = 5 × 401 - 1 × 2003"
    },
    {
      "id": "A507_C8",
      "type": "derived",
      "expr": "5 × 401 = 2005"
    },
    {
      "id": "A507_C9",
      "type": "derived",
      "expr": "1 × 2003 = 2003"
    },
    {
      "id": "A507_C10",
      "type": "derived",
      "expr": "2005 - 2003 = 2"
    },
    {
      "id": "A507_C11",
      "type": "derived",
      "expr": "|2| equal to 2"
    },
    {
      "id": "A507_C12",
      "type": "derived",
      "expr": "area A = (1/2) × 2 = 1"
    },
    {
      "id": "A507_C13",
      "type": "derived",
      "expr": "A, B, C are lattice points"
    },
    {
      "id": "A507_C14",
      "type": "derived",
      "expr": "gcd(5,1) = 1"
    },
    {
      "id": "A507_C15",
      "type": "derived",
      "expr": "lattice points on AB including endpoints = 1 + 1 = 2"
    },
    {
      "id": "A507_C16",
      "type": "derived",
      "expr": "2003 = 4 × 401 + 399"
    },
    {
      "id": "A507_C17",
      "type": "derived",
      "expr": "gcd(401,399) = gcd(399,2)"
    },
    {
      "id": "A507_C18",
      "type": "derived",
      "expr": "401 - 399 = 2"
    },
    {
      "id": "A507_C19",
      "type": "derived",
      "expr": "399 = 199 × 2 + 1"
    },
    {
      "id": "A507_C20",
      "type": "derived",
      "expr": "gcd(2,1) = 1"
    },
    {
      "id": "A507_C21",
      "type": "derived",
      "expr": "gcd(2003,401) = 1"
    },
    {
      "id": "A507_C22",
      "type": "derived",
      "expr": "lattice points on AC including endpoints = 1 + 1 = 2"
    },
    {
      "id": "A507_C23",
      "type": "derived",
      "expr": "BC = C - B = (1998,400)"
    },
    {
      "id": "A507_C24",
      "type": "derived",
      "expr": "1998 = 4 × 400 + 398"
    },
    {
      "id": "A507_C25",
      "type": "derived",
      "expr": "400 - 398 = 2"
    },
    {
      "id": "A507_C26",
      "type": "derived",
      "expr": "398 = 199 × 2 + 0"
    },
    {
      "id": "A507_C27",
      "type": "derived",
      "expr": "gcd(1998,400) = 2"
    },
    {
      "id": "A507_C28",
      "type": "derived",
      "expr": "lattice points on BC including endpoints = 2 + 1 = 3"
    },
    {
      "id": "A507_C29",
      "type": "derived",
      "expr": "interior boundary points on AB = 1 - 1 = 0"
    },
    {
      "id": "A507_C30",
      "type": "derived",
      "expr": "interior boundary points on AC = 1 - 1 = 0"
    },
    {
      "id": "A507_C31",
      "type": "derived",
      "expr": "interior boundary points on BC = 2 - 1 = 1"
    },
    {
      "id": "A507_C32",
      "type": "derived",
      "expr": "total interior boundary points = 0 + 0 + 1 = 1"
    },
    {
      "id": "A507_C33",
      "type": "derived",
      "expr": "B = 3 + 1 = 4"
    },
    {
      "id": "A507_C34",
      "type": "context",
      "expr": "Pick's Theorem: A = I + B/2 - 1"
    },
    {
      "id": "A507_C35",
      "type": "derived",
      "expr": "I = A - B/2 + 1"
    },
    {
      "id": "A507_C36",
      "type": "derived",
      "expr": "B/2 = 4/2 = 2"
    },
    {
      "id": "A507_C37",
      "type": "derived",
      "expr": "1 - 2 + 1 = 0"
    },
    {
      "id": "A507_C38",
      "type": "final",
      "expr": "I = 0"
    },
    {
      "id": "D905_C1",
      "type": "goal",
      "expr": "I = number of interior lattice points in triangle with vertices A=((S(5,5) - 1),99), B=(5,100), C=(2003,500)"
    }
  ],
  "Steps": [
    {
      "id": "A2333_S1",
      "rule": "problem setup",
      "premises": [
        "A2333_C1: G = number of ways to assign friendships among 5 people satisfying: each pair friends or enemies, and for any enemies a,b no common friend c"
      ],
      "conclusions": [
        "A2333_C2: There are 5 distinct people",
        "A2333_C3: For distinct a,b: a ∼ b or enemies (¬ a ∼ b)",
        "A2333_C4: ∼ is symmetric: a ∼ b ⇔ b ∼ a",
        "A2333_C5: a ∼ a for all a"
      ]
    },
    {
      "id": "A2333_S2",
      "rule": "proof by contradiction: assume a ∼ b, b ∼ c, ¬ a ∼ c, then a,c enemies with common friend b",
      "premises": [
        "A2333_C3: For distinct a,b: a ∼ b or enemies (¬ a ∼ b)",
        "A2333_C4: ∼ is symmetric: a ∼ b ⇔ b ∼ a"
      ],
      "conclusions": [
        "A2333_C6: (a ∼ b ∧ b ∼ c) ⇒ a ∼ c for all a,b,c"
      ]
    },
    {
      "id": "A2333_S3",
      "rule": "definition: reflexive, symmetric, transitive",
      "premises": [
        "A2333_C5: a ∼ a for all a",
        "A2333_C4: ∼ is symmetric: a ∼ b ⇔ b ∼ a",
        "A2333_C6: (a ∼ b ∧ b ∼ c) ⇒ a ∼ c for all a,b,c"
      ],
      "conclusions": [
        "A2333_C7: ∼ is an equivalence relation"
      ]
    },
    {
      "id": "A2333_S4",
      "rule": "equivalence relations correspond to partitions with intra-class complete friendship, inter-class no edges",
      "premises": [
        "A2333_C7: ∼ is an equivalence relation",
        "A2333_C3: For distinct a,b: a ∼ b or enemies (¬ a ∼ b)"
      ],
      "conclusions": [
        "A2333_C8: Each such ∼ corresponds to a partition of the 5 people into equivalence classes, with friends within classes, enemies between"
      ]
    },
    {
      "id": "A2333_S5",
      "rule": "number of equivalence relations on n labeled elements is Bell number B_n",
      "premises": [
        "A2333_C8: Each such ∼ corresponds to a partition of the 5 people into equivalence classes, with friends within classes, enemies between",
        "A2333_C2: There are 5 distinct people"
      ],
      "conclusions": [
        "A2333_C9: G = B_5 where B_5 is the 5th Bell number"
      ]
    },
    {
      "id": "A2333_S6",
      "rule": "Bell number definition",
      "premises": [
        "A2333_C9: G = B_5 where B_5 is the 5th Bell number"
      ],
      "conclusions": [
        "A2333_C10: B_5 = ∑_{k=1}^5 S(5,k) where S(n,k) is Stirling number of the second kind"
      ]
    },
    {
      "id": "A2333_S7",
      "rule": "Stirling second kind S(n,1) = 1",
      "premises": [
        "A2333_C10: B_5 = ∑_{k=1}^5 S(5,k) where S(n,k) is Stirling number of the second kind"
      ],
      "conclusions": [
        "A2333_C11: S(5,1) = 1"
      ]
    },
    {
      "id": "A2333_S8",
      "rule": "binomial coefficient \binom{5}{1} = 5",
      "premises": [
        "A2333_C2: There are 5 distinct people"
      ],
      "conclusions": [
        "A2333_C12: \binom{5}{1} = 5"
      ]
    },
    {
      "id": "A2333_S9",
      "rule": "for type 4+1: choose singleton \binom{5}{1}",
      "premises": [
        "A2333_C12: \binom{5}{1} = 5"
      ],
      "conclusions": [
        "A2333_C13: Number of partitions of type 4+1: \binom{5}{1} = 5"
      ]
    },
    {
      "id": "A2333_S10",
      "rule": "binomial \binom{5}{3} = 10",
      "premises": [
        "A2333_C2: There are 5 distinct people"
      ],
      "conclusions": [
        "A2333_C14: \binom{5}{3} = 10"
      ]
    },
    {
      "id": "A2333_S11",
      "rule": "for type 3+2: choose triple \binom{5}{3}, remaining pair automatic, sizes differ no divide",
      "premises": [
        "A2333_C14: \binom{5}{3} = 10"
      ],
      "conclusions": [
        "A2333_C15: Number of partitions of type 3+2: \binom{5}{3} = 10"
      ]
    },
    {
      "id": "A2333_S12",
      "rule": "addition",
      "premises": [
        "A2333_C13: Number of partitions of type 4+1: \binom{5}{1} = 5",
        "A2333_C15: Number of partitions of type 3+2: \binom{5}{3} = 10"
      ],
      "conclusions": [
        "A2333_C16: S(5,2) = 5 + 10 = 15"
      ]
    },
    {
      "id": "A2333_S13",
      "rule": "for type 3+1+1: choose triple \binom{5}{3}",
      "premises": [
        "A2333_C14: \binom{5}{3} = 10"
      ],
      "conclusions": [
        "A2333_C17: Number of partitions of type 3+1+1: \binom{5}{3} = 10"
      ]
    },
    {
      "id": "A2333_S14",
      "rule": "binomial \binom{5}{1} = 5",
      "premises": [
        "A2333_C2: There are 5 distinct people"
      ],
      "conclusions": [
        "A2333_C18: \binom{5}{1} = 5"
      ]
    },
    {
      "id": "A2333_S15",
      "rule": "binomial \binom{4}{2} = 6",
      "premises": [],
      "conclusions": [
        "A2333_C19: \binom{4}{2} = 6"
      ]
    },
    {
      "id": "A2333_S16",
      "rule": "ways to pair 4: choose first pair \binom{4}{2}, divide by 2! for unlabeled pairs",
      "premises": [
        "A2333_C19: \binom{4}{2} = 6"
      ],
      "conclusions": [
        "A2333_C20: Number of ways to partition 4 labeled into 2 unlabeled pairs: \binom{4}{2}/2 = 3"
      ]
    },
    {
      "id": "A2333_S17",
      "rule": "multiplication",
      "premises": [
        "A2333_C18: \binom{5}{1} = 5",
        "A2333_C20: Number of ways to partition 4 labeled into 2 unlabeled pairs: \binom{4}{2}/2 = 3"
      ],
      "conclusions": [
        "A2333_C21: Number of partitions of type 2+2+1: 5 × 3 = 15"
      ]
    },
    {
      "id": "A2333_S18",
      "rule": "addition",
      "premises": [
        "A2333_C17: Number of partitions of type 3+1+1: \binom{5}{3} = 10",
        "A2333_C21: Number of partitions of type 2+2+1: 5 × 3 = 15"
      ],
      "conclusions": [
        "A2333_C22: S(5,3) = 10 + 15 = 25"
      ]
    },
    {
      "id": "A2333_S19",
      "rule": "binomial \binom{5}{2} = 10",
      "premises": [
        "A2333_C2: There are 5 distinct people"
      ],
      "conclusions": [
        "A2333_C23: \binom{5}{2} = 10"
      ]
    },
    {
      "id": "A2333_S20",
      "rule": "for type 2+1+1+1: choose pair \binom{5}{2}, no symmetry divide",
      "premises": [
        "A2333_C23: \binom{5}{2} = 10"
      ],
      "conclusions": [
        "A2333_C24: Number of partitions of type 2+1+1+1: \binom{5}{2} = 10"
      ]
    },
    {
      "id": "A2333_S21",
      "rule": "Stirling S(5,4) = number of type 2+1+1+1",
      "premises": [
        "A2333_C24: Number of partitions of type 2+1+1+1: \binom{5}{2} = 10"
      ],
      "conclusions": [
        "A2333_C25: S(5,4) = 10"
      ]
    },
    {
      "id": "A2333_S22",
      "rule": "S(5,5) = 1 all singletons",
      "premises": [
        "A2333_C10: B_5 = ∑_{k=1}^5 S(5,k) where S(n,k) is Stirling number of the second kind"
      ],
      "conclusions": [
        "A2333_C26: S(5,5) = 1"
      ]
    },
    {
      "id": "A2333_S23",
      "rule": "sum",
      "premises": [
        "A2333_C11: S(5,1) = 1",
        "A2333_C16: S(5,2) = 5 + 10 = 15",
        "A2333_C22: S(5,3) = 10 + 15 = 25",
        "A2333_C25: S(5,4) = 10",
        "A2333_C26: S(5,5) = 1"
      ],
      "conclusions": [
        "A2333_C27: B_5 = 1 + 15 + 25 + 10 + 1 = 52"
      ]
    },
    {
      "id": "A2333_S24",
      "rule": "final equivalence",
      "premises": [
        "A2333_C9: G = B_5 where B_5 is the 5th Bell number",
        "A2333_C27: B_5 = 1 + 15 + 25 + 10 + 1 = 52"
      ],
      "conclusions": [
        "A2333_C28: G = 52"
      ]
    },
    {
      "id": "A507_S1",
      "rule": "problem setup",
      "premises": [
        "A507_C1: I = number of interior lattice points in triangle with vertices A=(0,99), B=(5,100), C=(2003,500)"
      ],
      "conclusions": [
        "A507_C2: A=(0,99), B=(5,100), C=(2003,500)",
        "A507_C3: lattice points have integer coordinates",
        "A507_C4: interior points strictly inside triangle, excluding boundary"
      ]
    },
    {
      "id": "A507_S2",
      "rule": "vector subtraction",
      "premises": [
        "A507_C2: A=(0,99), B=(5,100), C=(2003,500)"
      ],
      "conclusions": [
        "A507_C5: AB = B - A = (5,1)"
      ]
    },
    {
      "id": "A507_S3",
      "rule": "vector subtraction",
      "premises": [
        "A507_C2: A=(0,99), B=(5,100), C=(2003,500)"
      ],
      "conclusions": [
        "A507_C6: AC = C - A = (2003,401)"
      ]
    },
    {
      "id": "A507_S4",
      "rule": "determinant definition",
      "premises": [
        "A507_C5: AB = B - A = (5,1)",
        "A507_C6: AC = C - A = (2003,401)"
      ],
      "conclusions": [
        "A507_C7: det(AB, AC) = 5 × 401 - 1 × 2003"
      ]
    },
    {
      "id": "A507_S5",
      "rule": "multiplication",
      "premises": [
        "A507_C7: det(AB, AC) = 5 × 401 - 1 × 2003"
      ],
      "conclusions": [
        "A507_C8: 5 × 401 = 2005"
      ]
    },
    {
      "id": "A507_S6",
      "rule": "multiplication",
      "premises": [
        "A507_C7: det(AB, AC) = 5 × 401 - 1 × 2003"
      ],
      "conclusions": [
        "A507_C9: 1 × 2003 = 2003"
      ]
    },
    {
      "id": "A507_S7",
      "rule": "subtraction",
      "premises": [
        "A507_C8: 5 × 401 = 2005",
        "A507_C9: 1 × 2003 = 2003"
      ],
      "conclusions": [
        "A507_C10: 2005 - 2003 = 2"
      ]
    },
    {
      "id": "A507_S8",
      "rule": "absolute value",
      "premises": [
        "A507_C10: 2005 - 2003 = 2"
      ],
      "conclusions": [
        "A507_C11: |2| equal to 2"
      ]
    },
    {
      "id": "A507_S9",
      "rule": "area formula",
      "premises": [
        "A507_C11: |2| equal to 2"
      ],
      "conclusions": [
        "A507_C12: area A = (1/2) × 2 = 1"
      ]
    },
    {
      "id": "A507_S10",
      "rule": "inspection of coordinates",
      "premises": [
        "A507_C2: A=(0,99), B=(5,100), C=(2003,500)",
        "A507_C3: lattice points have integer coordinates"
      ],
      "conclusions": [
        "A507_C13: A, B, C are lattice points"
      ]
    },
    {
      "id": "A507_S11",
      "rule": "gcd computation",
      "premises": [
        "A507_C5: AB = B - A = (5,1)"
      ],
      "conclusions": [
        "A507_C14: gcd(5,1) = 1"
      ]
    },
    {
      "id": "A507_S12",
      "rule": "lattice points on edge formula",
      "premises": [
        "A507_C14: gcd(5,1) = 1"
      ],
      "conclusions": [
        "A507_C15: lattice points on AB including endpoints = 1 + 1 = 2"
      ]
    },
    {
      "id": "A507_S13",
      "rule": "Euclidean algorithm step",
      "premises": [
        "A507_C6: AC = C - A = (2003,401)"
      ],
      "conclusions": [
        "A507_C16: 2003 = 4 × 401 + 399"
      ]
    },
    {
      "id": "A507_S14",
      "rule": "Euclidean algorithm step",
      "premises": [
        "A507_C16: 2003 = 4 × 401 + 399",
        "A507_C18: 401 - 399 = 2"
      ],
      "conclusions": [
        "A507_C17: gcd(401,399) = gcd(399,2)"
      ]
    },
    {
      "id": "A507_S15",
      "rule": "subtraction",
      "premises": [
        "A507_C6: AC = C - A = (2003,401)"
      ],
      "conclusions": [
        "A507_C18: 401 - 399 = 2"
      ]
    },
    {
      "id": "A507_S16",
      "rule": "Euclidean algorithm step",
      "premises": [
        "A507_C17: gcd(401,399) = gcd(399,2)"
      ],
      "conclusions": [
        "A507_C19: 399 = 199 × 2 + 1"
      ]
    },
    {
      "id": "A507_S17",
      "rule": "Euclidean algorithm step",
      "premises": [
        "A507_C19: 399 = 199 × 2 + 1"
      ],
      "conclusions": [
        "A507_C20: gcd(2,1) = 1"
      ]
    },
    {
      "id": "A507_S18",
      "rule": "gcd conclusion",
      "premises": [
        "A507_C20: gcd(2,1) = 1"
      ],
      "conclusions": [
        "A507_C21: gcd(2003,401) = 1"
      ]
    },
    {
      "id": "A507_S19",
      "rule": "lattice points on edge formula",
      "premises": [
        "A507_C21: gcd(2003,401) = 1"
      ],
      "conclusions": [
        "A507_C22: lattice points on AC including endpoints = 1 + 1 = 2"
      ]
    },
    {
      "id": "A507_S20",
      "rule": "vector subtraction",
      "premises": [
        "A507_C2: A=(0,99), B=(5,100), C=(2003,500)"
      ],
      "conclusions": [
        "A507_C23: BC = C - B = (1998,400)"
      ]
    },
    {
      "id": "A507_S21",
      "rule": "Euclidean algorithm step",
      "premises": [
        "A507_C23: BC = C - B = (1998,400)"
      ],
      "conclusions": [
        "A507_C24: 1998 = 4 × 400 + 398"
      ]
    },
    {
      "id": "A507_S22",
      "rule": "subtraction",
      "premises": [
        "A507_C23: BC = C - B = (1998,400)"
      ],
      "conclusions": [
        "A507_C25: 400 - 398 = 2"
      ]
    },
    {
      "id": "A507_S23",
      "rule": "Euclidean algorithm step",
      "premises": [
        "A507_C24: 1998 = 4 × 400 + 398",
        "A507_C25: 400 - 398 = 2"
      ],
      "conclusions": [
        "A507_C26: 398 = 199 × 2 + 0"
      ]
    },
    {
      "id": "A507_S24",
      "rule": "gcd conclusion",
      "premises": [
        "A507_C26: 398 = 199 × 2 + 0"
      ],
      "conclusions": [
        "A507_C27: gcd(1998,400) = 2"
      ]
    },
    {
      "id": "A507_S25",
      "rule": "lattice points on edge formula",
      "premises": [
        "A507_C27: gcd(1998,400) = 2"
      ],
      "conclusions": [
        "A507_C28: lattice points on BC including endpoints = 2 + 1 = 3"
      ]
    },
    {
      "id": "A507_S26",
      "rule": "interior boundary per edge",
      "premises": [
        "A507_C14: gcd(5,1) = 1"
      ],
      "conclusions": [
        "A507_C29: interior boundary points on AB = 1 - 1 = 0"
      ]
    },
    {
      "id": "A507_S27",
      "rule": "interior boundary per edge",
      "premises": [
        "A507_C21: gcd(2003,401) = 1"
      ],
      "conclusions": [
        "A507_C30: interior boundary points on AC = 1 - 1 = 0"
      ]
    },
    {
      "id": "A507_S28",
      "rule": "interior boundary per edge",
      "premises": [
        "A507_C27: gcd(1998,400) = 2"
      ],
      "conclusions": [
        "A507_C31: interior boundary points on BC = 2 - 1 = 1"
      ]
    },
    {
      "id": "A507_S29",
      "rule": "summation",
      "premises": [
        "A507_C29: interior boundary points on AB = 1 - 1 = 0",
        "A507_C30: interior boundary points on AC = 1 - 1 = 0",
        "A507_C31: interior boundary points on BC = 2 - 1 = 1"
      ],
      "conclusions": [
        "A507_C32: total interior boundary points = 0 + 0 + 1 = 1"
      ]
    },
    {
      "id": "A507_S30",
      "rule": "total boundary count",
      "premises": [
        "A507_C13: A, B, C are lattice points",
        "A507_C32: total interior boundary points = 0 + 0 + 1 = 1"
      ],
      "conclusions": [
        "A507_C33: B = 3 + 1 = 4"
      ]
    },
    {
      "id": "A507_S31",
      "rule": "Pick's Theorem recall",
      "premises": [
        "A507_C3: lattice points have integer coordinates",
        "A507_C4: interior points strictly inside triangle, excluding boundary"
      ],
      "conclusions": [
        "A507_C34: Pick's Theorem: A = I + B/2 - 1"
      ]
    },
    {
      "id": "A507_S32",
      "rule": "algebraic rearrangement",
      "premises": [
        "A507_C34: Pick's Theorem: A = I + B/2 - 1"
      ],
      "conclusions": [
        "A507_C35: I = A - B/2 + 1"
      ]
    },
    {
      "id": "A507_S33",
      "rule": "division",
      "premises": [
        "A507_C33: B = 3 + 1 = 4"
      ],
      "conclusions": [
        "A507_C36: B/2 = 4/2 = 2"
      ]
    },
    {
      "id": "A507_S34",
      "rule": "arithmetic computation",
      "premises": [
        "A507_C12: area A = (1/2) × 2 = 1",
        "A507_C36: B/2 = 4/2 = 2"
      ],
      "conclusions": [
        "A507_C37: 1 - 2 + 1 = 0"
      ]
    },
    {
      "id": "A507_S35",
      "rule": "theorem application",
      "premises": [
        "A507_C35: I = A - B/2 + 1",
        "A507_C37: 1 - 2 + 1 = 0"
      ],
      "conclusions": [
        "A507_C38: I = 0"
      ]
    },
    {
      "id": "D905_S1",
      "rule": "problem connection",
      "premises": [
        "D905_C1: I = number of interior lattice points in triangle with vertices A=((S(5,5) - 1),99), B=(5,100), C=(2003,500)",
        "A2333_C26: S(5,5) = 1"
      ],
      "conclusions": [
        "A507_C1: I = number of interior lattice points in triangle with vertices A=(0,99), B=(5,100), C=(2003,500)"
      ]
    }
  ]
}