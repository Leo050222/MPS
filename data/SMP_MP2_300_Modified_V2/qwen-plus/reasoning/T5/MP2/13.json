{
  "Problem_ID": 13,
  "Chunk_Type": "T5",
  "Class_ID": "B891",
  "Multiple_Synthesis_Class": "MP2",
  "Sub_Class_ID": [
    {
      "A3819": "A3819_DG_1"
    },
    {
      "A3564": "A3564_DG_2"
    }
  ],
  "Synthesis_Trace": "DG-DG",
  "Synthesis_Status": "Continuable",
  "Math_Problem": "The function $f(n)$ is defined on the positive integers and takes non-negative integer values. $f(2)=0,f(3)>0,f(9999)=3333$ and for all $m,n:$ \\\\[ f(m+n)-f(m)-f(n)=0 \\\\text{ or } 1. \\\\] Determine $f(1982)$. Instead of determining the value of the function at 1982, simply find $k = f(3) + 1$, where $f(3)$ is the positive integer value attained by the function at 3 derived from the functional equation and given conditions. Find all integers $n$ satisfying $n \\\\geq k$ and $\\\\dfrac{\\\\sigma(n)}{p(n)-(k - 1)} = n$, in which $\\\\sigma(n)$ denotes the sum of all positive divisors of $n$, and $p(n)$ denotes the largest prime divisor of $n$.",
  "Connecting_Sentence": [
    {
      "A3819": "Instead of determining the value of the function at 1982, simply find $k = f(3) + 1$, where $f(3)$ is the positive integer value attained by the function at 3 derived from the functional equation and given conditions."
    },
    {
      "A3564": "None"
    }
  ],
  "Synthesised_By": [
    {
      "A3819": "The function $f(n)$ is defined on the positive integers and takes non-negative integer values. $f(2)=0,f(3)>0,f(9999)=3333$ and for all $m,n:$ \\[ f(m+n)-f(m)-f(n)=0 \\text{ or } 1. \\] Determine $f(1982)$. Instead of determining the value of the function at 1982, simply find $k = f(3) + 1$, where $f(3)$ is the positive integer value attained by the function at 3 derived from the functional equation and given conditions."
    },
    {
      "A3564": "Find all integers $n$ satisfying $n \\geq 2$ and $\\dfrac{\\sigma(n)}{p(n)-1} = n$, in which $\\sigma(n)$ denotes the sum of all positive divisors of $n$, and $p(n)$ denotes the largest prime divisor of $n$."
    }
  ],
  "Original_Problem": [
    {
      "A3819": "The function $f(n)$ is defined on the positive integers and takes non-negative integer values. $f(2)=0,f(3)>0,f(9999)=3333$ and for all $m,n:$ \\[ f(m+n)-f(m)-f(n)=0 \\text{ or } 1. \\] Determine $f(1982)$."
    },
    {
      "A3564": "Find all integers $n$ satisfying $n \\geq 2$ and $\\dfrac{\\sigma(n)}{p(n)-1} = n$, in which $\\sigma(n)$ denotes the sum of all positive divisors of $n$, and $p(n)$ denotes the largest prime divisor of $n$."
    }
  ],
  "Problem_Type": [
    {
      "A3819": [
        "Mathematics -> Algebra -> Intermediate Algebra -> Other"
      ]
    },
    {
      "A3564": [
        "Mathematics -> Number Theory -> Factorization"
      ]
    }
  ],
  "Problem_Level": [
    {
      "A3819": "KbsdJames_Omni-MATH_7.5"
    },
    {
      "A3564": "KbsdJames_Omni-MATH_8.0"
    }
  ],
  "Problem_Source": [
    {
      "A3819": "imo"
    },
    {
      "A3564": "apmo"
    }
  ],
  "Problem_Length": [
    {
      "A3819": 203
    },
    {
      "A3564": 203
    }
  ],
  "Synthesised_Problem_Length": 632,
  "Ground_Truth": [
    {
      "A3819": "660"
    },
    {
      "A3564": "6"
    }
  ],
  "Predicted_Answer": [
    {
      "A3819": "660"
    },
    {
      "A3564": "6"
    }
  ],
  "Connecting_Point": [
    {
      "B891": {
        "2": "(f(3) + 1)"
      }
    }
  ],
  "Delta_Factor": [
    {
      "A3819": 0.5
    },
    {
      "A3564": 0.95
    }
  ],
  "Delta_Value": [
    {
      "A3819": {
        "f(3)": "1"
      }
    },
    {
      "A3564": {
        "p(6)": "3"
      }
    }
  ],
  "Delta_Depth": [
    {
      "A3819": {
        "f(3)": 7
      }
    },
    {
      "A3564": {
        "p(6)": 19
      }
    }
  ],
  "Delta_Source": [
    {
      "A3819": "derived"
    },
    {
      "A3564": "derived"
    }
  ],
  "Delta_Value_Order": [
    {
      "A3819": 1
    },
    {
      "A3564": 2
    }
  ],
  "Delta_Variable_Names": [
    {
      "A3819": [
        "f"
      ]
    },
    {
      "A3564": [
        "p"
      ]
    }
  ],
  "Delta_Socket": [
    {
      "A3819": {
        "1982": 1982.0
      }
    },
    {
      "A3564": {
        "2": 2.0
      }
    }
  ],
  "Source_Delta_Socket": [
    {
      "A3819": "goal"
    },
    {
      "A3564": "goal"
    }
  ],
  "Delta_Socket_Order": [
    {
      "A3819": 1
    },
    {
      "A3564": 1
    }
  ],
  "Variable_Names": [
    {
      "A3819": [
        "n",
        "f",
        "m"
      ]
    },
    {
      "A3564": [
        "n",
        "p"
      ]
    }
  ],
  "Total_Claims": [
    {
      "A3819": 14
    },
    {
      "A3564": 20
    }
  ],
  "Total_Delta": [
    {
      "A3819": 2
    },
    {
      "A3564": 2
    }
  ],
  "Total_Delta_Socket": [
    {
      "A3819": 1
    },
    {
      "A3564": 1
    }
  ],
  "Max_Delta_Factor": [
    {
      "A3819": 1.0
    },
    {
      "A3564": 0.95
    }
  ],
  "Min_Delta_Factor": [
    {
      "A3819": 0.5
    },
    {
      "A3564": 0.65
    }
  ],
  "Max_Delta_Depth": [
    {
      "A3819": 14
    },
    {
      "A3564": 19
    }
  ],
  "Min_Delta_Depth": [
    {
      "A3819": 7
    },
    {
      "A3564": 13
    }
  ],
  "Claims": [
    {
      "id": "A3819_C1",
      "type": "goal",
      "expr": "f(1982)"
    },
    {
      "id": "A3819_C2",
      "type": "context",
      "expr": "f(2)=0"
    },
    {
      "id": "A3819_C3",
      "type": "context",
      "expr": "f(3)>0"
    },
    {
      "id": "A3819_C4",
      "type": "context",
      "expr": "f(9999)=3333"
    },
    {
      "id": "A3819_C5",
      "type": "context",
      "expr": "∀m,n f(m+n)-f(m)-f(n)∈{0,1}"
    },
    {
      "id": "A3819_C6",
      "type": "context",
      "expr": "f(n)∈ℤ_{≥0} ∀n"
    },
    {
      "id": "A3819_C7",
      "type": "derived",
      "expr": "f(3)=1"
    },
    {
      "id": "A3819_C8",
      "type": "derived",
      "expr": "f(3k)=k ∀k"
    },
    {
      "id": "A3819_C9",
      "type": "derived",
      "expr": "∀m, f(3m)=3f(m) + e_m, e_m∈{0,1,2}"
    },
    {
      "id": "A3819_C10",
      "type": "derived",
      "expr": "3f(m) + e_m = m ∀m"
    },
    {
      "id": "A3819_C11",
      "type": "derived",
      "expr": "e_m ≡ m (mod 3) ∀m"
    },
    {
      "id": "A3819_C12",
      "type": "derived",
      "expr": "e_m = m mod 3 ∀m"
    },
    {
      "id": "A3819_C13",
      "type": "derived",
      "expr": "f(m) = floor(m/3) ∀m"
    },
    {
      "id": "A3819_C14",
      "type": "final",
      "expr": "f(1982)=660"
    },
    {
      "id": "A3564_C1",
      "type": "derived",
      "expr": "find all integers n ≥ 2 s.t. σ(n) = n · (p(n) - 1)"
    },
    {
      "id": "A3564_C2",
      "type": "context",
      "expr": "σ(n) = ∑_{d|n, d>0} d"
    },
    {
      "id": "A3564_C3",
      "type": "context",
      "expr": "p(n) = max {q prime : q | n}"
    },
    {
      "id": "A3564_C4",
      "type": "context",
      "expr": "n ≥ 2 is integer"
    },
    {
      "id": "A3564_C5",
      "type": "derived",
      "expr": "σ(n)/n = p(n) - 1"
    },
    {
      "id": "A3564_C6",
      "type": "derived",
      "expr": "let k = p(n) - 1 ≥ 2, then p(n) = k + 1 is prime and σ(n)/n = k"
    },
    {
      "id": "A3564_C7",
      "type": "derived",
      "expr": "all prime factors of n are ≤ p(n)"
    },
    {
      "id": "A3564_C8",
      "type": "derived",
      "expr": "if n = p^k (k ≥ 1, p prime) then no solutions for n ≥ 2"
    },
    {
      "id": "A3564_C9",
      "type": "derived",
      "expr": "for k=1 (n prime): n^2 - 2n - 1 = 0 has no integer roots n ≥ 2"
    },
    {
      "id": "A3564_C10",
      "type": "derived",
      "expr": "for k ≥ 2: p^{k+1} - 1 = p^k (p-1)^2 leads to p^{k+2} - 3p^{k+1} + p^k + 1 = 0, no prime p ≥ 2, k ≥ 2 solutions"
    },
    {
      "id": "A3564_C11",
      "type": "derived",
      "expr": "if n = p q (distinct primes, q < p) then (1 + p)(1 + q) = p q (p - 1)"
    },
    {
      "id": "A3564_C12",
      "type": "derived",
      "expr": "1 + p + q + p q (2 - p) = 0"
    },
    {
      "id": "A3564_C13",
      "type": "derived",
      "expr": "the only solution is p=3, q=2, n=6"
    },
    {
      "id": "A3564_C14",
      "type": "derived",
      "expr": "for n with ≥ 3 distinct prime factors, σ(n)/n < p(n) - 1"
    },
    {
      "id": "A3564_C15",
      "type": "derived",
      "expr": "for n = 2^a 3^b (a ≥ 1, b ≥ 1, p(n)=3), σ(n) = 2 n only when a=1, b=1 (n=6)"
    },
    {
      "id": "A3564_C16",
      "type": "derived",
      "expr": "for p(n) ≥ 5, max possible σ(n)/n over primes ≤ p(n) < p(n) - 1"
    },
    {
      "id": "A3564_C17",
      "type": "final",
      "expr": "the only solution is n = 6"
    },
    {
      "id": "A3564_C18",
      "type": "derived",
      "expr": "σ(6) = 12"
    },
    {
      "id": "A3564_C19",
      "type": "derived",
      "expr": "p(6) = 3"
    },
    {
      "id": "A3564_C20",
      "type": "derived",
      "expr": "12 = 6 · (3 - 1)"
    },
    {
      "id": "B891_C1",
      "type": "goal",
      "expr": "find all integers n ≥ (f(3) + 1) s.t. σ(n) = n · (p(n) - 1)"
    }
  ],
  "Steps": [
    {
      "id": "A3819_S1",
      "rule": "problem setup",
      "premises": [
        "A3819_C1: f(1982)"
      ],
      "conclusions": [
        "A3819_C2: f(2)=0",
        "A3819_C3: f(3)>0",
        "A3819_C4: f(9999)=3333",
        "A3819_C5: ∀m,n f(m+n)-f(m)-f(n)∈{0,1}",
        "A3819_C6: f(n)∈ℤ_{≥0} ∀n"
      ]
    },
    {
      "id": "A3819_S2",
      "rule": "superadditivity bound",
      "premises": [
        "A3819_C5: ∀m,n f(m+n)-f(m)-f(n)∈{0,1}",
        "A3819_C4: f(9999)=3333",
        "A3819_C3: f(3)>0",
        "A3819_C6: f(n)∈ℤ_{≥0} ∀n"
      ],
      "conclusions": [
        "A3819_C7: f(3)=1"
      ]
    },
    {
      "id": "A3819_S3",
      "rule": "exact additivity on multiples of 3",
      "premises": [
        "A3819_C5: ∀m,n f(m+n)-f(m)-f(n)∈{0,1}",
        "A3819_C7: f(3)=1",
        "A3819_C4: f(9999)=3333"
      ],
      "conclusions": [
        "A3819_C8: f(3k)=k ∀k"
      ]
    },
    {
      "id": "A3819_S4",
      "rule": "decomposition into triple sum",
      "premises": [
        "A3819_C5: ∀m,n f(m+n)-f(m)-f(n)∈{0,1}"
      ],
      "conclusions": [
        "A3819_C9: ∀m, f(3m)=3f(m) + e_m, e_m∈{0,1,2}"
      ]
    },
    {
      "id": "A3819_S5",
      "rule": "substitute known value",
      "premises": [
        "A3819_C8: f(3k)=k ∀k",
        "A3819_C9: ∀m, f(3m)=3f(m) + e_m, e_m∈{0,1,2}"
      ],
      "conclusions": [
        "A3819_C10: 3f(m) + e_m = m ∀m"
      ]
    },
    {
      "id": "A3819_S6",
      "rule": "divisibility condition",
      "premises": [
        "A3819_C10: 3f(m) + e_m = m ∀m",
        "A3819_C6: f(n)∈ℤ_{≥0} ∀n"
      ],
      "conclusions": [
        "A3819_C11: e_m ≡ m (mod 3) ∀m"
      ]
    },
    {
      "id": "A3819_S7",
      "rule": "residue determination",
      "premises": [
        "A3819_C11: e_m ≡ m (mod 3) ∀m"
      ],
      "conclusions": [
        "A3819_C12: e_m = m mod 3 ∀m"
      ]
    },
    {
      "id": "A3819_S8",
      "rule": "simplify expression",
      "premises": [
        "A3819_C10: 3f(m) + e_m = m ∀m",
        "A3819_C12: e_m = m mod 3 ∀m"
      ],
      "conclusions": [
        "A3819_C13: f(m) = floor(m/3) ∀m"
      ]
    },
    {
      "id": "A3819_S9",
      "rule": "apply to specific value",
      "premises": [
        "A3819_C13: f(m) = floor(m/3) ∀m"
      ],
      "conclusions": [
        "A3819_C14: f(1982)=660"
      ]
    },
    {
      "id": "A3564_S1",
      "rule": "problem setup",
      "premises": [
        "A3564_C1: find all integers n ≥ 2 s.t. σ(n) = n · (p(n) - 1)"
      ],
      "conclusions": [
        "A3564_C2: σ(n) = ∑_{d|n, d>0} d",
        "A3564_C3: p(n) = max {q prime : q | n}",
        "A3564_C4: n ≥ 2 is integer"
      ]
    },
    {
      "id": "A3564_S2",
      "rule": "algebraic rearrangement",
      "premises": [
        "A3564_C1: find all integers n ≥ 2 s.t. σ(n) = n · (p(n) - 1)"
      ],
      "conclusions": [
        "A3564_C5: σ(n)/n = p(n) - 1"
      ]
    },
    {
      "id": "A3564_S3",
      "rule": "rewrite equation",
      "premises": [
        "A3564_C5: σ(n)/n = p(n) - 1",
        "A3564_C3: p(n) = max {q prime : q | n}"
      ],
      "conclusions": [
        "A3564_C6: let k = p(n) - 1 ≥ 2, then p(n) = k + 1 is prime and σ(n)/n = k"
      ]
    },
    {
      "id": "A3564_S4",
      "rule": "property of divisors",
      "premises": [
        "A3564_C3: p(n) = max {q prime : q | n}"
      ],
      "conclusions": [
        "A3564_C7: all prime factors of n are ≤ p(n)"
      ]
    },
    {
      "id": "A3564_S5",
      "rule": "case: prime powers",
      "premises": [
        "A3564_C1: find all integers n ≥ 2 s.t. σ(n) = n · (p(n) - 1)",
        "A3564_C7: all prime factors of n are ≤ p(n)"
      ],
      "conclusions": [
        "A3564_C8: if n = p^k (k ≥ 1, p prime) then no solutions for n ≥ 2"
      ]
    },
    {
      "id": "A3564_S6",
      "rule": "subcase: primes (k=1)",
      "premises": [
        "A3564_C1: find all integers n ≥ 2 s.t. σ(n) = n · (p(n) - 1)",
        "A3564_C2: σ(n) = ∑_{d|n, d>0} d",
        "A3564_C3: p(n) = max {q prime : q | n}"
      ],
      "conclusions": [
        "A3564_C9: for k=1 (n prime): n^2 - 2n - 1 = 0 has no integer roots n ≥ 2"
      ]
    },
    {
      "id": "A3564_S7",
      "rule": "subcase: higher powers (k≥2)",
      "premises": [
        "A3564_C1: find all integers n ≥ 2 s.t. σ(n) = n · (p(n) - 1)",
        "A3564_C2: σ(n) = ∑_{d|n, d>0} d"
      ],
      "conclusions": [
        "A3564_C10: for k ≥ 2: p^{k+1} - 1 = p^k (p-1)^2 leads to p^{k+2} - 3p^{k+1} + p^k + 1 = 0, no prime p ≥ 2, k ≥ 2 solutions"
      ]
    },
    {
      "id": "A3564_S8",
      "rule": "case: semiprimes",
      "premises": [
        "A3564_C1: find all integers n ≥ 2 s.t. σ(n) = n · (p(n) - 1)",
        "A3564_C7: all prime factors of n are ≤ p(n)"
      ],
      "conclusions": [
        "A3564_C11: if n = p q (distinct primes, q < p) then (1 + p)(1 + q) = p q (p - 1)"
      ]
    },
    {
      "id": "A3564_S9",
      "rule": "multiplicative σ",
      "premises": [
        "A3564_C2: σ(n) = ∑_{d|n, d>0} d",
        "A3564_C11: if n = p q (distinct primes, q < p) then (1 + p)(1 + q) = p q (p - 1)"
      ],
      "conclusions": [
        "A3564_C11: if n = p q (distinct primes, q < p) then (1 + p)(1 + q) = p q (p - 1)"
      ]
    },
    {
      "id": "A3564_S10",
      "rule": "algebraic simplification",
      "premises": [
        "A3564_C11: if n = p q (distinct primes, q < p) then (1 + p)(1 + q) = p q (p - 1)"
      ],
      "conclusions": [
        "A3564_C12: 1 + p + q + p q (2 - p) = 0"
      ]
    },
    {
      "id": "A3564_S11",
      "rule": "solve Diophantine eq",
      "premises": [
        "A3564_C12: 1 + p + q + p q (2 - p) = 0"
      ],
      "conclusions": [
        "A3564_C13: the only solution is p=3, q=2, n=6"
      ]
    },
    {
      "id": "A3564_S12",
      "rule": "case: ≥3 distinct primes",
      "premises": [
        "A3564_C6: let k = p(n) - 1 ≥ 2, then p(n) = k + 1 is prime and σ(n)/n = k",
        "A3564_C7: all prime factors of n are ≤ p(n)"
      ],
      "conclusions": [
        "A3564_C14: for n with ≥ 3 distinct prime factors, σ(n)/n < p(n) - 1"
      ]
    },
    {
      "id": "A3564_S13",
      "rule": "for p(n)=3 (k=2), perfect n=2^a 3^b",
      "premises": [
        "A3564_C6: let k = p(n) - 1 ≥ 2, then p(n) = k + 1 is prime and σ(n)/n = k"
      ],
      "conclusions": [
        "A3564_C15: for n = 2^a 3^b (a ≥ 1, b ≥ 1, p(n)=3), σ(n) = 2 n only when a=1, b=1 (n=6)"
      ]
    },
    {
      "id": "A3564_S14",
      "rule": "solve (2^{a+1}-1)(3^{b+1}-1)/2 = 2^{a+1} 3^b",
      "premises": [
        "A3564_C15: for n = 2^a 3^b (a ≥ 1, b ≥ 1, p(n)=3), σ(n) = 2 n only when a=1, b=1 (n=6)",
        "A3564_C2: σ(n) = ∑_{d|n, d>0} d"
      ],
      "conclusions": [
        "A3564_C15: for n = 2^a 3^b (a ≥ 1, b ≥ 1, p(n)=3), σ(n) = 2 n only when a=1, b=1 (n=6)"
      ]
    },
    {
      "id": "A3564_S15",
      "rule": "for larger p, compare to Mertens product ∏_{q≤p} 1/(1-1/q) < p-1",
      "premises": [
        "A3564_C6: let k = p(n) - 1 ≥ 2, then p(n) = k + 1 is prime and σ(n)/n = k",
        "A3564_C7: all prime factors of n are ≤ p(n)"
      ],
      "conclusions": [
        "A3564_C16: for p(n) ≥ 5, max possible σ(n)/n over primes ≤ p(n) < p(n) - 1"
      ]
    },
    {
      "id": "A3564_S16",
      "rule": "combine cases: only n=6 satisfies",
      "premises": [
        "A3564_C8: if n = p^k (k ≥ 1, p prime) then no solutions for n ≥ 2",
        "A3564_C13: the only solution is p=3, q=2, n=6",
        "A3564_C14: for n with ≥ 3 distinct prime factors, σ(n)/n < p(n) - 1",
        "A3564_C15: for n = 2^a 3^b (a ≥ 1, b ≥ 1, p(n)=3), σ(n) = 2 n only when a=1, b=1 (n=6)",
        "A3564_C16: for p(n) ≥ 5, max possible σ(n)/n over primes ≤ p(n) < p(n) - 1"
      ],
      "conclusions": [
        "A3564_C17: the only solution is n = 6"
      ]
    },
    {
      "id": "A3564_S17",
      "rule": "factorization",
      "premises": [
        "A3564_C4: n ≥ 2 is integer"
      ],
      "conclusions": [
        "A3564_C10: for k ≥ 2: p^{k+1} - 1 = p^k (p-1)^2 leads to p^{k+2} - 3p^{k+1} + p^k + 1 = 0, no prime p ≥ 2, k ≥ 2 solutions"
      ]
    },
    {
      "id": "A3564_S18",
      "rule": "list divisors of 6",
      "premises": [
        "A3564_C10: for k ≥ 2: p^{k+1} - 1 = p^k (p-1)^2 leads to p^{k+2} - 3p^{k+1} + p^k + 1 = 0, no prime p ≥ 2, k ≥ 2 solutions"
      ],
      "conclusions": [
        "A3564_C13: the only solution is p=3, q=2, n=6"
      ]
    },
    {
      "id": "A3564_S19",
      "rule": "sum",
      "premises": [
        "A3564_C2: σ(n) = ∑_{d|n, d>0} d",
        "A3564_C13: the only solution is p=3, q=2, n=6"
      ],
      "conclusions": [
        "A3564_C18: σ(6) = 12"
      ]
    },
    {
      "id": "A3564_S20",
      "rule": "largest prime",
      "premises": [
        "A3564_C3: p(n) = max {q prime : q | n}",
        "A3564_C10: for k ≥ 2: p^{k+1} - 1 = p^k (p-1)^2 leads to p^{k+2} - 3p^{k+1} + p^k + 1 = 0, no prime p ≥ 2, k ≥ 2 solutions"
      ],
      "conclusions": [
        "A3564_C19: p(6) = 3"
      ]
    },
    {
      "id": "A3564_S21",
      "rule": "verify equation for n=6",
      "premises": [
        "A3564_C18: σ(6) = 12",
        "A3564_C19: p(6) = 3",
        "A3564_C1: find all integers n ≥ 2 s.t. σ(n) = n · (p(n) - 1)"
      ],
      "conclusions": [
        "A3564_C20: 12 = 6 · (3 - 1)"
      ]
    },
    {
      "id": "B891_S1",
      "rule": "problem connection",
      "premises": [
        "B891_C1: find all integers n ≥ (f(3) + 1) s.t. σ(n) = n · (p(n) - 1)",
        "A3819_C7: f(3)=1"
      ],
      "conclusions": [
        "A3564_C1: find all integers n ≥ 2 s.t. σ(n) = n · (p(n) - 1)"
      ]
    }
  ]
}