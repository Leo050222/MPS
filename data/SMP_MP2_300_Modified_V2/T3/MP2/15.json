{
  "Problem_ID": 15,
  "Chunk_Type": "T3",
  "Class_ID": "D782",
  "Multiple_Synthesis_Class": "MP2",
  "Sub_Class_ID": [
    {
      "A2462": "A2462_DG_1"
    },
    {
      "A1361": "A1361_DG_1"
    }
  ],
  "Synthesis_Trace": "DG-DG",
  "Synthesis_Status": "Continuable",
  "Math_Problem": "A group of 101 Dalmathians participate in an election, where they each vote independently on either candidate $A$ or $B$ with equal probability. If $X$ Dalmathians voted for the winning candidate, the expected value of $X^{2}$ can be expressed as $\\frac{a}{b}$ for positive integers $a, b$ with $\\operatorname{gcd}(a, b)=1$. Find the unique positive integer $k \\leq 103$ such that $103 \\mid a-bk$. Instead of determining the specified integer related to the expected value of the square of the number voting for the winning candidate, simply find $r = P(\\textrm{same}) + 3/2$, where $P(\\textrm{same})$ is the probability that two voters vote for the same candidate derived from the independence of their votes. Find all possible values of $\\frac{d}{a}$ where $a^{r}-6 a d+8 d^{2}=0, a \\neq 0$.",
  "Connecting_Sentence": [
    {
      "A2462": "Instead of determining the specified integer related to the expected value of the square of the number voting for the winning candidate, simply find $r = P(\\textrm{same}) + 3/2$, where $P(\\textrm{same})$ is the probability that two voters vote for the same candidate derived from the independence of their votes."
    },
    {
      "A1361": "None"
    }
  ],
  "Synthesised_By": [
    {
      "A2462": "A group of 101 Dalmathians participate in an election, where they each vote independently on either candidate \\(A\\) or \\(B\\) with equal probability. If \\(X\\) Dalmathians voted for the winning candidate, the expected value of \\(X^{2}\\) can be expressed as \\(\\frac{a}{b}\\) for positive integers \\(a, b\\) with \\(\\operatorname{gcd}(a, b)=1\\). Find the unique positive integer \\(k \\leq 103\\) such that \\(103 \\mid a-bk\\). Instead of determining the specified integer related to the expected value of the square of the number voting for the winning candidate, simply find $r = P(\\textrm{same}) + 3/2$, where $P(\\textrm{same})$ is the probability that two voters vote for the same candidate derived from the independence of their votes."
    },
    {
      "A1361": "Find all possible values of $\\frac{d}{a}$ where $a^{2}-6 a d+8 d^{2}=0, a \\neq 0$."
    }
  ],
  "Original_Problem": [
    {
      "A2462": "A group of 101 Dalmathians participate in an election, where they each vote independently on either candidate \\(A\\) or \\(B\\) with equal probability. If \\(X\\) Dalmathians voted for the winning candidate, the expected value of \\(X^{2}\\) can be expressed as \\(\\frac{a}{b}\\) for positive integers \\(a, b\\) with \\(\\operatorname{gcd}(a, b)=1\\). Find the unique positive integer \\(k \\leq 103\\) such that \\(103 \\mid a-bk\\)."
    },
    {
      "A1361": "Find all possible values of $\\frac{d}{a}$ where $a^{2}-6 a d+8 d^{2}=0, a \\neq 0$."
    }
  ],
  "Problem_Type": [
    {
      "A2462": [
        "Mathematics -> Applied Mathematics -> Statistics -> Probability -> Counting Methods -> Combinations"
      ]
    },
    {
      "A1361": [
        "Mathematics -> Algebra -> Algebra -> Algebraic Expressions"
      ]
    }
  ],
  "Problem_Level": [
    {
      "A2462": "KbsdJames_Omni-MATH_5.25"
    },
    {
      "A1361": "KbsdJames_Omni-MATH_5.0"
    }
  ],
  "Problem_Source": [
    {
      "A2462": "HMMT_11"
    },
    {
      "A1361": "HMMT_2"
    }
  ],
  "Problem_Length": [
    {
      "A2462": 415
    },
    {
      "A1361": 82
    }
  ],
  "Synthesised_Problem_Length": 793,
  "Ground_Truth": [
    {
      "A2462": "51"
    },
    {
      "A1361": "\\frac{1}{2}, \\frac{1}{4}"
    }
  ],
  "Predicted_Answer": [
    {
      "A2462": "51"
    },
    {
      "A1361": "1/2, 1/4"
    }
  ],
  "Connecting_Point": [
    {
      "B782": {
        "2": "(P(same) + 3/2)"
      }
    }
  ],
  "Delta_Factor": [
    {
      "A2462": 0.21
    },
    {
      "A1361": 0.91
    }
  ],
  "Delta_Value": [
    {
      "A2462": {
        "P(same)": "1/2"
      }
    },
    {
      "A1361": {
        "r": "1/4"
      }
    }
  ],
  "Delta_Depth": [
    {
      "A2462": {
        "P(same)": 13
      }
    },
    {
      "A1361": {
        "r": 10
      }
    }
  ],
  "Delta_Source": [
    {
      "A2462": "derived"
    },
    {
      "A1361": "derived"
    }
  ],
  "Delta_Value_Order": [
    {
      "A2462": 1
    },
    {
      "A1361": 1
    }
  ],
  "Delta_Variable_Names": [
    {
      "A2462": [
        "P"
      ]
    },
    {
      "A1361": [
        "r"
      ]
    }
  ],
  "Delta_Socket": [
    {
      "A2462": {
        "103": 103.0
      }
    },
    {
      "A1361": {
        "2": 2.0
      }
    }
  ],
  "Source_Delta_Socket": [
    {
      "A2462": "goal"
    },
    {
      "A1361": "goal"
    }
  ],
  "Delta_Socket_Order": [
    {
      "A2462": 1
    },
    {
      "A1361": 1
    }
  ],
  "Variable_Names": [
    {
      "A2462": []
    },
    {
      "A1361": [
        "a",
        "d"
      ]
    }
  ],
  "Total_Claims": [
    {
      "A2462": 63
    },
    {
      "A1361": 11
    }
  ],
  "Total_Delta": [
    {
      "A2462": 2
    },
    {
      "A1361": 1
    }
  ],
  "Total_Delta_Socket": [
    {
      "A2462": 1
    },
    {
      "A1361": 1
    }
  ],
  "Max_Delta_Factor": [
    {
      "A2462": 1.0
    },
    {
      "A1361": 0.91
    }
  ],
  "Min_Delta_Factor": [
    {
      "A2462": 0.21
    },
    {
      "A1361": 0.91
    }
  ],
  "Max_Delta_Depth": [
    {
      "A2462": 63
    },
    {
      "A1361": 10
    }
  ],
  "Min_Delta_Depth": [
    {
      "A2462": 13
    },
    {
      "A1361": 10
    }
  ],
  "Claims": [
    {
      "id": "A2462_C1",
      "type": "goal",
      "expr": "Find unique positive integer k ≤ 103 s.t. 103 | a - b k where E[X²] = a/b, gcd(a,b)=1"
    },
    {
      "id": "A2462_C2",
      "type": "context",
      "expr": "101 Dalmathians vote independently for A or B with P=1/2 each"
    },
    {
      "id": "A2462_C3",
      "type": "context",
      "expr": "X = number voting for winning candidate"
    },
    {
      "id": "A2462_C4",
      "type": "context",
      "expr": "Let m=50, n=2m+1=101"
    },
    {
      "id": "A2462_C5",
      "type": "derived",
      "expr": "I_i = 1 if voter i votes for winner, X = ∑_{i=1}^n I_i"
    },
    {
      "id": "A2462_C6",
      "type": "derived",
      "expr": "E[X²] = n E[I_1] + n(n-1) E[I_1 I_2]"
    },
    {
      "id": "A2462_C7",
      "type": "derived",
      "expr": "E[I_1] = P(voter 1 votes for winning candidate)"
    },
    {
      "id": "A2462_C8",
      "type": "derived",
      "expr": "E[I_1] = P(A wins | voter 1 votes A)"
    },
    {
      "id": "A2462_C9",
      "type": "derived",
      "expr": "P(A wins | voter 1 A) = P(Y ≥ m) where Y ~ Bin(2m, 1/2)"
    },
    {
      "id": "A2462_C10",
      "type": "derived",
      "expr": "P(Y ≥ m) = 1/2 + (1/2) P(Y = m)"
    },
    {
      "id": "A2462_C11",
      "type": "derived",
      "expr": "P(Y = m) = \binom{2m}{m} / 2^{2m}"
    },
    {
      "id": "A2462_C12",
      "type": "derived",
      "expr": "E[I_1] = 1/2 + \binom{2m}{m} / 2^{2m+1}"
    },
    {
      "id": "A2462_C13",
      "type": "derived",
      "expr": "P(I_1=1 and I_2=1) requires both vote same candidate, P(same)=1/2"
    },
    {
      "id": "A2462_C14",
      "type": "derived",
      "expr": "Given both A, Z ~ Bin(2m-1, 1/2), P(A wins | both A) = P(Z ≥ m-1)"
    },
    {
      "id": "A2462_C15",
      "type": "derived",
      "expr": "P(Z ≥ m) = 1/2, P(Z ≥ m-1) = 1/2 + P(Z = m-1)"
    },
    {
      "id": "A2462_C16",
      "type": "derived",
      "expr": "P(Z = m-1) = \binom{2m-1}{m-1} / 2^{2m-1}"
    },
    {
      "id": "A2462_C17",
      "type": "derived",
      "expr": "P(A wins | both A) = 1/2 + \binom{2m-1}{m-1} / 2^{2m-1}"
    },
    {
      "id": "A2462_C18",
      "type": "derived",
      "expr": "E[I_1 I_2] = (1/2) (1/2 + \binom{2m-1}{m-1} / 2^{2m-1}) = 1/4 + \binom{2m-1}{m-1} / 2^{2m}"
    },
    {
      "id": "A2462_C19",
      "type": "derived",
      "expr": "\binom{2m}{m} = 2 \binom{2m-1}{m-1}"
    },
    {
      "id": "A2462_C20",
      "type": "derived",
      "expr": "d = \binom{2m}{m} / 2^{2m+1} = \binom{2m-1}{m-1} / 2^{2m}"
    },
    {
      "id": "A2462_C21",
      "type": "derived",
      "expr": "E[I_1] = 1/2 + d"
    },
    {
      "id": "A2462_C22",
      "type": "derived",
      "expr": "E[I_1 I_2] = 1/4 + d"
    },
    {
      "id": "A2462_C23",
      "type": "derived",
      "expr": "E[X²] = n(n+1)/4 + d n²"
    },
    {
      "id": "A2462_C24",
      "type": "derived",
      "expr": "E[X²] = \frac{\binom{2m}{m}}{2^{2m+1}} n² + \frac{n(n+1)}{4}"
    },
    {
      "id": "A2462_C25",
      "type": "derived",
      "expr": "k ≡ E[X²] mod 103"
    },
    {
      "id": "A2462_C26",
      "type": "derived",
      "expr": "101 ≡ -2 mod 103"
    },
    {
      "id": "A2462_C27",
      "type": "derived",
      "expr": "102 ≡ -1 mod 103"
    },
    {
      "id": "A2462_C28",
      "type": "derived",
      "expr": "101² ≡ 4 mod 103"
    },
    {
      "id": "A2462_C29",
      "type": "derived",
      "expr": "n(n+1)/4 ≡ 1/2 mod 103"
    },
    {
      "id": "A2462_C30",
      "type": "derived",
      "expr": "2^{-1} ≡ 52 mod 103"
    },
    {
      "id": "A2462_C31",
      "type": "derived",
      "expr": "1/2 ≡ 52 mod 103"
    },
    {
      "id": "A2462_C32",
      "type": "derived",
      "expr": "Second term ≡ 52 mod 103"
    },
    {
      "id": "A2462_C33",
      "type": "derived",
      "expr": "2^{102} ≡ 1 mod 103 by Fermat"
    },
    {
      "id": "A2462_C34",
      "type": "derived",
      "expr": "2^{-101} ≡ 2 mod 103"
    },
    {
      "id": "A2462_C35",
      "type": "derived",
      "expr": "2^{101}^{-1} ≡ 2 mod 103"
    },
    {
      "id": "A2462_C36",
      "type": "derived",
      "expr": "102! ≡ -1 mod 103 by Wilson"
    },
    {
      "id": "A2462_C37",
      "type": "derived",
      "expr": "102!^{-1} ≡ 102 mod 103"
    },
    {
      "id": "A2462_C38",
      "type": "derived",
      "expr": "100! = 102! / (102 × 101)"
    },
    {
      "id": "A2462_C39",
      "type": "derived",
      "expr": "102 × 101 ≡ 2 mod 103"
    },
    {
      "id": "A2462_C40",
      "type": "derived",
      "expr": "(102 × 101)^{-1} ≡ 52 mod 103"
    },
    {
      "id": "A2462_C41",
      "type": "derived",
      "expr": "100! ≡ 51 mod 103"
    },
    {
      "id": "A2462_C42",
      "type": "derived",
      "expr": "102! = 50! × ∏_{j=51}^{102} j"
    },
    {
      "id": "A2462_C43",
      "type": "derived",
      "expr": "∏_{j=51}^{102} j has 52 terms"
    },
    {
      "id": "A2462_C44",
      "type": "derived",
      "expr": "j ≡ - (103 - j) mod 103 for j=51 to 102"
    },
    {
      "id": "A2462_C45",
      "type": "derived",
      "expr": "∏_{j=51}^{102} j ≡ 52! mod 103"
    },
    {
      "id": "A2462_C46",
      "type": "derived",
      "expr": "52! = 52 × 51 × 50!"
    },
    {
      "id": "A2462_C47",
      "type": "derived",
      "expr": "(50!)^2 × 51 × 52 ≡ -1 mod 103"
    },
    {
      "id": "A2462_C48",
      "type": "derived",
      "expr": "51 × 52 = 2652 ≡ 77 mod 103"
    },
    {
      "id": "A2462_C49",
      "type": "derived",
      "expr": "(50!)^2 × 77 ≡ -1 mod 103"
    },
    {
      "id": "A2462_C50",
      "type": "derived",
      "expr": "(50!)^2 ≡ -77^{-1} mod 103"
    },
    {
      "id": "A2462_C51",
      "type": "derived",
      "expr": "103 = 1×77 + 26"
    },
    {
      "id": "A2462_C52",
      "type": "derived",
      "expr": "77 = 2×26 + 25"
    },
    {
      "id": "A2462_C53",
      "type": "derived",
      "expr": "26 = 1×25 + 1"
    },
    {
      "id": "A2462_C54",
      "type": "derived",
      "expr": "1 = 26 - 1×25"
    },
    {
      "id": "A2462_C55",
      "type": "derived",
      "expr": "25 = 77 - 2×26, 1 = 3×26 - 1×77"
    },
    {
      "id": "A2462_C56",
      "type": "derived",
      "expr": "26 = 103 - 77, 1 = 3×103 - 4×77"
    },
    {
      "id": "A2462_C57",
      "type": "derived",
      "expr": "77^{-1} ≡ 99 mod 103"
    },
    {
      "id": "A2462_C58",
      "type": "derived",
      "expr": "(50!)^2 ≡ 4 mod 103"
    },
    {
      "id": "A2462_C59",
      "type": "derived",
      "expr": "\binom{100}{50} = 100! × [(50!)^2]^{-1}"
    },
    {
      "id": "A2462_C60",
      "type": "derived",
      "expr": "4^{-1} ≡ 26 mod 103"
    },
    {
      "id": "A2462_C61",
      "type": "derived",
      "expr": "\binom{100}{50} ≡ 51 × 26 = 1326 ≡ 90 mod 103"
    },
    {
      "id": "A2462_C62",
      "type": "derived",
      "expr": "First term ≡ 90 × 2 × 4 = 720 ≡ -1 mod 103"
    },
    {
      "id": "A2462_C63",
      "type": "final",
      "expr": "E[X²] ≡ 51 mod 103, k=51"
    },
    {
      "id": "A1361_C1",
      "type": "derived",
      "expr": "find all possible values of d/a where a^2 - 6 a d + 8 d^2 = 0, a ≠ 0"
    },
    {
      "id": "A1361_C2",
      "type": "context",
      "expr": "a^2 - 6 a d + 8 d^2 = 0"
    },
    {
      "id": "A1361_C3",
      "type": "context",
      "expr": "a ≠ 0"
    },
    {
      "id": "A1361_C4",
      "type": "derived",
      "expr": "r = d/a"
    },
    {
      "id": "A1361_C5",
      "type": "derived",
      "expr": "1 - 6 r + 8 r^2 = 0"
    },
    {
      "id": "A1361_C6",
      "type": "derived",
      "expr": "8 r^2 - 6 r + 1 = 0"
    },
    {
      "id": "A1361_C7",
      "type": "derived",
      "expr": "Δ = (-6)^2 - 4 * 8 * 1 = 36 - 32 = 4"
    },
    {
      "id": "A1361_C8",
      "type": "derived",
      "expr": "r = [6 ± √4] / (2 * 8) = [6 ± 2]/16"
    },
    {
      "id": "A1361_C9",
      "type": "derived",
      "expr": "r = (6 + 2)/16 = 8/16 = 1/2"
    },
    {
      "id": "A1361_C10",
      "type": "derived",
      "expr": "r = (6 - 2)/16 = 4/16 = 1/4, r = 1/4"
    },
    {
      "id": "A1361_C11",
      "type": "final",
      "expr": "possible values of d/a are 1/2 and 1/4"
    },
    {
      "id": "B782_C1",
      "type": "goal",
      "expr": "find all possible values of d/a where a^(P(same) + 3/2) - 6 a d + 8 d^2 = 0, a ≠ 0"
    }
  ],
  "Steps": [
    {
      "id": "A2462_S1",
      "rule": "problem setup",
      "premises": [
        "A2462_C1: Find unique positive integer k ≤ 103 s.t. 103 | a - b k where E[X²] = a/b, gcd(a,b)=1"
      ],
      "conclusions": [
        "A2462_C2: 101 Dalmathians vote independently for A or B with P=1/2 each",
        "A2462_C3: X = number voting for winning candidate",
        "A2462_C4: Let m=50, n=2m+1=101"
      ]
    },
    {
      "id": "A2462_S2",
      "rule": "define indicators",
      "premises": [
        "A2462_C2: 101 Dalmathians vote independently for A or B with P=1/2 each",
        "A2462_C3: X = number voting for winning candidate",
        "A2462_C4: Let m=50, n=2m+1=101"
      ],
      "conclusions": [
        "A2462_C5: I_i = 1 if voter i votes for winner, X = ∑_{i=1}^n I_i"
      ]
    },
    {
      "id": "A2462_S3",
      "rule": "linearity of expectation for square",
      "premises": [
        "A2462_C5: I_i = 1 if voter i votes for winner, X = ∑_{i=1}^n I_i"
      ],
      "conclusions": [
        "A2462_C6: E[X²] = n E[I_1] + n(n-1) E[I_1 I_2]"
      ]
    },
    {
      "id": "A2462_S4",
      "rule": "property of indicators",
      "premises": [
        "A2462_C6: E[X²] = n E[I_1] + n(n-1) E[I_1 I_2]"
      ],
      "conclusions": [
        "A2462_C7: E[I_1] = P(voter 1 votes for winning candidate)"
      ]
    },
    {
      "id": "A2462_S5",
      "rule": "symmetry of candidates",
      "premises": [
        "A2462_C7: E[I_1] = P(voter 1 votes for winning candidate)"
      ],
      "conclusions": [
        "A2462_C8: E[I_1] = P(A wins | voter 1 votes A)"
      ]
    },
    {
      "id": "A2462_S6",
      "rule": "conditional definition",
      "premises": [
        "A2462_C4: Let m=50, n=2m+1=101",
        "A2462_C8: E[I_1] = P(A wins | voter 1 votes A)"
      ],
      "conclusions": [
        "A2462_C9: P(A wins | voter 1 A) = P(Y ≥ m) where Y ~ Bin(2m, 1/2)"
      ]
    },
    {
      "id": "A2462_S7",
      "rule": "binomial symmetry",
      "premises": [
        "A2462_C9: P(A wins | voter 1 A) = P(Y ≥ m) where Y ~ Bin(2m, 1/2)"
      ],
      "conclusions": [
        "A2462_C10: P(Y ≥ m) = 1/2 + (1/2) P(Y = m)"
      ]
    },
    {
      "id": "A2462_S8",
      "rule": "binomial pmf",
      "premises": [
        "A2462_C4: Let m=50, n=2m+1=101"
      ],
      "conclusions": [
        "A2462_C11: P(Y = m) = \binom{2m}{m} / 2^{2m}"
      ]
    },
    {
      "id": "A2462_S9",
      "rule": "probability calculation",
      "premises": [
        "A2462_C10: P(Y ≥ m) = 1/2 + (1/2) P(Y = m)",
        "A2462_C11: P(Y = m) = \binom{2m}{m} / 2^{2m}"
      ],
      "conclusions": [
        "A2462_C12: E[I_1] = 1/2 + \binom{2m}{m} / 2^{2m+1}"
      ]
    },
    {
      "id": "A2462_S10",
      "rule": "link conditional to E[I_1]",
      "premises": [
        "A2462_C8: E[I_1] = P(A wins | voter 1 votes A)",
        "A2462_C12: E[I_1] = 1/2 + \binom{2m}{m} / 2^{2m+1}"
      ],
      "conclusions": [
        "A2462_C12: E[I_1] = 1/2 + \binom{2m}{m} / 2^{2m+1}"
      ]
    },
    {
      "id": "A2462_S11",
      "rule": "condition for I1 I2=1",
      "premises": [
        "A2462_C6: E[X²] = n E[I_1] + n(n-1) E[I_1 I_2]"
      ],
      "conclusions": [
        "A2462_C13: P(I_1=1 and I_2=1) requires both vote same candidate, P(same)=1/2"
      ]
    },
    {
      "id": "A2462_S12",
      "rule": "define Z",
      "premises": [
        "A2462_C4: Let m=50, n=2m+1=101",
        "A2462_C13: P(I_1=1 and I_2=1) requires both vote same candidate, P(same)=1/2"
      ],
      "conclusions": [
        "A2462_C14: Given both A, Z ~ Bin(2m-1, 1/2), P(A wins | both A) = P(Z ≥ m-1)"
      ]
    },
    {
      "id": "A2462_S13",
      "rule": "binomial symmetry for odd",
      "premises": [
        "A2462_C14: Given both A, Z ~ Bin(2m-1, 1/2), P(A wins | both A) = P(Z ≥ m-1)"
      ],
      "conclusions": [
        "A2462_C15: P(Z ≥ m) = 1/2, P(Z ≥ m-1) = 1/2 + P(Z = m-1)"
      ]
    },
    {
      "id": "A2462_S14",
      "rule": "binomial pmf",
      "premises": [
        "A2462_C4: Let m=50, n=2m+1=101"
      ],
      "conclusions": [
        "A2462_C16: P(Z = m-1) = \binom{2m-1}{m-1} / 2^{2m-1}"
      ]
    },
    {
      "id": "A2462_S15",
      "rule": "probability calculation",
      "premises": [
        "A2462_C15: P(Z ≥ m) = 1/2, P(Z ≥ m-1) = 1/2 + P(Z = m-1)",
        "A2462_C16: P(Z = m-1) = \binom{2m-1}{m-1} / 2^{2m-1}"
      ],
      "conclusions": [
        "A2462_C17: P(A wins | both A) = 1/2 + \binom{2m-1}{m-1} / 2^{2m-1}"
      ]
    },
    {
      "id": "A2462_S16",
      "rule": "overall probability",
      "premises": [
        "A2462_C13: P(I_1=1 and I_2=1) requires both vote same candidate, P(same)=1/2",
        "A2462_C17: P(A wins | both A) = 1/2 + \binom{2m-1}{m-1} / 2^{2m-1}"
      ],
      "conclusions": [
        "A2462_C18: E[I_1 I_2] = (1/2) (1/2 + \binom{2m-1}{m-1} / 2^{2m-1}) = 1/4 + \binom{2m-1}{m-1} / 2^{2m}"
      ]
    },
    {
      "id": "A2462_S17",
      "rule": "binomial identity",
      "premises": [
        "A2462_C11: P(Y = m) = \binom{2m}{m} / 2^{2m}",
        "A2462_C16: P(Z = m-1) = \binom{2m-1}{m-1} / 2^{2m-1}"
      ],
      "conclusions": [
        "A2462_C19: \binom{2m}{m} = 2 \binom{2m-1}{m-1}"
      ]
    },
    {
      "id": "A2462_S18",
      "rule": "equality of expressions for d",
      "premises": [
        "A2462_C12: E[I_1] = 1/2 + \binom{2m}{m} / 2^{2m+1}",
        "A2462_C18: E[I_1 I_2] = (1/2) (1/2 + \binom{2m-1}{m-1} / 2^{2m-1}) = 1/4 + \binom{2m-1}{m-1} / 2^{2m}",
        "A2462_C19: \binom{2m}{m} = 2 \binom{2m-1}{m-1}"
      ],
      "conclusions": [
        "A2462_C20: d = \binom{2m}{m} / 2^{2m+1} = \binom{2m-1}{m-1} / 2^{2m}"
      ]
    },
    {
      "id": "A2462_S19",
      "rule": "substitute d",
      "premises": [
        "A2462_C12: E[I_1] = 1/2 + \binom{2m}{m} / 2^{2m+1}",
        "A2462_C20: d = \binom{2m}{m} / 2^{2m+1} = \binom{2m-1}{m-1} / 2^{2m}"
      ],
      "conclusions": [
        "A2462_C21: E[I_1] = 1/2 + d"
      ]
    },
    {
      "id": "A2462_S20",
      "rule": "substitute d",
      "premises": [
        "A2462_C18: E[I_1 I_2] = (1/2) (1/2 + \binom{2m-1}{m-1} / 2^{2m-1}) = 1/4 + \binom{2m-1}{m-1} / 2^{2m}",
        "A2462_C20: d = \binom{2m}{m} / 2^{2m+1} = \binom{2m-1}{m-1} / 2^{2m}"
      ],
      "conclusions": [
        "A2462_C22: E[I_1 I_2] = 1/4 + d"
      ]
    },
    {
      "id": "A2462_S21",
      "rule": "algebraic expansion and simplification",
      "premises": [
        "A2462_C6: E[X²] = n E[I_1] + n(n-1) E[I_1 I_2]",
        "A2462_C21: E[I_1] = 1/2 + d",
        "A2462_C22: E[I_1 I_2] = 1/4 + d"
      ],
      "conclusions": [
        "A2462_C23: E[X²] = n(n+1)/4 + d n²"
      ]
    },
    {
      "id": "A2462_S22",
      "rule": "substitute back d and n=2m+1",
      "premises": [
        "A2462_C20: d = \binom{2m}{m} / 2^{2m+1} = \binom{2m-1}{m-1} / 2^{2m}",
        "A2462_C23: E[X²] = n(n+1)/4 + d n²",
        "A2462_C4: Let m=50, n=2m+1=101"
      ],
      "conclusions": [
        "A2462_C24: E[X²] = \frac{\binom{2m}{m}}{2^{2m+1}} n² + \frac{n(n+1)}{4}"
      ]
    },
    {
      "id": "A2462_S23",
      "rule": "interpret as modular equation",
      "premises": [
        "A2462_C1: Find unique positive integer k ≤ 103 s.t. 103 | a - b k where E[X²] = a/b, gcd(a,b)=1",
        "A2462_C25: k ≡ E[X²] mod 103"
      ],
      "conclusions": [
        "A2462_C25: k ≡ E[X²] mod 103"
      ]
    },
    {
      "id": "A2462_S24",
      "rule": "congruence",
      "premises": [
        "A2462_C26: 101 ≡ -2 mod 103"
      ],
      "conclusions": [
        "A2462_C26: 101 ≡ -2 mod 103"
      ]
    },
    {
      "id": "A2462_S25",
      "rule": "congruence",
      "premises": [
        "A2462_C27: 102 ≡ -1 mod 103"
      ],
      "conclusions": [
        "A2462_C27: 102 ≡ -1 mod 103"
      ]
    },
    {
      "id": "A2462_S26",
      "rule": "square congruence",
      "premises": [
        "A2462_C26: 101 ≡ -2 mod 103"
      ],
      "conclusions": [
        "A2462_C28: 101² ≡ 4 mod 103"
      ]
    },
    {
      "id": "A2462_S27",
      "rule": "substitute congruences",
      "premises": [
        "A2462_C24: E[X²] = \frac{\binom{2m}{m}}{2^{2m+1}} n² + \frac{n(n+1)}{4}",
        "A2462_C26: 101 ≡ -2 mod 103",
        "A2462_C27: 102 ≡ -1 mod 103"
      ],
      "conclusions": [
        "A2462_C29: n(n+1)/4 ≡ 1/2 mod 103"
      ]
    },
    {
      "id": "A2462_S28",
      "rule": "multiplicative inverse",
      "premises": [
        "A2462_C30: 2^{-1} ≡ 52 mod 103"
      ],
      "conclusions": [
        "A2462_C30: 2^{-1} ≡ 52 mod 103"
      ]
    },
    {
      "id": "A2462_S29",
      "rule": "multiply by inverse",
      "premises": [
        "A2462_C29: n(n+1)/4 ≡ 1/2 mod 103",
        "A2462_C30: 2^{-1} ≡ 52 mod 103"
      ],
      "conclusions": [
        "A2462_C31: 1/2 ≡ 52 mod 103"
      ]
    },
    {
      "id": "A2462_S30",
      "rule": "second term mod",
      "premises": [
        "A2462_C29: n(n+1)/4 ≡ 1/2 mod 103",
        "A2462_C31: 1/2 ≡ 52 mod 103"
      ],
      "conclusions": [
        "A2462_C32: Second term ≡ 52 mod 103"
      ]
    },
    {
      "id": "A2462_S31",
      "rule": "Fermat's Little Theorem",
      "premises": [
        "A2462_C33: 2^{102} ≡ 1 mod 103 by Fermat"
      ],
      "conclusions": [
        "A2462_C33: 2^{102} ≡ 1 mod 103 by Fermat"
      ]
    },
    {
      "id": "A2462_S32",
      "rule": "exponent manipulation",
      "premises": [
        "A2462_C33: 2^{102} ≡ 1 mod 103 by Fermat"
      ],
      "conclusions": [
        "A2462_C34: 2^{-101} ≡ 2 mod 103"
      ]
    },
    {
      "id": "A2462_S33",
      "rule": "apply to denominator",
      "premises": [
        "A2462_C24: E[X²] = \frac{\binom{2m}{m}}{2^{2m+1}} n² + \frac{n(n+1)}{4}",
        "A2462_C34: 2^{-101} ≡ 2 mod 103"
      ],
      "conclusions": [
        "A2462_C35: 2^{101}^{-1} ≡ 2 mod 103"
      ]
    },
    {
      "id": "A2462_S34",
      "rule": "Wilson's Theorem",
      "premises": [
        "A2462_C36: 102! ≡ -1 mod 103 by Wilson"
      ],
      "conclusions": [
        "A2462_C36: 102! ≡ -1 mod 103 by Wilson"
      ]
    },
    {
      "id": "A2462_S35",
      "rule": "inverse of -1",
      "premises": [
        "A2462_C36: 102! ≡ -1 mod 103 by Wilson"
      ],
      "conclusions": [
        "A2462_C37: 102!^{-1} ≡ 102 mod 103"
      ]
    },
    {
      "id": "A2462_S36",
      "rule": "factorial relation",
      "premises": [
        "A2462_C38: 100! = 102! / (102 × 101)"
      ],
      "conclusions": [
        "A2462_C38: 100! = 102! / (102 × 101)"
      ]
    },
    {
      "id": "A2462_S37",
      "rule": "product congruence",
      "premises": [
        "A2462_C26: 101 ≡ -2 mod 103",
        "A2462_C27: 102 ≡ -1 mod 103"
      ],
      "conclusions": [
        "A2462_C39: 102 × 101 ≡ 2 mod 103"
      ]
    },
    {
      "id": "A2462_S38",
      "rule": "inverse of product",
      "premises": [
        "A2462_C30: 2^{-1} ≡ 52 mod 103",
        "A2462_C39: 102 × 101 ≡ 2 mod 103"
      ],
      "conclusions": [
        "A2462_C40: (102 × 101)^{-1} ≡ 52 mod 103"
      ]
    },
    {
      "id": "A2462_S39",
      "rule": "compute 100!",
      "premises": [
        "A2462_C36: 102! ≡ -1 mod 103 by Wilson",
        "A2462_C37: 102!^{-1} ≡ 102 mod 103",
        "A2462_C40: (102 × 101)^{-1} ≡ 52 mod 103"
      ],
      "conclusions": [
        "A2462_C41: 100! ≡ 51 mod 103"
      ]
    },
    {
      "id": "A2462_S40",
      "rule": "factorial product",
      "premises": [
        "A2462_C4: Let m=50, n=2m+1=101",
        "A2462_C42: 102! = 50! × ∏_{j=51}^{102} j"
      ],
      "conclusions": [
        "A2462_C42: 102! = 50! × ∏_{j=51}^{102} j"
      ]
    },
    {
      "id": "A2462_S41",
      "rule": "count terms",
      "premises": [
        "A2462_C42: 102! = 50! × ∏_{j=51}^{102} j"
      ],
      "conclusions": [
        "A2462_C43: ∏_{j=51}^{102} j has 52 terms"
      ]
    },
    {
      "id": "A2462_S42",
      "rule": "pairwise congruences",
      "premises": [
        "A2462_C44: j ≡ - (103 - j) mod 103 for j=51 to 102"
      ],
      "conclusions": [
        "A2462_C44: j ≡ - (103 - j) mod 103 for j=51 to 102"
      ]
    },
    {
      "id": "A2462_S43",
      "rule": "sign and product",
      "premises": [
        "A2462_C43: ∏_{j=51}^{102} j has 52 terms",
        "A2462_C44: j ≡ - (103 - j) mod 103 for j=51 to 102"
      ],
      "conclusions": [
        "A2462_C45: ∏_{j=51}^{102} j ≡ 52! mod 103"
      ]
    },
    {
      "id": "A2462_S44",
      "rule": "express 52!",
      "premises": [
        "A2462_C4: Let m=50, n=2m+1=101"
      ],
      "conclusions": [
        "A2462_C46: 52! = 52 × 51 × 50!"
      ]
    },
    {
      "id": "A2462_S45",
      "rule": "substitute into 102!",
      "premises": [
        "A2462_C36: 102! ≡ -1 mod 103 by Wilson",
        "A2462_C42: 102! = 50! × ∏_{j=51}^{102} j",
        "A2462_C45: ∏_{j=51}^{102} j ≡ 52! mod 103",
        "A2462_C46: 52! = 52 × 51 × 50!"
      ],
      "conclusions": [
        "A2462_C47: (50!)^2 × 51 × 52 ≡ -1 mod 103"
      ]
    },
    {
      "id": "A2462_S46",
      "rule": "compute product",
      "premises": [
        "A2462_C48: 51 × 52 = 2652 ≡ 77 mod 103"
      ],
      "conclusions": [
        "A2462_C48: 51 × 52 = 2652 ≡ 77 mod 103"
      ]
    },
    {
      "id": "A2462_S47",
      "rule": "substitute product",
      "premises": [
        "A2462_C47: (50!)^2 × 51 × 52 ≡ -1 mod 103",
        "A2462_C48: 51 × 52 = 2652 ≡ 77 mod 103"
      ],
      "conclusions": [
        "A2462_C49: (50!)^2 × 77 ≡ -1 mod 103"
      ]
    },
    {
      "id": "A2462_S48",
      "rule": "isolate square",
      "premises": [
        "A2462_C49: (50!)^2 × 77 ≡ -1 mod 103"
      ],
      "conclusions": [
        "A2462_C50: (50!)^2 ≡ -77^{-1} mod 103"
      ]
    },
    {
      "id": "A2462_S49",
      "rule": "Euclid step 1",
      "premises": [
        "A2462_C51: 103 = 1×77 + 26"
      ],
      "conclusions": [
        "A2462_C51: 103 = 1×77 + 26"
      ]
    },
    {
      "id": "A2462_S50",
      "rule": "Euclid step 2",
      "premises": [
        "A2462_C52: 77 = 2×26 + 25"
      ],
      "conclusions": [
        "A2462_C52: 77 = 2×26 + 25"
      ]
    },
    {
      "id": "A2462_S51",
      "rule": "Euclid step 3",
      "premises": [
        "A2462_C53: 26 = 1×25 + 1"
      ],
      "conclusions": [
        "A2462_C53: 26 = 1×25 + 1"
      ]
    },
    {
      "id": "A2462_S52",
      "rule": "back-substitute 1",
      "premises": [
        "A2462_C54: 1 = 26 - 1×25"
      ],
      "conclusions": [
        "A2462_C54: 1 = 26 - 1×25"
      ]
    },
    {
      "id": "A2462_S53",
      "rule": "back-substitute 25",
      "premises": [
        "A2462_C55: 25 = 77 - 2×26, 1 = 3×26 - 1×77"
      ],
      "conclusions": [
        "A2462_C55: 25 = 77 - 2×26, 1 = 3×26 - 1×77"
      ]
    },
    {
      "id": "A2462_S54",
      "rule": "back-substitute 26",
      "premises": [
        "A2462_C56: 26 = 103 - 77, 1 = 3×103 - 4×77"
      ],
      "conclusions": [
        "A2462_C56: 26 = 103 - 77, 1 = 3×103 - 4×77"
      ]
    },
    {
      "id": "A2462_S55",
      "rule": "inverse from Euclid",
      "premises": [
        "A2462_C56: 26 = 103 - 77, 1 = 3×103 - 4×77"
      ],
      "conclusions": [
        "A2462_C57: 77^{-1} ≡ 99 mod 103"
      ]
    },
    {
      "id": "A2462_S56",
      "rule": "compute (50!)^2",
      "premises": [
        "A2462_C50: (50!)^2 ≡ -77^{-1} mod 103",
        "A2462_C57: 77^{-1} ≡ 99 mod 103"
      ],
      "conclusions": [
        "A2462_C58: (50!)^2 ≡ 4 mod 103"
      ]
    },
    {
      "id": "A2462_S57",
      "rule": "binomial as factorial ratio",
      "premises": [
        "A2462_C24: E[X²] = \frac{\binom{2m}{m}}{2^{2m+1}} n² + \frac{n(n+1)}{4}",
        "A2462_C41: 100! ≡ 51 mod 103"
      ],
      "conclusions": [
        "A2462_C59: \binom{100}{50} = 100! × [(50!)^2]^{-1}"
      ]
    },
    {
      "id": "A2462_S58",
      "rule": "inverse of 4",
      "premises": [
        "A2462_C58: (50!)^2 ≡ 4 mod 103"
      ],
      "conclusions": [
        "A2462_C60: 4^{-1} ≡ 26 mod 103"
      ]
    },
    {
      "id": "A2462_S59",
      "rule": "compute binomial mod",
      "premises": [
        "A2462_C41: 100! ≡ 51 mod 103",
        "A2462_C60: 4^{-1} ≡ 26 mod 103"
      ],
      "conclusions": [
        "A2462_C61: \binom{100}{50} ≡ 51 × 26 = 1326 ≡ 90 mod 103"
      ]
    },
    {
      "id": "A2462_S60",
      "rule": "first term mod",
      "premises": [
        "A2462_C24: E[X²] = \frac{\binom{2m}{m}}{2^{2m+1}} n² + \frac{n(n+1)}{4}",
        "A2462_C35: 2^{101}^{-1} ≡ 2 mod 103",
        "A2462_C28: 101² ≡ 4 mod 103",
        "A2462_C61: \binom{100}{50} ≡ 51 × 26 = 1326 ≡ 90 mod 103"
      ],
      "conclusions": [
        "A2462_C62: First term ≡ 90 × 2 × 4 = 720 ≡ -1 mod 103"
      ]
    },
    {
      "id": "A2462_S61",
      "rule": "add terms mod",
      "premises": [
        "A2462_C32: Second term ≡ 52 mod 103",
        "A2462_C62: First term ≡ 90 × 2 × 4 = 720 ≡ -1 mod 103"
      ],
      "conclusions": [
        "A2462_C63: E[X²] ≡ 51 mod 103, k=51"
      ]
    },
    {
      "id": "A1361_S1",
      "rule": "problem setup",
      "premises": [
        "A1361_C1: find all possible values of d/a where a^2 - 6 a d + 8 d^2 = 0, a ≠ 0"
      ],
      "conclusions": [
        "A1361_C2: a^2 - 6 a d + 8 d^2 = 0",
        "A1361_C3: a ≠ 0"
      ]
    },
    {
      "id": "A1361_S2",
      "rule": "define ratio",
      "premises": [
        "A1361_C3: a ≠ 0"
      ],
      "conclusions": [
        "A1361_C4: r = d/a"
      ]
    },
    {
      "id": "A1361_S3",
      "rule": "divide equation by a^2",
      "premises": [
        "A1361_C2: a^2 - 6 a d + 8 d^2 = 0",
        "A1361_C4: r = d/a",
        "A1361_C3: a ≠ 0"
      ],
      "conclusions": [
        "A1361_C5: 1 - 6 r + 8 r^2 = 0"
      ]
    },
    {
      "id": "A1361_S4",
      "rule": "rearrange to standard quadratic form",
      "premises": [
        "A1361_C5: 1 - 6 r + 8 r^2 = 0"
      ],
      "conclusions": [
        "A1361_C6: 8 r^2 - 6 r + 1 = 0"
      ]
    },
    {
      "id": "A1361_S5",
      "rule": "compute discriminant",
      "premises": [
        "A1361_C6: 8 r^2 - 6 r + 1 = 0"
      ],
      "conclusions": [
        "A1361_C7: Δ = (-6)^2 - 4 * 8 * 1 = 36 - 32 = 4"
      ]
    },
    {
      "id": "A1361_S6",
      "rule": "apply quadratic formula",
      "premises": [
        "A1361_C6: 8 r^2 - 6 r + 1 = 0",
        "A1361_C7: Δ = (-6)^2 - 4 * 8 * 1 = 36 - 32 = 4"
      ],
      "conclusions": [
        "A1361_C8: r = [6 ± √4] / (2 * 8) = [6 ± 2]/16"
      ]
    },
    {
      "id": "A1361_S7",
      "rule": "simplify roots",
      "premises": [
        "A1361_C8: r = [6 ± √4] / (2 * 8) = [6 ± 2]/16"
      ],
      "conclusions": [
        "A1361_C9: r = (6 + 2)/16 = 8/16 = 1/2",
        "A1361_C10: r = (6 - 2)/16 = 4/16 = 1/4, r = 1/4"
      ]
    },
    {
      "id": "A1361_S8",
      "rule": "final conclusion",
      "premises": [
        "A1361_C9: r = (6 + 2)/16 = 8/16 = 1/2",
        "A1361_C10: r = (6 - 2)/16 = 4/16 = 1/4, r = 1/4"
      ],
      "conclusions": [
        "A1361_C11: possible values of d/a are 1/2 and 1/4"
      ]
    },
    {
      "id": "B782_S1",
      "rule": "problem connection",
      "premises": [
        "B782_C1: find all possible values of d/a where a^(P(same) + 3/2) - 6 a d + 8 d^2 = 0, a ≠ 0",
        "A2462_C13: P(I_1=1 and I_2=1) requires both vote same candidate, P(same)=1/2"
      ],
      "conclusions": [
        "A1361_C1: find all possible values of d/a where a^2 - 6 a d + 8 d^2 = 0, a ≠ 0"
      ]
    }
  ]
}