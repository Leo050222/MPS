{
  "Problem_ID": 13,
  "Chunk_Type": "T3",
  "Class_ID": "D679",
  "Multiple_Synthesis_Class": "MP2",
  "Sub_Class_ID": [
    {
      "A1851": "A1851_DG_3"
    },
    {
      "A1353": "A1353_DG_1"
    }
  ],
  "Synthesis_Trace": "DG-DG",
  "Synthesis_Status": "Continuable",
  "Math_Problem": "Define a number to be an anti-palindrome if, when written in base 3 as $a_{n} a_{n-1} \\ldots a_{0}$, then $a_{i}+a_{n-i}=2$ for any $0 \\leq i \\leq n$. Find the number of anti-palindromes less than $3^{12}$ such that no two consecutive digits in base 3 are equal. Instead of determining the total count of qualifying anti-palindromes, simply find $k = b_1 + 27$, where $b_1$ is the number of valid anti-palindromes with one digit derived from the anti-palindrome condition and the no consecutive equal digits constraint. $(k - 18)$ positive integers are arranged around a circle. Each number is one more than the greatest common divisor of its two neighbors. What is the sum of the $(k - 18)$ numbers?",
  "Connecting_Sentence": [
    {
      "A1851": "Instead of determining the total count of qualifying anti-palindromes, simply find $k = b_1 + 27$, where $b_1$ is the number of valid anti-palindromes with one digit derived from the anti-palindrome condition and the no consecutive equal digits constraint."
    },
    {
      "A1353": "None"
    }
  ],
  "Synthesised_By": [
    {
      "A1851": "Define a number to be an anti-palindrome if, when written in base 3 as $a_{n} a_{n-1} \\ldots a_{0}$, then $a_{i}+a_{n-i}=2$ for any $0 \\leq i \\leq n$. Find the number of anti-palindromes less than $3^{12}$ such that no two consecutive digits in base 3 are equal. Instead of determining the total count of qualifying anti-palindromes, simply find $k = b_1 + 27$, where $b_1$ is the number of valid anti-palindromes with one digit derived from the anti-palindrome condition and the no consecutive equal digits constraint."
    },
    {
      "A1353": "Ten positive integers are arranged around a circle. Each number is one more than the greatest common divisor of its two neighbors. What is the sum of the ten numbers?"
    }
  ],
  "Original_Problem": [
    {
      "A1851": "Define a number to be an anti-palindrome if, when written in base 3 as $a_{n} a_{n-1} \\ldots a_{0}$, then $a_{i}+a_{n-i}=2$ for any $0 \\leq i \\leq n$. Find the number of anti-palindromes less than $3^{12}$ such that no two consecutive digits in base 3 are equal."
    },
    {
      "A1353": "Ten positive integers are arranged around a circle. Each number is one more than the greatest common divisor of its two neighbors. What is the sum of the ten numbers?"
    }
  ],
  "Problem_Type": [
    {
      "A1851": [
        "Mathematics -> Discrete Mathematics -> Combinatorics"
      ]
    },
    {
      "A1353": [
        "Mathematics -> Number Theory -> Greatest Common Divisors (GCD)"
      ]
    }
  ],
  "Problem_Level": [
    {
      "A1851": "KbsdJames_Omni-MATH_5.25"
    },
    {
      "A1353": "KbsdJames_Omni-MATH_5.0"
    }
  ],
  "Problem_Source": [
    {
      "A1851": "HMMT_11"
    },
    {
      "A1353": "HMMT_2"
    }
  ],
  "Problem_Length": [
    {
      "A1851": 262
    },
    {
      "A1353": 166
    }
  ],
  "Synthesised_Problem_Length": 686,
  "Ground_Truth": [
    {
      "A1851": "126"
    },
    {
      "A1353": "28"
    }
  ],
  "Predicted_Answer": [
    {
      "A1851": "126"
    },
    {
      "A1353": "28"
    }
  ],
  "Connecting_Point": [
    {
      "B679": {
        "28": "(b_1 + 27)"
      }
    }
  ],
  "Delta_Factor": [
    {
      "A1851": 0.26
    },
    {
      "A1353": 0.85
    }
  ],
  "Delta_Value": [
    {
      "A1851": {
        "b_1": "1"
      }
    },
    {
      "A1353": {
        "n": "4"
      }
    }
  ],
  "Delta_Depth": [
    {
      "A1851": {
        "b_1": 7
      }
    },
    {
      "A1353": {
        "n": 23
      }
    }
  ],
  "Delta_Source": [
    {
      "A1851": "derived"
    },
    {
      "A1353": "derived"
    }
  ],
  "Delta_Value_Order": [
    {
      "A1851": 3
    },
    {
      "A1353": 1
    }
  ],
  "Delta_Variable_Names": [
    {
      "A1851": [
        "b"
      ]
    },
    {
      "A1353": [
        "n"
      ]
    }
  ],
  "Delta_Socket": [
    {
      "A1851": {
        "3": 3.0
      }
    },
    {
      "A1353": {
        "28": 28.0
      }
    }
  ],
  "Source_Delta_Socket": [
    {
      "A1851": "goal"
    },
    {
      "A1353": "goal"
    }
  ],
  "Delta_Socket_Order": [
    {
      "A1851": 1
    },
    {
      "A1353": 1
    }
  ],
  "Variable_Names": [
    {
      "A1851": [
        "a",
        "n",
        "i"
      ]
    },
    {
      "A1353": []
    }
  ],
  "Total_Claims": [
    {
      "A1851": 27
    },
    {
      "A1353": 27
    }
  ],
  "Total_Delta": [
    {
      "A1851": 4
    },
    {
      "A1353": 1
    }
  ],
  "Total_Delta_Socket": [
    {
      "A1851": 1
    },
    {
      "A1353": 1
    }
  ],
  "Max_Delta_Factor": [
    {
      "A1851": 1.0
    },
    {
      "A1353": 0.85
    }
  ],
  "Min_Delta_Factor": [
    {
      "A1851": 0.19
    },
    {
      "A1353": 0.85
    }
  ],
  "Max_Delta_Depth": [
    {
      "A1851": 27
    },
    {
      "A1353": 23
    }
  ],
  "Min_Delta_Depth": [
    {
      "A1851": 5
    },
    {
      "A1353": 23
    }
  ],
  "Claims": [
    {
      "id": "A1851_C1",
      "type": "goal",
      "expr": "N = number of base 3 anti-palindromes < 3^12 with no consecutive equal digits"
    },
    {
      "id": "A1851_C2",
      "type": "context",
      "expr": "anti-pal: a_i + a_{n-i} = 2 ∀ 0 ≤ i ≤ n"
    },
    {
      "id": "A1851_C3",
      "type": "context",
      "expr": "< 3^12 iff 1 to 12 digits, leading ≠ 0"
    },
    {
      "id": "A1851_C4",
      "type": "context",
      "expr": "no a_j = a_{j+1} ∀ j"
    },
    {
      "id": "A1851_C5",
      "type": "derived",
      "expr": "b_0 = 1"
    },
    {
      "id": "A1851_C6",
      "type": "derived",
      "expr": "a_1 = 1"
    },
    {
      "id": "A1851_C7",
      "type": "derived",
      "expr": "b_1 = 1"
    },
    {
      "id": "A1851_C8",
      "type": "derived",
      "expr": "a_n = b_{n-1} (n ≥ 2)"
    },
    {
      "id": "A1851_C9",
      "type": "derived",
      "expr": "b_n = b_{n-1} + 2 a_{n-1} (n ≥ 2)"
    },
    {
      "id": "A1851_C10",
      "type": "derived",
      "expr": "a_2 = b_1 = 1"
    },
    {
      "id": "A1851_C11",
      "type": "derived",
      "expr": "b_2 = b_1 + 2 a_1 = 1 + 2·1 = 3"
    },
    {
      "id": "A1851_C12",
      "type": "derived",
      "expr": "a_3 = b_2 = 3"
    },
    {
      "id": "A1851_C13",
      "type": "derived",
      "expr": "b_3 = b_2 + 2 a_2 = 3 + 2·1 = 5"
    },
    {
      "id": "A1851_C14",
      "type": "derived",
      "expr": "a_4 = b_3 = 5"
    },
    {
      "id": "A1851_C15",
      "type": "derived",
      "expr": "b_4 = b_3 + 2 a_3 = 5 + 2·3 = 11"
    },
    {
      "id": "A1851_C16",
      "type": "derived",
      "expr": "a_5 = b_4 = 11"
    },
    {
      "id": "A1851_C17",
      "type": "derived",
      "expr": "b_5 = b_4 + 2 a_4 = 11 + 2·5 = 21"
    },
    {
      "id": "A1851_C18",
      "type": "derived",
      "expr": "a_6 = b_5 = 21"
    },
    {
      "id": "A1851_C19",
      "type": "derived",
      "expr": "b_6 = b_5 + 2 a_5 = 21 + 2·11 = 43"
    },
    {
      "id": "A1851_C20",
      "type": "derived",
      "expr": "for odd l=2m+1, N_l = b_m"
    },
    {
      "id": "A1851_C21",
      "type": "derived",
      "expr": "for even l=2m, N_l = b_m"
    },
    {
      "id": "A1851_C22",
      "type": "derived",
      "expr": "N_1 = b_0 = 1"
    },
    {
      "id": "A1851_C23",
      "type": "derived",
      "expr": "N_{12} = b_6 = 43"
    },
    {
      "id": "A1851_C24",
      "type": "derived",
      "expr": "∑_{m=1}^5 b_m = 1 + 3 + 5 + 11 + 21 = 41"
    },
    {
      "id": "A1851_C25",
      "type": "derived",
      "expr": "∑_{m=1}^5 (N_{2m} + N_{2m+1}) = 2 × 41 = 82"
    },
    {
      "id": "A1851_C26",
      "type": "derived",
      "expr": "N = 1 + 82 + 43 = 126"
    },
    {
      "id": "A1851_C27",
      "type": "final",
      "expr": "N = 126"
    },
    {
      "id": "A1353_C1",
      "type": "derived",
      "expr": "sum_{i=1}^{10} a_i = 28"
    },
    {
      "id": "A1353_C2",
      "type": "context",
      "expr": "a_1, \\dots, a_{10} \\in \\mathbb{Z}^{+}, \forall i: a_i = \\gcd(a_{i-1}, a_{i+1}) + 1 \\pmod{10}"
    },
    {
      "id": "A1353_C3",
      "type": "derived",
      "expr": "\forall i, a_i \\geq 2"
    },
    {
      "id": "A1353_C4",
      "type": "derived",
      "expr": "n := \\max_i a_i \\geq 2"
    },
    {
      "id": "A1353_C5",
      "type": "derived",
      "expr": "\\exists k: a_k = n, b = a_{k-1}, d = a_{k+1}, \\gcd(b, d) = n - 1"
    },
    {
      "id": "A1353_C6",
      "type": "derived",
      "expr": "b \\leq n, d \\leq n"
    },
    {
      "id": "A1353_C7",
      "type": "derived",
      "expr": "n-1 \\mid b, n-1 \\mid d"
    },
    {
      "id": "A1353_C8",
      "type": "derived",
      "expr": "b \\geq n-1, d \\geq n-1"
    },
    {
      "id": "A1353_C9",
      "type": "derived",
      "expr": "b \\in \\{n-1, n\\}, d \\in \\{n-1, n\\}"
    },
    {
      "id": "A1353_C10",
      "type": "derived",
      "expr": "n \\geq 3"
    },
    {
      "id": "A1353_C11",
      "type": "derived",
      "expr": "\\gcd(n-1, n) = 1"
    },
    {
      "id": "A1353_C12",
      "type": "derived",
      "expr": "n-1 \nmid n \\ (n \\geq 3)"
    },
    {
      "id": "A1353_C13",
      "type": "derived",
      "expr": "b \neq n, d \neq n"
    },
    {
      "id": "A1353_C14",
      "type": "derived",
      "expr": "b = n-1, d = n-1"
    },
    {
      "id": "A1353_C15",
      "type": "derived",
      "expr": "m = a_{k-2}, \\gcd(m, n) = n-2"
    },
    {
      "id": "A1353_C16",
      "type": "derived",
      "expr": "n-2 \\mid n"
    },
    {
      "id": "A1353_C17",
      "type": "derived",
      "expr": "n-2 \\mid 2"
    },
    {
      "id": "A1353_C18",
      "type": "derived",
      "expr": "n-2 = 1 \\lor n-2 = 2"
    },
    {
      "id": "A1353_C19",
      "type": "derived",
      "expr": "n = 3 \\lor n = 4"
    },
    {
      "id": "A1353_C20",
      "type": "derived",
      "expr": "n=3 \\implies b = d = 2"
    },
    {
      "id": "A1353_C21",
      "type": "derived",
      "expr": "n=3 \\implies \\gcd(3, m) = 1 \\implies m = 2"
    },
    {
      "id": "A1353_C22",
      "type": "derived",
      "expr": "No arrangement exists for n=3"
    },
    {
      "id": "A1353_C23",
      "type": "derived",
      "expr": "n = 4"
    },
    {
      "id": "A1353_C24",
      "type": "derived",
      "expr": "n=4 \\implies b = d = 3"
    },
    {
      "id": "A1353_C25",
      "type": "derived",
      "expr": "n=4 \\implies \\gcd(4, m) = 2 \\implies m = 2"
    },
    {
      "id": "A1353_C26",
      "type": "derived",
      "expr": "The arrangement is 4,3,2,2,3,4,3,2,2,3 up to rotation"
    },
    {
      "id": "A1353_C27",
      "type": "final",
      "expr": "4+3+2+2+3+4+3+2+2+3 = 28"
    },
    {
      "id": "B679_C1",
      "type": "goal",
      "expr": "sum_{i=1}^{10} a_i = (b_1 + 27)"
    }
  ],
  "Steps": [
    {
      "id": "A1851_S1",
      "rule": "problem setup",
      "premises": [
        "A1851_C1: N = number of base 3 anti-palindromes < 3^12 with no consecutive equal digits"
      ],
      "conclusions": [
        "A1851_C2: anti-pal: a_i + a_{n-i} = 2 ∀ 0 ≤ i ≤ n",
        "A1851_C3: < 3^12 iff 1 to 12 digits, leading ≠ 0",
        "A1851_C4: no a_j = a_{j+1} ∀ j"
      ]
    },
    {
      "id": "A1851_S2",
      "rule": "empty sequence count",
      "premises": [
        "A1851_C3: < 3^12 iff 1 to 12 digits, leading ≠ 0"
      ],
      "conclusions": [
        "A1851_C5: b_0 = 1"
      ]
    },
    {
      "id": "A1851_S3",
      "rule": "initial a_1",
      "premises": [
        "A1851_C3: < 3^12 iff 1 to 12 digits, leading ≠ 0",
        "A1851_C4: no a_j = a_{j+1} ∀ j"
      ],
      "conclusions": [
        "A1851_C6: a_1 = 1"
      ]
    },
    {
      "id": "A1851_S4",
      "rule": "initial b_1",
      "premises": [
        "A1851_C3: < 3^12 iff 1 to 12 digits, leading ≠ 0",
        "A1851_C4: no a_j = a_{j+1} ∀ j"
      ],
      "conclusions": [
        "A1851_C7: b_1 = 1"
      ]
    },
    {
      "id": "A1851_S5",
      "rule": "recurrence derivation for a_n",
      "premises": [
        "A1851_C4: no a_j = a_{j+1} ∀ j"
      ],
      "conclusions": [
        "A1851_C8: a_n = b_{n-1} (n ≥ 2)"
      ]
    },
    {
      "id": "A1851_S6",
      "rule": "recurrence derivation for b_n",
      "premises": [
        "A1851_C4: no a_j = a_{j+1} ∀ j"
      ],
      "conclusions": [
        "A1851_C9: b_n = b_{n-1} + 2 a_{n-1} (n ≥ 2)"
      ]
    },
    {
      "id": "A1851_S7",
      "rule": "compute a_2",
      "premises": [
        "A1851_C8: a_n = b_{n-1} (n ≥ 2)",
        "A1851_C7: b_1 = 1"
      ],
      "conclusions": [
        "A1851_C10: a_2 = b_1 = 1"
      ]
    },
    {
      "id": "A1851_S8",
      "rule": "compute b_2",
      "premises": [
        "A1851_C9: b_n = b_{n-1} + 2 a_{n-1} (n ≥ 2)",
        "A1851_C7: b_1 = 1",
        "A1851_C6: a_1 = 1"
      ],
      "conclusions": [
        "A1851_C11: b_2 = b_1 + 2 a_1 = 1 + 2·1 = 3"
      ]
    },
    {
      "id": "A1851_S9",
      "rule": "compute a_3",
      "premises": [
        "A1851_C8: a_n = b_{n-1} (n ≥ 2)",
        "A1851_C11: b_2 = b_1 + 2 a_1 = 1 + 2·1 = 3"
      ],
      "conclusions": [
        "A1851_C12: a_3 = b_2 = 3"
      ]
    },
    {
      "id": "A1851_S10",
      "rule": "compute b_3",
      "premises": [
        "A1851_C9: b_n = b_{n-1} + 2 a_{n-1} (n ≥ 2)",
        "A1851_C11: b_2 = b_1 + 2 a_1 = 1 + 2·1 = 3",
        "A1851_C10: a_2 = b_1 = 1"
      ],
      "conclusions": [
        "A1851_C13: b_3 = b_2 + 2 a_2 = 3 + 2·1 = 5"
      ]
    },
    {
      "id": "A1851_S11",
      "rule": "compute a_4",
      "premises": [
        "A1851_C8: a_n = b_{n-1} (n ≥ 2)",
        "A1851_C13: b_3 = b_2 + 2 a_2 = 3 + 2·1 = 5"
      ],
      "conclusions": [
        "A1851_C14: a_4 = b_3 = 5"
      ]
    },
    {
      "id": "A1851_S12",
      "rule": "compute b_4",
      "premises": [
        "A1851_C9: b_n = b_{n-1} + 2 a_{n-1} (n ≥ 2)",
        "A1851_C13: b_3 = b_2 + 2 a_2 = 3 + 2·1 = 5",
        "A1851_C12: a_3 = b_2 = 3"
      ],
      "conclusions": [
        "A1851_C15: b_4 = b_3 + 2 a_3 = 5 + 2·3 = 11"
      ]
    },
    {
      "id": "A1851_S13",
      "rule": "compute a_5",
      "premises": [
        "A1851_C8: a_n = b_{n-1} (n ≥ 2)",
        "A1851_C15: b_4 = b_3 + 2 a_3 = 5 + 2·3 = 11"
      ],
      "conclusions": [
        "A1851_C16: a_5 = b_4 = 11"
      ]
    },
    {
      "id": "A1851_S14",
      "rule": "compute b_5",
      "premises": [
        "A1851_C9: b_n = b_{n-1} + 2 a_{n-1} (n ≥ 2)",
        "A1851_C15: b_4 = b_3 + 2 a_3 = 5 + 2·3 = 11",
        "A1851_C14: a_4 = b_3 = 5"
      ],
      "conclusions": [
        "A1851_C17: b_5 = b_4 + 2 a_4 = 11 + 2·5 = 21"
      ]
    },
    {
      "id": "A1851_S15",
      "rule": "compute a_6",
      "premises": [
        "A1851_C8: a_n = b_{n-1} (n ≥ 2)",
        "A1851_C17: b_5 = b_4 + 2 a_4 = 11 + 2·5 = 21"
      ],
      "conclusions": [
        "A1851_C18: a_6 = b_5 = 21"
      ]
    },
    {
      "id": "A1851_S16",
      "rule": "compute b_6",
      "premises": [
        "A1851_C9: b_n = b_{n-1} + 2 a_{n-1} (n ≥ 2)",
        "A1851_C17: b_5 = b_4 + 2 a_4 = 11 + 2·5 = 21",
        "A1851_C16: a_5 = b_4 = 11"
      ],
      "conclusions": [
        "A1851_C19: b_6 = b_5 + 2 a_5 = 21 + 2·11 = 43"
      ]
    },
    {
      "id": "A1851_S17",
      "rule": "odd length counting",
      "premises": [
        "A1851_C2: anti-pal: a_i + a_{n-i} = 2 ∀ 0 ≤ i ≤ n",
        "A1851_C3: < 3^12 iff 1 to 12 digits, leading ≠ 0",
        "A1851_C4: no a_j = a_{j+1} ∀ j"
      ],
      "conclusions": [
        "A1851_C20: for odd l=2m+1, N_l = b_m"
      ]
    },
    {
      "id": "A1851_S18",
      "rule": "even length counting",
      "premises": [
        "A1851_C2: anti-pal: a_i + a_{n-i} = 2 ∀ 0 ≤ i ≤ n",
        "A1851_C3: < 3^12 iff 1 to 12 digits, leading ≠ 0",
        "A1851_C4: no a_j = a_{j+1} ∀ j"
      ],
      "conclusions": [
        "A1851_C21: for even l=2m, N_l = b_m"
      ]
    },
    {
      "id": "A1851_S19",
      "rule": "N_1 substitution",
      "premises": [
        "A1851_C20: for odd l=2m+1, N_l = b_m",
        "A1851_C5: b_0 = 1"
      ],
      "conclusions": [
        "A1851_C22: N_1 = b_0 = 1"
      ]
    },
    {
      "id": "A1851_S20",
      "rule": "N_12 substitution",
      "premises": [
        "A1851_C21: for even l=2m, N_l = b_m",
        "A1851_C19: b_6 = b_5 + 2 a_5 = 21 + 2·11 = 43"
      ],
      "conclusions": [
        "A1851_C23: N_{12} = b_6 = 43"
      ]
    },
    {
      "id": "A1851_S21",
      "rule": "sum b_1 to b_5",
      "premises": [
        "A1851_C7: b_1 = 1",
        "A1851_C11: b_2 = b_1 + 2 a_1 = 1 + 2·1 = 3",
        "A1851_C13: b_3 = b_2 + 2 a_2 = 3 + 2·1 = 5",
        "A1851_C15: b_4 = b_3 + 2 a_3 = 5 + 2·3 = 11",
        "A1851_C17: b_5 = b_4 + 2 a_4 = 11 + 2·5 = 21"
      ],
      "conclusions": [
        "A1851_C24: ∑_{m=1}^5 b_m = 1 + 3 + 5 + 11 + 21 = 41"
      ]
    },
    {
      "id": "A1851_S22",
      "rule": "paired lengths sum",
      "premises": [
        "A1851_C20: for odd l=2m+1, N_l = b_m",
        "A1851_C21: for even l=2m, N_l = b_m",
        "A1851_C24: ∑_{m=1}^5 b_m = 1 + 3 + 5 + 11 + 21 = 41"
      ],
      "conclusions": [
        "A1851_C25: ∑_{m=1}^5 (N_{2m} + N_{2m+1}) = 2 × 41 = 82"
      ]
    },
    {
      "id": "A1851_S23",
      "rule": "total sum",
      "premises": [
        "A1851_C22: N_1 = b_0 = 1",
        "A1851_C25: ∑_{m=1}^5 (N_{2m} + N_{2m+1}) = 2 × 41 = 82",
        "A1851_C23: N_{12} = b_6 = 43"
      ],
      "conclusions": [
        "A1851_C26: N = 1 + 82 + 43 = 126"
      ]
    },
    {
      "id": "A1851_S24",
      "rule": "final conclusion",
      "premises": [
        "A1851_C26: N = 1 + 82 + 43 = 126"
      ],
      "conclusions": [
        "A1851_C27: N = 126"
      ]
    },
    {
      "id": "A1353_S1",
      "rule": "problem setup",
      "premises": [
        "A1353_C1: sum_{i=1}^{10} a_i = 28"
      ],
      "conclusions": [
        "A1353_C2: a_1, \\dots, a_{10} \\in \\mathbb{Z}^{+}, \forall i: a_i = \\gcd(a_{i-1}, a_{i+1}) + 1 \\pmod{10}"
      ]
    },
    {
      "id": "A1353_S2",
      "rule": "gcd lower bound",
      "premises": [
        "A1353_C2: a_1, \\dots, a_{10} \\in \\mathbb{Z}^{+}, \forall i: a_i = \\gcd(a_{i-1}, a_{i+1}) + 1 \\pmod{10}"
      ],
      "conclusions": [
        "A1353_C3: \forall i, a_i \\geq 2"
      ]
    },
    {
      "id": "A1353_S3",
      "rule": "maximum definition",
      "premises": [
        "A1353_C3: \forall i, a_i \\geq 2"
      ],
      "conclusions": [
        "A1353_C4: n := \\max_i a_i \\geq 2"
      ]
    },
    {
      "id": "A1353_S4",
      "rule": "equation at maximum",
      "premises": [
        "A1353_C2: a_1, \\dots, a_{10} \\in \\mathbb{Z}^{+}, \forall i: a_i = \\gcd(a_{i-1}, a_{i+1}) + 1 \\pmod{10}",
        "A1353_C4: n := \\max_i a_i \\geq 2"
      ],
      "conclusions": [
        "A1353_C5: \\exists k: a_k = n, b = a_{k-1}, d = a_{k+1}, \\gcd(b, d) = n - 1"
      ]
    },
    {
      "id": "A1353_S5",
      "rule": "maximum property",
      "premises": [
        "A1353_C4: n := \\max_i a_i \\geq 2"
      ],
      "conclusions": [
        "A1353_C6: b \\leq n, d \\leq n"
      ]
    },
    {
      "id": "A1353_S6",
      "rule": "gcd divides arguments",
      "premises": [
        "A1353_C5: \\exists k: a_k = n, b = a_{k-1}, d = a_{k+1}, \\gcd(b, d) = n - 1"
      ],
      "conclusions": [
        "A1353_C7: n-1 \\mid b, n-1 \\mid d"
      ]
    },
    {
      "id": "A1353_S7",
      "rule": "positive multiple bound",
      "premises": [
        "A1353_C7: n-1 \\mid b, n-1 \\mid d"
      ],
      "conclusions": [
        "A1353_C8: b \\geq n-1, d \\geq n-1"
      ]
    },
    {
      "id": "A1353_S8",
      "rule": "possible values",
      "premises": [
        "A1353_C6: b \\leq n, d \\leq n",
        "A1353_C8: b \\geq n-1, d \\geq n-1",
        "A1353_C7: n-1 \\mid b, n-1 \\mid d"
      ],
      "conclusions": [
        "A1353_C9: b \\in \\{n-1, n\\}, d \\in \\{n-1, n\\}"
      ]
    },
    {
      "id": "A1353_S9",
      "rule": "n=2 contradiction",
      "premises": [
        "A1353_C3: \forall i, a_i \\geq 2",
        "A1353_C5: \\exists k: a_k = n, b = a_{k-1}, d = a_{k+1}, \\gcd(b, d) = n - 1",
        "A1353_C6: b \\leq n, d \\leq n"
      ],
      "conclusions": [
        "A1353_C10: n \\geq 3"
      ]
    },
    {
      "id": "A1353_S10",
      "rule": "gcd consecutive",
      "premises": [
        "A1353_C2: a_1, \\dots, a_{10} \\in \\mathbb{Z}^{+}, \forall i: a_i = \\gcd(a_{i-1}, a_{i+1}) + 1 \\pmod{10}"
      ],
      "conclusions": [
        "A1353_C11: \\gcd(n-1, n) = 1"
      ]
    },
    {
      "id": "A1353_S11",
      "rule": "non-divisibility",
      "premises": [
        "A1353_C10: n \\geq 3",
        "A1353_C11: \\gcd(n-1, n) = 1"
      ],
      "conclusions": [
        "A1353_C12: n-1 \nmid n \\ (n \\geq 3)"
      ]
    },
    {
      "id": "A1353_S12",
      "rule": "contradiction if b=n",
      "premises": [
        "A1353_C9: b \\in \\{n-1, n\\}, d \\in \\{n-1, n\\}",
        "A1353_C7: n-1 \\mid b, n-1 \\mid d",
        "A1353_C12: n-1 \nmid n \\ (n \\geq 3)"
      ],
      "conclusions": [
        "A1353_C13: b \neq n, d \neq n"
      ]
    },
    {
      "id": "A1353_S13",
      "rule": "elimination",
      "premises": [
        "A1353_C9: b \\in \\{n-1, n\\}, d \\in \\{n-1, n\\}",
        "A1353_C13: b \neq n, d \neq n"
      ],
      "conclusions": [
        "A1353_C14: b = n-1, d = n-1"
      ]
    },
    {
      "id": "A1353_S14",
      "rule": "equation at neighbor",
      "premises": [
        "A1353_C2: a_1, \\dots, a_{10} \\in \\mathbb{Z}^{+}, \forall i: a_i = \\gcd(a_{i-1}, a_{i+1}) + 1 \\pmod{10}",
        "A1353_C14: b = n-1, d = n-1"
      ],
      "conclusions": [
        "A1353_C15: m = a_{k-2}, \\gcd(m, n) = n-2"
      ]
    },
    {
      "id": "A1353_S15",
      "rule": "gcd divides",
      "premises": [
        "A1353_C15: m = a_{k-2}, \\gcd(m, n) = n-2"
      ],
      "conclusions": [
        "A1353_C16: n-2 \\mid n"
      ]
    },
    {
      "id": "A1353_S16",
      "rule": "divides difference",
      "premises": [
        "A1353_C16: n-2 \\mid n"
      ],
      "conclusions": [
        "A1353_C17: n-2 \\mid 2"
      ]
    },
    {
      "id": "A1353_S17",
      "rule": "positive divisors",
      "premises": [
        "A1353_C10: n \\geq 3",
        "A1353_C17: n-2 \\mid 2"
      ],
      "conclusions": [
        "A1353_C18: n-2 = 1 \\lor n-2 = 2"
      ]
    },
    {
      "id": "A1353_S18",
      "rule": "solve for n",
      "premises": [
        "A1353_C18: n-2 = 1 \\lor n-2 = 2"
      ],
      "conclusions": [
        "A1353_C19: n = 3 \\lor n = 4"
      ]
    },
    {
      "id": "A1353_S19",
      "rule": "substitute n=3",
      "premises": [
        "A1353_C14: b = n-1, d = n-1",
        "A1353_C19: n = 3 \\lor n = 4"
      ],
      "conclusions": [
        "A1353_C20: n=3 \\implies b = d = 2"
      ]
    },
    {
      "id": "A1353_S20",
      "rule": "solve gcd for n=3",
      "premises": [
        "A1353_C15: m = a_{k-2}, \\gcd(m, n) = n-2",
        "A1353_C19: n = 3 \\lor n = 4",
        "A1353_C3: \forall i, a_i \\geq 2",
        "A1353_C4: n := \\max_i a_i \\geq 2"
      ],
      "conclusions": [
        "A1353_C21: n=3 \\implies \\gcd(3, m) = 1 \\implies m = 2"
      ]
    },
    {
      "id": "A1353_S21",
      "rule": "exhaustion for n=3",
      "premises": [
        "A1353_C19: n = 3 \\lor n = 4",
        "A1353_C20: n=3 \\implies b = d = 2",
        "A1353_C21: n=3 \\implies \\gcd(3, m) = 1 \\implies m = 2"
      ],
      "conclusions": [
        "A1353_C22: No arrangement exists for n=3"
      ]
    },
    {
      "id": "A1353_S22",
      "rule": "case elimination",
      "premises": [
        "A1353_C19: n = 3 \\lor n = 4",
        "A1353_C22: No arrangement exists for n=3"
      ],
      "conclusions": [
        "A1353_C23: n = 4"
      ]
    },
    {
      "id": "A1353_S23",
      "rule": "substitute n=4",
      "premises": [
        "A1353_C14: b = n-1, d = n-1",
        "A1353_C23: n = 4"
      ],
      "conclusions": [
        "A1353_C24: n=4 \\implies b = d = 3"
      ]
    },
    {
      "id": "A1353_S24",
      "rule": "solve gcd for n=4",
      "premises": [
        "A1353_C15: m = a_{k-2}, \\gcd(m, n) = n-2",
        "A1353_C23: n = 4",
        "A1353_C3: \forall i, a_i \\geq 2",
        "A1353_C4: n := \\max_i a_i \\geq 2"
      ],
      "conclusions": [
        "A1353_C25: n=4 \\implies \\gcd(4, m) = 2 \\implies m = 2"
      ]
    },
    {
      "id": "A1353_S25",
      "rule": "unique construction and verification",
      "premises": [
        "A1353_C23: n = 4",
        "A1353_C24: n=4 \\implies b = d = 3",
        "A1353_C25: n=4 \\implies \\gcd(4, m) = 2 \\implies m = 2",
        "A1353_C2: a_1, \\dots, a_{10} \\in \\mathbb{Z}^{+}, \forall i: a_i = \\gcd(a_{i-1}, a_{i+1}) + 1 \\pmod{10}"
      ],
      "conclusions": [
        "A1353_C26: The arrangement is 4,3,2,2,3,4,3,2,2,3 up to rotation"
      ]
    },
    {
      "id": "A1353_S26",
      "rule": "sum calculation",
      "premises": [
        "A1353_C26: The arrangement is 4,3,2,2,3,4,3,2,2,3 up to rotation"
      ],
      "conclusions": [
        "A1353_C27: 4+3+2+2+3+4+3+2+2+3 = 28"
      ]
    },
    {
      "id": "B679_S1",
      "rule": "problem connection",
      "premises": [
        "B679_C1: sum_{i=1}^{10} a_i = (b_1 + 27)",
        "A1851_C7: b_1 = 1"
      ],
      "conclusions": [
        "A1353_C1: sum_{i=1}^{10} a_i = 28"
      ]
    }
  ]
}