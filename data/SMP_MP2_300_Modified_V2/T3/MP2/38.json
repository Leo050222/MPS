{
  "Problem_ID": 38,
  "Chunk_Type": "T3",
  "Class_ID": "D2079",
  "Multiple_Synthesis_Class": "MP2",
  "Sub_Class_ID": [
    {
      "A870": "A870_DG_2"
    },
    {
      "A1580": "A1580_DG_1"
    }
  ],
  "Synthesis_Trace": "DG-DG",
  "Synthesis_Status": "Continuable",
  "Math_Problem": "Roger initially has 20 socks in a drawer, each of which is either white or black. He chooses a sock uniformly at random from the drawer and throws it away. He repeats this action until there are equal numbers of white and black socks remaining. Suppose that the probability he stops before all socks are gone is $p$. If the sum of all distinct possible values of $p$ over all initial combinations of socks is $\\frac{a}{b}$ for relatively prime positive integers $a$ and $b$, compute $100 a+b$. Instead of computing the sum of all distinct possible values of the stopping probability over all initial combinations of socks, simply find $p_{10}$, the stopping probability when the drawer initially contains an equal number of white and black socks. There are $p_{10} + \\frac{38324}{19}$ frogs in a pool and there is 1 frog on the shore. In each time-step thereafter, one random frog moves position. If it was in the pool, it jumps to the shore, and vice versa. Find the expected number of time-steps before all frogs are in the pool for the first time.",
  "Connecting_Sentence": [
    {
      "A870": "Instead of computing the sum of all distinct possible values of the stopping probability over all initial combinations of socks, simply find $p_{10}$, the stopping probability when the drawer initially contains an equal number of white and black socks."
    },
    {
      "A1580": "None"
    }
  ],
  "Synthesised_By": [
    {
      "A870": "Roger initially has 20 socks in a drawer, each of which is either white or black. He chooses a sock uniformly at random from the drawer and throws it away. He repeats this action until there are equal numbers of white and black socks remaining. Suppose that the probability he stops before all socks are gone is $p$. If the sum of all distinct possible values of $p$ over all initial combinations of socks is $\\frac{a}{b}$ for relatively prime positive integers $a$ and $b$, compute $100 a+b$ Instead of computing the sum of all distinct possible values of the stopping probability over all initial combinations of socks, simply find $e = p_{10} + \\frac{38324}{19}$, where $p_{10}$ is the stopping probability when the drawer initially contains an equal number of white and black socks."
    },
    {
      "A1580": "There are 2018 frogs in a pool and there is 1 frog on the shore. In each time-step thereafter, one random frog moves position. If it was in the pool, it jumps to the shore, and vice versa. Find the expected number of time-steps before all frogs are in the pool for the first time."
    }
  ],
  "Original_Problem": [
    {
      "A870": "Roger initially has 20 socks in a drawer, each of which is either white or black. He chooses a sock uniformly at random from the drawer and throws it away. He repeats this action until there are equal numbers of white and black socks remaining. Suppose that the probability he stops before all socks are gone is $p$. If the sum of all distinct possible values of $p$ over all initial combinations of socks is $\\frac{a}{b}$ for relatively prime positive integers $a$ and $b$, compute $100 a+b$"
    },
    {
      "A1580": "There are 2018 frogs in a pool and there is 1 frog on the shore. In each time-step thereafter, one random frog moves position. If it was in the pool, it jumps to the shore, and vice versa. Find the expected number of time-steps before all frogs are in the pool for the first time."
    }
  ],
  "Problem_Type": [
    {
      "A870": [
        "Mathematics -> Applied Mathematics -> Statistics -> Probability -> Other"
      ]
    },
    {
      "A1580": [
        "Mathematics -> Applied Mathematics -> Statistics -> Probability -> Other"
      ]
    }
  ],
  "Problem_Level": [
    {
      "A870": "KbsdJames_Omni-MATH_5.25"
    },
    {
      "A1580": "KbsdJames_Omni-MATH_5.0"
    }
  ],
  "Problem_Source": [
    {
      "A870": "HMMT_2"
    },
    {
      "A1580": "HMMT_2"
    }
  ],
  "Problem_Length": [
    {
      "A870": 492
    },
    {
      "A1580": 280
    }
  ],
  "Synthesised_Problem_Length": 1050,
  "Ground_Truth": [
    {
      "A870": "20738"
    },
    {
      "A1580": "2^{2018}-1"
    }
  ],
  "Predicted_Answer": [
    {
      "A870": "20738"
    },
    {
      "A1580": "2^{2018}-1"
    }
  ],
  "Connecting_Point": [
    {
      "B2079": {
        "2018": "(p_{10} + 38324/19)"
      }
    }
  ],
  "Delta_Factor": [
    {
      "A870": 0.86
    },
    {
      "A1580": 0.48
    }
  ],
  "Delta_Value": [
    {
      "A870": {
        "p_{10}": "18/19"
      }
    },
    {
      "A1580": {
        "f_n": "1"
      }
    }
  ],
  "Delta_Depth": [
    {
      "A870": {
        "p_{10}": 18
      }
    },
    {
      "A1580": {
        "f_n": 11
      }
    }
  ],
  "Delta_Source": [
    {
      "A870": "derived"
    },
    {
      "A1580": "derived"
    }
  ],
  "Delta_Value_Order": [
    {
      "A870": 2
    },
    {
      "A1580": 1
    }
  ],
  "Delta_Variable_Names": [
    {
      "A870": [
        "p"
      ]
    },
    {
      "A1580": [
        "f"
      ]
    }
  ],
  "Delta_Socket": [
    {
      "A870": {
        "1": 1.0
      }
    },
    {
      "A1580": {
        "2018": 2018.0
      }
    }
  ],
  "Source_Delta_Socket": [
    {
      "A870": "goal"
    },
    {
      "A1580": "goal"
    }
  ],
  "Delta_Socket_Order": [
    {
      "A870": 1
    },
    {
      "A1580": 1
    }
  ],
  "Variable_Names": [
    {
      "A870": [
        "p",
        "b",
        "a"
      ]
    },
    {
      "A1580": []
    }
  ],
  "Total_Claims": [
    {
      "A870": 21
    },
    {
      "A1580": 23
    }
  ],
  "Total_Delta": [
    {
      "A870": 2
    },
    {
      "A1580": 1
    }
  ],
  "Total_Delta_Socket": [
    {
      "A870": 1
    },
    {
      "A1580": 1
    }
  ],
  "Max_Delta_Factor": [
    {
      "A870": 0.86
    },
    {
      "A1580": 0.48
    }
  ],
  "Min_Delta_Factor": [
    {
      "A870": 0.76
    },
    {
      "A1580": 0.48
    }
  ],
  "Max_Delta_Depth": [
    {
      "A870": 18
    },
    {
      "A1580": 11
    }
  ],
  "Min_Delta_Depth": [
    {
      "A870": 16
    },
    {
      "A1580": 11
    }
  ],
  "Claims": [
    {
      "id": "A870_C1",
      "type": "goal",
      "expr": "sum of all distinct possible values of p = a/b with gcd(a,b)=1, compute 100a + b"
    },
    {
      "id": "A870_C2",
      "type": "context",
      "expr": "initial total socks n_0 = 20"
    },
    {
      "id": "A870_C3",
      "type": "context",
      "expr": "initial b_0 black, w_0 = 20 - b_0 white"
    },
    {
      "id": "A870_C4",
      "type": "context",
      "expr": "0 ≤ b_0 ≤ 20, integer"
    },
    {
      "id": "A870_C5",
      "type": "context",
      "expr": "remove one sock uniformly at random each step"
    },
    {
      "id": "A870_C6",
      "type": "derived",
      "expr": "n_i = 20 - i"
    },
    {
      "id": "A870_C7",
      "type": "derived",
      "expr": "r_i = b_i / n_i"
    },
    {
      "id": "A870_C8",
      "type": "derived",
      "expr": "E[r_{i+1} | F_i] = r_i"
    },
    {
      "id": "A870_C9",
      "type": "derived",
      "expr": "wlog b_0 ≤ 10"
    },
    {
      "id": "A870_C10",
      "type": "derived",
      "expr": "τ = min{i ≥ 0 : b_i = 0 or b_i = w_i}"
    },
    {
      "id": "A870_C11",
      "type": "derived",
      "expr": "if b_τ = w_τ > 0 then r_τ = 1/2; if b_τ = 0 then r_τ = 0"
    },
    {
      "id": "A870_C12",
      "type": "derived",
      "expr": "p = P(b_τ = w_τ > 0)"
    },
    {
      "id": "A870_C13",
      "type": "derived",
      "expr": "E[r_τ] = r_0 = b_0 / 20"
    },
    {
      "id": "A870_C14",
      "type": "derived",
      "expr": "E[r_τ] = p/2"
    },
    {
      "id": "A870_C15",
      "type": "derived",
      "expr": "p = 2 b_0 / (b_0 + w_0) for b_0 < w_0"
    },
    {
      "id": "A870_C16",
      "type": "derived",
      "expr": "for b_0 = 10, after first removal: n_1 = 19, min(b_1, w_1) = 9"
    },
    {
      "id": "A870_C17",
      "type": "derived",
      "expr": "p = 2 \\cdot 9 / 19 = 18/19 for b_0 = 10"
    },
    {
      "id": "A870_C18",
      "type": "derived",
      "expr": "distinct p for b_0 = 0 to 10: p_k = k/10 for k=0 to 9, p_{10} = 18/19"
    },
    {
      "id": "A870_C19",
      "type": "derived",
      "expr": "\\sum_{k=0}^9 k/10 = (1/10) \\sum_{k=0}^9 k = (1/10) \\cdot 45 = 9/2"
    },
    {
      "id": "A870_C20",
      "type": "derived",
      "expr": "9/2 + 18/19 = 171/38 + 36/38 = 207/38"
    },
    {
      "id": "A870_C21",
      "type": "final",
      "expr": "a=207, b=38, gcd(207,38)=1, 100a + b = 20738"
    },
    {
      "id": "A1580_C1",
      "type": "derived",
      "expr": "E_1 (n=2018)"
    },
    {
      "id": "A1580_C2",
      "type": "context",
      "expr": "There are n frogs in total."
    },
    {
      "id": "A1580_C3",
      "type": "context",
      "expr": "n=2018"
    },
    {
      "id": "A1580_C4",
      "type": "context",
      "expr": "Let E_i be the expected time to reach i=0 starting from i frogs on the shore."
    },
    {
      "id": "A1580_C5",
      "type": "context",
      "expr": "E_0 = 0"
    },
    {
      "id": "A1580_C6",
      "type": "context",
      "expr": "E_n = 1 + E_{n-1}"
    },
    {
      "id": "A1580_C7",
      "type": "context",
      "expr": "∀ 0 < i < n, E_i = (i/n) E_{i-1} + ((n-i)/n) E_{i+1} + 1"
    },
    {
      "id": "A1580_C8",
      "type": "derived",
      "expr": "d_i = ∏_{k=i}^{n-1} k for i=1 to n (d_n=1)"
    },
    {
      "id": "A1580_C9",
      "type": "derived",
      "expr": "d_i = (n-1)! / (i-1)!"
    },
    {
      "id": "A1580_C10",
      "type": "derived",
      "expr": "E_i = E_{i-1} + f_i / d_i for i=1 to n"
    },
    {
      "id": "A1580_C11",
      "type": "derived",
      "expr": "f_n = 1"
    },
    {
      "id": "A1580_C12",
      "type": "derived",
      "expr": "f_i = (n-i) f_{i+1} + n! / i! for i=1 to n-1"
    },
    {
      "id": "A1580_C13",
      "type": "derived",
      "expr": "f_1 = ∑_{k=1}^n (n! / k!) ⋅ ∏_{j=1}^{k-1} (n-j)"
    },
    {
      "id": "A1580_C14",
      "type": "derived",
      "expr": "∏_{j=1}^{k-1} (n-j) = (n-1)! / (n-k)! for k=2 to n"
    },
    {
      "id": "A1580_C15",
      "type": "derived",
      "expr": "(n! / k!) ⋅ ((n-1)! / (n-k)!) = (n-1)! ⋅ \binom{n}{k}"
    },
    {
      "id": "A1580_C16",
      "type": "derived",
      "expr": "f_1 = (n-1)! ⋅ ∑_{k=1}^n \binom{n}{k}"
    },
    {
      "id": "A1580_C17",
      "type": "derived",
      "expr": "∑_{k=0}^n \binom{n}{k} = 2^n"
    },
    {
      "id": "A1580_C18",
      "type": "derived",
      "expr": "∑_{k=1}^n \binom{n}{k} = 2^n - 1"
    },
    {
      "id": "A1580_C19",
      "type": "derived",
      "expr": "f_1 = (n-1)! (2^n - 1)"
    },
    {
      "id": "A1580_C20",
      "type": "derived",
      "expr": "d_1 = (n-1)!"
    },
    {
      "id": "A1580_C21",
      "type": "derived",
      "expr": "E_1 = f_1 / d_1 + E_0"
    },
    {
      "id": "A1580_C22",
      "type": "derived",
      "expr": "E_1 = 2^n - 1"
    },
    {
      "id": "A1580_C23",
      "type": "final",
      "expr": "2^{2018} - 1"
    },
    {
      "id": "B2079_C1",
      "type": "goal",
      "expr": "E_1 (n=(p_{10} + 38324/19))"
    }
  ],
  "Steps": [
    {
      "id": "A870_S1",
      "rule": "problem setup",
      "premises": [
        "A870_C1: sum of all distinct possible values of p = a/b with gcd(a,b)=1, compute 100a + b"
      ],
      "conclusions": [
        "A870_C2: initial total socks n_0 = 20",
        "A870_C3: initial b_0 black, w_0 = 20 - b_0 white",
        "A870_C4: 0 ≤ b_0 ≤ 20, integer",
        "A870_C5: remove one sock uniformly at random each step"
      ]
    },
    {
      "id": "A870_S2",
      "rule": "remaining socks definition",
      "premises": [
        "A870_C2: initial total socks n_0 = 20"
      ],
      "conclusions": [
        "A870_C6: n_i = 20 - i"
      ]
    },
    {
      "id": "A870_S3",
      "rule": "ratio definition",
      "premises": [
        "A870_C3: initial b_0 black, w_0 = 20 - b_0 white",
        "A870_C6: n_i = 20 - i"
      ],
      "conclusions": [
        "A870_C7: r_i = b_i / n_i"
      ]
    },
    {
      "id": "A870_S4",
      "rule": "conditional expectation computation",
      "premises": [
        "A870_C5: remove one sock uniformly at random each step",
        "A870_C7: r_i = b_i / n_i"
      ],
      "conclusions": [
        "A870_C8: E[r_{i+1} | F_i] = r_i"
      ]
    },
    {
      "id": "A870_S5",
      "rule": "symmetry assumption",
      "premises": [
        "A870_C3: initial b_0 black, w_0 = 20 - b_0 white",
        "A870_C4: 0 ≤ b_0 ≤ 20, integer"
      ],
      "conclusions": [
        "A870_C9: wlog b_0 ≤ 10"
      ]
    },
    {
      "id": "A870_S6",
      "rule": "stopping time definition",
      "premises": [
        "A870_C3: initial b_0 black, w_0 = 20 - b_0 white"
      ],
      "conclusions": [
        "A870_C10: τ = min{i ≥ 0 : b_i = 0 or b_i = w_i}"
      ]
    },
    {
      "id": "A870_S7",
      "rule": "value at stopping",
      "premises": [
        "A870_C7: r_i = b_i / n_i",
        "A870_C10: τ = min{i ≥ 0 : b_i = 0 or b_i = w_i}"
      ],
      "conclusions": [
        "A870_C11: if b_τ = w_τ > 0 then r_τ = 1/2; if b_τ = 0 then r_τ = 0"
      ]
    },
    {
      "id": "A870_S8",
      "rule": "probability definition",
      "premises": [
        "A870_C4: 0 ≤ b_0 ≤ 20, integer",
        "A870_C10: τ = min{i ≥ 0 : b_i = 0 or b_i = w_i}"
      ],
      "conclusions": [
        "A870_C12: p = P(b_τ = w_τ > 0)"
      ]
    },
    {
      "id": "A870_S9",
      "rule": "optional stopping theorem",
      "premises": [
        "A870_C8: E[r_{i+1} | F_i] = r_i",
        "A870_C10: τ = min{i ≥ 0 : b_i = 0 or b_i = w_i}"
      ],
      "conclusions": [
        "A870_C13: E[r_τ] = r_0 = b_0 / 20"
      ]
    },
    {
      "id": "A870_S10",
      "rule": "expectation at stopping",
      "premises": [
        "A870_C11: if b_τ = w_τ > 0 then r_τ = 1/2; if b_τ = 0 then r_τ = 0",
        "A870_C12: p = P(b_τ = w_τ > 0)"
      ],
      "conclusions": [
        "A870_C14: E[r_τ] = p/2"
      ]
    },
    {
      "id": "A870_S11",
      "rule": "solve equation",
      "premises": [
        "A870_C13: E[r_τ] = r_0 = b_0 / 20",
        "A870_C14: E[r_τ] = p/2"
      ],
      "conclusions": [
        "A870_C15: p = 2 b_0 / (b_0 + w_0) for b_0 < w_0"
      ]
    },
    {
      "id": "A870_S12",
      "rule": "initial equal case analysis",
      "premises": [
        "A870_C2: initial total socks n_0 = 20",
        "A870_C3: initial b_0 black, w_0 = 20 - b_0 white",
        "A870_C9: wlog b_0 ≤ 10"
      ],
      "conclusions": [
        "A870_C16: for b_0 = 10, after first removal: n_1 = 19, min(b_1, w_1) = 9"
      ]
    },
    {
      "id": "A870_S13",
      "rule": "apply formula to substate",
      "premises": [
        "A870_C15: p = 2 b_0 / (b_0 + w_0) for b_0 < w_0",
        "A870_C16: for b_0 = 10, after first removal: n_1 = 19, min(b_1, w_1) = 9"
      ],
      "conclusions": [
        "A870_C17: p = 2 \\cdot 9 / 19 = 18/19 for b_0 = 10"
      ]
    },
    {
      "id": "A870_S14",
      "rule": "distinct values identification",
      "premises": [
        "A870_C4: 0 ≤ b_0 ≤ 20, integer",
        "A870_C9: wlog b_0 ≤ 10",
        "A870_C15: p = 2 b_0 / (b_0 + w_0) for b_0 < w_0",
        "A870_C17: p = 2 \\cdot 9 / 19 = 18/19 for b_0 = 10"
      ],
      "conclusions": [
        "A870_C18: distinct p for b_0 = 0 to 10: p_k = k/10 for k=0 to 9, p_{10} = 18/19"
      ]
    },
    {
      "id": "A870_S15",
      "rule": "sum computation",
      "premises": [
        "A870_C18: distinct p for b_0 = 0 to 10: p_k = k/10 for k=0 to 9, p_{10} = 18/19"
      ],
      "conclusions": [
        "A870_C19: \\sum_{k=0}^9 k/10 = (1/10) \\sum_{k=0}^9 k = (1/10) \\cdot 45 = 9/2"
      ]
    },
    {
      "id": "A870_S16",
      "rule": "fraction addition",
      "premises": [
        "A870_C19: \\sum_{k=0}^9 k/10 = (1/10) \\sum_{k=0}^9 k = (1/10) \\cdot 45 = 9/2"
      ],
      "conclusions": [
        "A870_C20: 9/2 + 18/19 = 171/38 + 36/38 = 207/38"
      ]
    },
    {
      "id": "A870_S17",
      "rule": "final computation",
      "premises": [
        "A870_C20: 9/2 + 18/19 = 171/38 + 36/38 = 207/38"
      ],
      "conclusions": [
        "A870_C21: a=207, b=38, gcd(207,38)=1, 100a + b = 20738"
      ]
    },
    {
      "id": "A1580_S1",
      "rule": "problem setup",
      "premises": [
        "A1580_C1: E_1 (n=2018)"
      ],
      "conclusions": [
        "A1580_C2: There are n frogs in total.",
        "A1580_C3: n=2018",
        "A1580_C4: Let E_i be the expected time to reach i=0 starting from i frogs on the shore.",
        "A1580_C5: E_0 = 0",
        "A1580_C6: E_n = 1 + E_{n-1}",
        "A1580_C7: ∀ 0 < i < n, E_i = (i/n) E_{i-1} + ((n-i)/n) E_{i+1} + 1"
      ]
    },
    {
      "id": "A1580_S2",
      "rule": "define product denominator",
      "premises": [
        "A1580_C2: There are n frogs in total."
      ],
      "conclusions": [
        "A1580_C8: d_i = ∏_{k=i}^{n-1} k for i=1 to n (d_n=1)"
      ]
    },
    {
      "id": "A1580_S3",
      "rule": "express product as factorial ratio",
      "premises": [
        "A1580_C8: d_i = ∏_{k=i}^{n-1} k for i=1 to n (d_n=1)"
      ],
      "conclusions": [
        "A1580_C9: d_i = (n-1)! / (i-1)!"
      ]
    },
    {
      "id": "A1580_S4",
      "rule": "assume form E_i = E_{i-1} + f_i / d_i to solve recurrence",
      "premises": [
        "A1580_C7: ∀ 0 < i < n, E_i = (i/n) E_{i-1} + ((n-i)/n) E_{i+1} + 1",
        "A1580_C9: d_i = (n-1)! / (i-1)!"
      ],
      "conclusions": [
        "A1580_C10: E_i = E_{i-1} + f_i / d_i for i=1 to n"
      ]
    },
    {
      "id": "A1580_S5",
      "rule": "apply definition at i=n",
      "premises": [
        "A1580_C6: E_n = 1 + E_{n-1}",
        "A1580_C10: E_i = E_{i-1} + f_i / d_i for i=1 to n"
      ],
      "conclusions": [
        "A1580_C11: f_n = 1"
      ]
    },
    {
      "id": "A1580_S6",
      "rule": "substitute into recurrence and solve for f_i",
      "premises": [
        "A1580_C7: ∀ 0 < i < n, E_i = (i/n) E_{i-1} + ((n-i)/n) E_{i+1} + 1",
        "A1580_C10: E_i = E_{i-1} + f_i / d_i for i=1 to n",
        "A1580_C9: d_i = (n-1)! / (i-1)!"
      ],
      "conclusions": [
        "A1580_C12: f_i = (n-i) f_{i+1} + n! / i! for i=1 to n-1"
      ]
    },
    {
      "id": "A1580_S7",
      "rule": "unfold recurrence from i=n to i=1",
      "premises": [
        "A1580_C12: f_i = (n-i) f_{i+1} + n! / i! for i=1 to n-1",
        "A1580_C11: f_n = 1"
      ],
      "conclusions": [
        "A1580_C13: f_1 = ∑_{k=1}^n (n! / k!) ⋅ ∏_{j=1}^{k-1} (n-j)"
      ]
    },
    {
      "id": "A1580_S8",
      "rule": "simplify product to factorial ratio",
      "premises": [
        "A1580_C13: f_1 = ∑_{k=1}^n (n! / k!) ⋅ ∏_{j=1}^{k-1} (n-j)"
      ],
      "conclusions": [
        "A1580_C14: ∏_{j=1}^{k-1} (n-j) = (n-1)! / (n-k)! for k=2 to n"
      ]
    },
    {
      "id": "A1580_S9",
      "rule": "combine terms in summand",
      "premises": [
        "A1580_C13: f_1 = ∑_{k=1}^n (n! / k!) ⋅ ∏_{j=1}^{k-1} (n-j)",
        "A1580_C14: ∏_{j=1}^{k-1} (n-j) = (n-1)! / (n-k)! for k=2 to n"
      ],
      "conclusions": [
        "A1580_C15: (n! / k!) ⋅ ((n-1)! / (n-k)!) = (n-1)! ⋅ \binom{n}{k}"
      ]
    },
    {
      "id": "A1580_S10",
      "rule": "write f_1 as summed expression",
      "premises": [
        "A1580_C15: (n! / k!) ⋅ ((n-1)! / (n-k)!) = (n-1)! ⋅ \binom{n}{k}"
      ],
      "conclusions": [
        "A1580_C16: f_1 = (n-1)! ⋅ ∑_{k=1}^n \binom{n}{k}"
      ]
    },
    {
      "id": "A1580_S11",
      "rule": "binomial theorem",
      "premises": [
        "A1580_C2: There are n frogs in total."
      ],
      "conclusions": [
        "A1580_C17: ∑_{k=0}^n \binom{n}{k} = 2^n"
      ]
    },
    {
      "id": "A1580_S12",
      "rule": "subtract k=0 term",
      "premises": [
        "A1580_C17: ∑_{k=0}^n \binom{n}{k} = 2^n"
      ],
      "conclusions": [
        "A1580_C18: ∑_{k=1}^n \binom{n}{k} = 2^n - 1"
      ]
    },
    {
      "id": "A1580_S13",
      "rule": "substitute sum value",
      "premises": [
        "A1580_C16: f_1 = (n-1)! ⋅ ∑_{k=1}^n \binom{n}{k}",
        "A1580_C18: ∑_{k=1}^n \binom{n}{k} = 2^n - 1"
      ],
      "conclusions": [
        "A1580_C19: f_1 = (n-1)! (2^n - 1)"
      ]
    },
    {
      "id": "A1580_S14",
      "rule": "evaluate d_1",
      "premises": [
        "A1580_C9: d_i = (n-1)! / (i-1)!"
      ],
      "conclusions": [
        "A1580_C20: d_1 = (n-1)!"
      ]
    },
    {
      "id": "A1580_S15",
      "rule": "apply definition at i=1",
      "premises": [
        "A1580_C10: E_i = E_{i-1} + f_i / d_i for i=1 to n",
        "A1580_C5: E_0 = 0"
      ],
      "conclusions": [
        "A1580_C21: E_1 = f_1 / d_1 + E_0"
      ]
    },
    {
      "id": "A1580_S16",
      "rule": "substitute f_1 and d_1",
      "premises": [
        "A1580_C21: E_1 = f_1 / d_1 + E_0",
        "A1580_C19: f_1 = (n-1)! (2^n - 1)",
        "A1580_C20: d_1 = (n-1)!"
      ],
      "conclusions": [
        "A1580_C22: E_1 = 2^n - 1"
      ]
    },
    {
      "id": "A1580_S17",
      "rule": "instantiate for n=2018",
      "premises": [
        "A1580_C22: E_1 = 2^n - 1",
        "A1580_C3: n=2018"
      ],
      "conclusions": [
        "A1580_C23: 2^{2018} - 1"
      ]
    },
    {
      "id": "B2079_S1",
      "rule": "problem connection",
      "premises": [
        "B2079_C1: E_1 (n=(p_{10} + 38324/19))",
        "A870_C18: distinct p for b_0 = 0 to 10: p_k = k/10 for k=0 to 9, p_{10} = 18/19"
      ],
      "conclusions": [
        "A1580_C1: E_1 (n=2018)"
      ]
    }
  ]
}