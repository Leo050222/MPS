{
  "Problem_ID": 13,
  "Chunk_Type": "T4",
  "Class_ID": "B2498",
  "Multiple_Synthesis_Class": "MP2",
  "Sub_Class_ID": [
    {
      "A3251": "A3251_DG_1"
    },
    {
      "A3265": "A3265_DG_1"
    }
  ],
  "Synthesis_Trace": "DG-DG",
  "Synthesis_Status": "Continuable",
  "Math_Problem": "Suppose that a positive integer $N$ can be expressed as the sum of $k$ consecutive positive integers \\[ N = a + (a+1) +(a+2) + \\cdots + (a+k-1) \\] for $k=2017$ but for no other values of $k>1$. Considering all positive integers $N$ with this property, what is the smallest positive integer $a$ that occurs in any of these expressions? Instead of identifying the minimal initial term in the unique representation of such $N$ as a sum of consecutive positive integers, simply find $d = a - 15$, where $a$ is the smallest positive integer serving as the initial term in any such representation derived from the condition that $N$ admits no other decompositions into consecutive sums for $k>1$. Determine which positive integers $n$ have the following property: For all integers $m$ such that $\\gcd(m,n)=d$, there exists a permutation $\\pi\\colon \\{1,2,\\dots,n\\} \\to \\{1,2,\\dots,n\\}$ such that $\\pi(\\pi(k)) \\equiv mk \\pmod{n}$ for all $k \\in \\{1,2,\\dots,n\\}$.",
  "Connecting_Sentence": [
    {
      "A3251": "Instead of identifying the minimal initial term in the unique representation of such $N$ as a sum of consecutive positive integers, simply find $d = a - 15$, where $a$ is the smallest positive integer serving as the initial term in any such representation derived from the condition that $N$ admits no other decompositions into consecutive sums for $k>1$."
    },
    {
      "A3265": "None"
    }
  ],
  "Synthesised_By": [
    {
      "A3251": "Suppose that a positive integer $N$ can be expressed as the sum of $k$ consecutive positive integers \\[ N = a + (a+1) +(a+2) + \\cdots + (a+k-1) \\] for $k=2017$ but for no other values of $k>1$. Considering all positive integers $N$ with this property, what is the smallest positive integer $a$ that occurs in any of these expressions? Instead of identifying the minimal initial term in the unique representation of such $N$ as a sum of consecutive positive integers, simply find $d = a - 15$, where $a$ is the smallest positive integer serving as the initial term in any such representation derived from the condition that $N$ admits no other decompositions into consecutive sums for $k>1$."
    },
    {
      "A3265": "Determine which positive integers $n$ have the following property: For all integers $m$ that are relatively prime to $n$, there exists a permutation $\\pi\\colon \\{1,2,\\dots,n\\} \\to \\{1,2,\\dots,n\\}$ such that $\\pi(\\pi(k)) \\equiv mk \\pmod{n}$ for all $k \\in \\{1,2,\\dots,n\\}$."
    }
  ],
  "Original_Problem": [
    {
      "A3251": "Suppose that a positive integer $N$ can be expressed as the sum of $k$ consecutive positive integers \\[ N = a + (a+1) +(a+2) + \\cdots + (a+k-1) \\] for $k=2017$ but for no other values of $k>1$. Considering all positive integers $N$ with this property, what is the smallest positive integer $a$ that occurs in any of these expressions?"
    },
    {
      "A3265": "Determine which positive integers $n$ have the following property: For all integers $m$ that are relatively prime to $n$, there exists a permutation $\\pi\\colon \\{1,2,\\dots,n\\} \\to \\{1,2,\\dots,n\\}$ such that $\\pi(\\pi(k)) \\equiv mk \\pmod{n}$ for all $k \\in \\{1,2,\\dots,n\\}$."
    }
  ],
  "Problem_Type": [
    {
      "A3251": [
        "Mathematics -> Algebra -> Algebra -> Equations and Inequalities",
        "Mathematics -> Number Theory -> Factorization"
      ]
    },
    {
      "A3265": [
        "Mathematics -> Algebra -> Abstract Algebra -> Group Theory",
        "Mathematics -> Number Theory -> Congruences"
      ]
    }
  ],
  "Problem_Level": [
    {
      "A3251": "KbsdJames_Omni-MATH_7.0"
    },
    {
      "A3265": "KbsdJames_Omni-MATH_7.0"
    }
  ],
  "Problem_Source": [
    {
      "A3251": "putnam"
    },
    {
      "A3265": "putnam"
    }
  ],
  "Problem_Length": [
    {
      "A3251": 334
    },
    {
      "A3265": 272
    }
  ],
  "Synthesised_Problem_Length": 954,
  "Ground_Truth": [
    {
      "A3251": "16"
    },
    {
      "A3265": "n = 1 \\text{ or } n \\equiv 2 \\pmod{4}"
    }
  ],
  "Predicted_Answer": [
    {
      "A3251": "16"
    },
    {
      "A3265": "n = 1 or n ≡ 2 \\pmod{4}"
    }
  ],
  "Connecting_Point": [
    {
      "B2498": {
        "1": "(a - 15)"
      }
    }
  ],
  "Delta_Factor": [
    {
      "A3251": 0.95
    },
    {
      "A3265": 0.81
    }
  ],
  "Delta_Value": [
    {
      "A3251": {
        "a": "16"
      }
    },
    {
      "A3265": {
        "gcd(m,n)": "1"
      }
    }
  ],
  "Delta_Depth": [
    {
      "A3251": {
        "a": 21
      }
    },
    {
      "A3265": {
        "gcd(m,n)": 26
      }
    }
  ],
  "Delta_Source": [
    {
      "A3251": "derived"
    },
    {
      "A3265": "derived"
    }
  ],
  "Delta_Value_Order": [
    {
      "A3251": 1
    },
    {
      "A3265": 1
    }
  ],
  "Delta_Variable_Names": [
    {
      "A3251": [
        "a"
      ]
    },
    {
      "A3265": [
        "gcd"
      ]
    }
  ],
  "Delta_Socket": [
    {
      "A3251": {
        "2017": 2017.0
      }
    },
    {
      "A3265": {
        "1": 1.0
      }
    }
  ],
  "Source_Delta_Socket": [
    {
      "A3251": "goal"
    },
    {
      "A3265": "goal"
    }
  ],
  "Delta_Socket_Order": [
    {
      "A3251": 1
    },
    {
      "A3265": 1
    }
  ],
  "Variable_Names": [
    {
      "A3251": [
        "N",
        "k",
        "a"
      ]
    },
    {
      "A3265": [
        "n",
        "m",
        "k"
      ]
    }
  ],
  "Total_Claims": [
    {
      "A3251": 22
    },
    {
      "A3265": 32
    }
  ],
  "Total_Delta": [
    {
      "A3251": 1
    },
    {
      "A3265": 1
    }
  ],
  "Total_Delta_Socket": [
    {
      "A3251": 1
    },
    {
      "A3265": 1
    }
  ],
  "Max_Delta_Factor": [
    {
      "A3251": 0.95
    },
    {
      "A3265": 0.81
    }
  ],
  "Min_Delta_Factor": [
    {
      "A3251": 0.95
    },
    {
      "A3265": 0.81
    }
  ],
  "Max_Delta_Depth": [
    {
      "A3251": 21
    },
    {
      "A3265": 26
    }
  ],
  "Min_Delta_Depth": [
    {
      "A3251": 21
    },
    {
      "A3265": 26
    }
  ],
  "Claims": [
    {
      "id": "A3251_C1",
      "type": "goal",
      "expr": "smallest positive integer a in expressions for N sum of 2017 consecutive positives with no other k>1"
    },
    {
      "id": "A3251_C2",
      "type": "context",
      "expr": "N = sum_{i=0}^{2016} (a + i)"
    },
    {
      "id": "A3251_C3",
      "type": "context",
      "expr": "N has no sum of k>1 consecutive positives except k=2017"
    },
    {
      "id": "A3251_C4",
      "type": "context",
      "expr": "a ≥ 1"
    },
    {
      "id": "A3251_C5",
      "type": "derived",
      "expr": "N = 2017 × (2a + 2016)/2"
    },
    {
      "id": "A3251_C6",
      "type": "derived",
      "expr": "2N = 2017 × (2a + 2016)"
    },
    {
      "id": "A3251_C7",
      "type": "context",
      "expr": "2017 is prime"
    },
    {
      "id": "A3251_C8",
      "type": "derived",
      "expr": "2a + 2016 > 2017"
    },
    {
      "id": "A3251_C9",
      "type": "derived",
      "expr": "2017 odd"
    },
    {
      "id": "A3251_C10",
      "type": "derived",
      "expr": "2a + 2016 even"
    },
    {
      "id": "A3251_C11",
      "type": "derived",
      "expr": "any factorization 2N = m n with 1 < m < n, m n opposite parity gives sum of m consecutives"
    },
    {
      "id": "A3251_C12",
      "type": "derived",
      "expr": "for uniqueness, only factorization is m=2017, n=2a+2016"
    },
    {
      "id": "A3251_C13",
      "type": "derived",
      "expr": "if 2a+2016 has odd divisor d>1, then m=2017 d, n'=(2a+2016)/d gives another pair with opposite parity"
    },
    {
      "id": "A3251_C14",
      "type": "derived",
      "expr": "2a + 2016 must have no odd divisors >1"
    },
    {
      "id": "A3251_C15",
      "type": "derived",
      "expr": "2a + 2016 is a power of 2"
    },
    {
      "id": "A3251_C16",
      "type": "derived",
      "expr": "2^{10} = 1024 < 2017"
    },
    {
      "id": "A3251_C17",
      "type": "derived",
      "expr": "2^{11} = 2048 > 2017"
    },
    {
      "id": "A3251_C18",
      "type": "derived",
      "expr": "smallest power of 2 > 2017 is 2048"
    },
    {
      "id": "A3251_C19",
      "type": "derived",
      "expr": "2a + 2016 = 2048"
    },
    {
      "id": "A3251_C20",
      "type": "derived",
      "expr": "2a = 32"
    },
    {
      "id": "A3251_C21",
      "type": "derived",
      "expr": "a = 16"
    },
    {
      "id": "A3251_C22",
      "type": "final",
      "expr": "smallest a = 16"
    },
    {
      "id": "A3265_C1",
      "type": "derived",
      "expr": "positive integers n s.t. ∀ m ∈ ℤ, gcd(m,n)=1 ⇒ ∃ π ∈ S_n, ∀ k ∈ {1,...,n}, π(π(k)) ≡ m k (mod n)"
    },
    {
      "id": "A3265_C2",
      "type": "context",
      "expr": "σ_{n,m}: {1,...,n} → {1,...,n} given by σ_{n,m}(k) ≡ m k (mod n)"
    },
    {
      "id": "A3265_C3",
      "type": "context",
      "expr": "property holds ⇔ ∀ m gcd(m,n)=1, σ_{n,m} has square root in S_n"
    },
    {
      "id": "A3265_C4",
      "type": "context",
      "expr": "σ ∈ S_n has square root ⇔ ∀ even l ≥ 2, number of l-cycles in σ is even"
    },
    {
      "id": "A3265_C5",
      "type": "derived",
      "expr": "for n=1, σ_{1,1} = id ∈ S_1"
    },
    {
      "id": "A3265_C6",
      "type": "derived",
      "expr": "id has one 1-cycle, zero even-length cycles"
    },
    {
      "id": "A3265_C7",
      "type": "derived",
      "expr": "P(1) holds"
    },
    {
      "id": "A3265_C8",
      "type": "derived",
      "expr": "for n>1 odd, let p odd prime | n, e = v_p(n) ≥1, k = n/p^e, gcd(p,k)=1, k odd"
    },
    {
      "id": "A3265_C9",
      "type": "context",
      "expr": "ℤ/nℤ ≅ ℤ/p^e ℤ × ℤ/k ℤ"
    },
    {
      "id": "A3265_C10",
      "type": "context",
      "expr": "(ℤ/p^e ℤ)^× cyclic of order φ(p^e) = p^{e-1}(p-1) even"
    },
    {
      "id": "A3265_C11",
      "type": "derived",
      "expr": "∃ m gcd(m,n)=1, m generates (ℤ/p^e ℤ)^×, m ≡ 1 (mod k)"
    },
    {
      "id": "A3265_C12",
      "type": "derived",
      "expr": "σ_{n,m} acts as mult by generator on each of k slices ≅ ℤ/p^e ℤ"
    },
    {
      "id": "A3265_C13",
      "type": "derived",
      "expr": "each slice has cycle structure of mult by generator on ℤ/p^e ℤ, including one φ(p^e)-cycle (even length)"
    },
    {
      "id": "A3265_C14",
      "type": "derived",
      "expr": "σ_{n,m} has k (odd) cycles of even length φ(p^e), plus shorter cycles yielding total odd # even-length cycles"
    },
    {
      "id": "A3265_C15",
      "type": "derived",
      "expr": "σ_{n,m} has odd # even-length cycles"
    },
    {
      "id": "A3265_C16",
      "type": "derived",
      "expr": "σ_{n,m} has no square root"
    },
    {
      "id": "A3265_C17",
      "type": "derived",
      "expr": "for odd n>1, ¬P(n)"
    },
    {
      "id": "A3265_C18",
      "type": "derived",
      "expr": "for n ≡ 2 (mod 4), n=2k, k odd"
    },
    {
      "id": "A3265_C19",
      "type": "context",
      "expr": "ℤ/nℤ ≅ ℤ/2 ℤ × ℤ/k ℤ"
    },
    {
      "id": "A3265_C20",
      "type": "derived",
      "expr": "for gcd(m,n)=1, m odd ≡1 (mod 2)"
    },
    {
      "id": "A3265_C21",
      "type": "derived",
      "expr": "σ_{n,m} acts as mult by m (mod k) on each of two slices {0}×ℤ/k ℤ, {1}×ℤ/k ℤ"
    },
    {
      "id": "A3265_C22",
      "type": "derived",
      "expr": "cycle structure of σ_{n,m} has every length appearing even # times (twice)"
    },
    {
      "id": "A3265_C23",
      "type": "derived",
      "expr": "σ_{n,m} has even # even-length cycles"
    },
    {
      "id": "A3265_C24",
      "type": "derived",
      "expr": "σ_{n,m} has square root"
    },
    {
      "id": "A3265_C25",
      "type": "derived",
      "expr": "for n ≡ 2 (mod 4), P(n) holds"
    },
    {
      "id": "A3265_C26",
      "type": "derived",
      "expr": "for 4|n, consider m ≡ -1 (mod n), gcd(m,n)=1"
    },
    {
      "id": "A3265_C27",
      "type": "derived",
      "expr": "σ_{n,-1} has fixed points 0, n/2 and (n/2 -1) 2-cycles"
    },
    {
      "id": "A3265_C28",
      "type": "derived",
      "expr": "n/2 even, so n/2 -1 odd"
    },
    {
      "id": "A3265_C29",
      "type": "derived",
      "expr": "σ_{n,-1} has odd # 2-cycles (even length)"
    },
    {
      "id": "A3265_C30",
      "type": "derived",
      "expr": "σ_{n,-1} has no square root"
    },
    {
      "id": "A3265_C31",
      "type": "derived",
      "expr": "for 4|n, ¬P(n)"
    },
    {
      "id": "A3265_C32",
      "type": "final",
      "expr": "P(n) holds iff n=1 or n ≡ 2 (mod 4)"
    },
    {
      "id": "B2498_C1",
      "type": "goal",
      "expr": "positive integers n s.t. ∀ m ∈ ℤ, gcd(m,n)=(a - 15) ⇒ ∃ π ∈ S_n, ∀ k ∈ {1,...,n}, π(π(k)) ≡ m k (mod n)"
    }
  ],
  "Steps": [
    {
      "id": "A3251_S1",
      "rule": "problem setup",
      "premises": [
        "A3251_C1: smallest positive integer a in expressions for N sum of 2017 consecutive positives with no other k>1"
      ],
      "conclusions": [
        "A3251_C2: N = sum_{i=0}^{2016} (a + i)",
        "A3251_C3: N has no sum of k>1 consecutive positives except k=2017",
        "A3251_C4: a ≥ 1"
      ]
    },
    {
      "id": "A3251_S2",
      "rule": "sum of arithmetic series",
      "premises": [
        "A3251_C2: N = sum_{i=0}^{2016} (a + i)"
      ],
      "conclusions": [
        "A3251_C5: N = 2017 × (2a + 2016)/2"
      ]
    },
    {
      "id": "A3251_S3",
      "rule": "multiply by 2",
      "premises": [
        "A3251_C5: N = 2017 × (2a + 2016)/2"
      ],
      "conclusions": [
        "A3251_C6: 2N = 2017 × (2a + 2016)"
      ]
    },
    {
      "id": "A3251_S4",
      "rule": "given fact",
      "premises": [
        "A3251_C1: smallest positive integer a in expressions for N sum of 2017 consecutive positives with no other k>1"
      ],
      "conclusions": [
        "A3251_C7: 2017 is prime"
      ]
    },
    {
      "id": "A3251_S5",
      "rule": "a ≥ 1 implies inequality",
      "premises": [
        "A3251_C4: a ≥ 1"
      ],
      "conclusions": [
        "A3251_C8: 2a + 2016 > 2017"
      ]
    },
    {
      "id": "A3251_S6",
      "rule": "parity of 2017",
      "premises": [
        "A3251_C7: 2017 is prime"
      ],
      "conclusions": [
        "A3251_C9: 2017 odd"
      ]
    },
    {
      "id": "A3251_S7",
      "rule": "evenness of 2a + 2016",
      "premises": [
        "A3251_C6: 2N = 2017 × (2a + 2016)"
      ],
      "conclusions": [
        "A3251_C10: 2a + 2016 even"
      ]
    },
    {
      "id": "A3251_S8",
      "rule": "converse of sum formula",
      "premises": [
        "A3251_C6: 2N = 2017 × (2a + 2016)",
        "A3251_C8: 2a + 2016 > 2017",
        "A3251_C9: 2017 odd",
        "A3251_C10: 2a + 2016 even"
      ],
      "conclusions": [
        "A3251_C11: any factorization 2N = m n with 1 < m < n, m n opposite parity gives sum of m consecutives"
      ]
    },
    {
      "id": "A3251_S9",
      "rule": "uniqueness condition",
      "premises": [
        "A3251_C3: N has no sum of k>1 consecutive positives except k=2017",
        "A3251_C11: any factorization 2N = m n with 1 < m < n, m n opposite parity gives sum of m consecutives"
      ],
      "conclusions": [
        "A3251_C12: for uniqueness, only factorization is m=2017, n=2a+2016"
      ]
    },
    {
      "id": "A3251_S10",
      "rule": "construct alternative factorization",
      "premises": [
        "A3251_C6: 2N = 2017 × (2a + 2016)",
        "A3251_C7: 2017 is prime",
        "A3251_C9: 2017 odd",
        "A3251_C10: 2a + 2016 even"
      ],
      "conclusions": [
        "A3251_C13: if 2a+2016 has odd divisor d>1, then m=2017 d, n'=(2a+2016)/d gives another pair with opposite parity"
      ]
    },
    {
      "id": "A3251_S11",
      "rule": "avoid alternative pairs",
      "premises": [
        "A3251_C12: for uniqueness, only factorization is m=2017, n=2a+2016",
        "A3251_C13: if 2a+2016 has odd divisor d>1, then m=2017 d, n'=(2a+2016)/d gives another pair with opposite parity"
      ],
      "conclusions": [
        "A3251_C14: 2a + 2016 must have no odd divisors >1"
      ]
    },
    {
      "id": "A3251_S12",
      "rule": "no odd divisors >1",
      "premises": [
        "A3251_C14: 2a + 2016 must have no odd divisors >1"
      ],
      "conclusions": [
        "A3251_C15: 2a + 2016 is a power of 2"
      ]
    },
    {
      "id": "A3251_S13",
      "rule": "compute powers of 2",
      "premises": [
        "A3251_C8: 2a + 2016 > 2017"
      ],
      "conclusions": [
        "A3251_C16: 2^{10} = 1024 < 2017",
        "A3251_C17: 2^{11} = 2048 > 2017"
      ]
    },
    {
      "id": "A3251_S14",
      "rule": "select minimal power",
      "premises": [
        "A3251_C16: 2^{10} = 1024 < 2017",
        "A3251_C17: 2^{11} = 2048 > 2017",
        "A3251_C15: 2a + 2016 is a power of 2"
      ],
      "conclusions": [
        "A3251_C18: smallest power of 2 > 2017 is 2048"
      ]
    },
    {
      "id": "A3251_S15",
      "rule": "set equal to minimal",
      "premises": [
        "A3251_C18: smallest power of 2 > 2017 is 2048",
        "A3251_C15: 2a + 2016 is a power of 2"
      ],
      "conclusions": [
        "A3251_C19: 2a + 2016 = 2048"
      ]
    },
    {
      "id": "A3251_S16",
      "rule": "subtract 2016",
      "premises": [
        "A3251_C19: 2a + 2016 = 2048"
      ],
      "conclusions": [
        "A3251_C20: 2a = 32"
      ]
    },
    {
      "id": "A3251_S17",
      "rule": "divide by 2",
      "premises": [
        "A3251_C20: 2a = 32"
      ],
      "conclusions": [
        "A3251_C21: a = 16"
      ]
    },
    {
      "id": "A3251_S18",
      "rule": "final conclusion",
      "premises": [
        "A3251_C21: a = 16"
      ],
      "conclusions": [
        "A3251_C22: smallest a = 16"
      ]
    },
    {
      "id": "A3265_S1",
      "rule": "problem setup",
      "premises": [
        "A3265_C1: positive integers n s.t. ∀ m ∈ ℤ, gcd(m,n)=1 ⇒ ∃ π ∈ S_n, ∀ k ∈ {1,...,n}, π(π(k)) ≡ m k (mod n)"
      ],
      "conclusions": [
        "A3265_C2: σ_{n,m}: {1,...,n} → {1,...,n} given by σ_{n,m}(k) ≡ m k (mod n)",
        "A3265_C3: property holds ⇔ ∀ m gcd(m,n)=1, σ_{n,m} has square root in S_n",
        "A3265_C4: σ ∈ S_n has square root ⇔ ∀ even l ≥ 2, number of l-cycles in σ is even",
        "A3265_C9: ℤ/nℤ ≅ ℤ/p^e ℤ × ℤ/k ℤ",
        "A3265_C10: (ℤ/p^e ℤ)^× cyclic of order φ(p^e) = p^{e-1}(p-1) even",
        "A3265_C19: ℤ/nℤ ≅ ℤ/2 ℤ × ℤ/k ℤ"
      ]
    },
    {
      "id": "A3265_S2",
      "rule": "special case n=1",
      "premises": [
        "A3265_C2: σ_{n,m}: {1,...,n} → {1,...,n} given by σ_{n,m}(k) ≡ m k (mod n)",
        "A3265_C3: property holds ⇔ ∀ m gcd(m,n)=1, σ_{n,m} has square root in S_n",
        "A3265_C4: σ ∈ S_n has square root ⇔ ∀ even l ≥ 2, number of l-cycles in σ is even"
      ],
      "conclusions": [
        "A3265_C5: for n=1, σ_{1,1} = id ∈ S_1",
        "A3265_C6: id has one 1-cycle, zero even-length cycles",
        "A3265_C7: P(1) holds"
      ]
    },
    {
      "id": "A3265_S3",
      "rule": "case odd n>1",
      "premises": [
        "A3265_C3: property holds ⇔ ∀ m gcd(m,n)=1, σ_{n,m} has square root in S_n"
      ],
      "conclusions": [
        "A3265_C8: for n>1 odd, let p odd prime | n, e = v_p(n) ≥1, k = n/p^e, gcd(p,k)=1, k odd"
      ]
    },
    {
      "id": "A3265_S4",
      "rule": "prime power decomposition",
      "premises": [
        "A3265_C8: for n>1 odd, let p odd prime | n, e = v_p(n) ≥1, k = n/p^e, gcd(p,k)=1, k odd"
      ],
      "conclusions": [
        "A3265_C9: ℤ/nℤ ≅ ℤ/p^e ℤ × ℤ/k ℤ"
      ]
    },
    {
      "id": "A3265_S5",
      "rule": "group structure",
      "premises": [
        "A3265_C8: for n>1 odd, let p odd prime | n, e = v_p(n) ≥1, k = n/p^e, gcd(p,k)=1, k odd"
      ],
      "conclusions": [
        "A3265_C10: (ℤ/p^e ℤ)^× cyclic of order φ(p^e) = p^{e-1}(p-1) even"
      ]
    },
    {
      "id": "A3265_S6",
      "rule": "CRT for elements",
      "premises": [
        "A3265_C9: ℤ/nℤ ≅ ℤ/p^e ℤ × ℤ/k ℤ",
        "A3265_C10: (ℤ/p^e ℤ)^× cyclic of order φ(p^e) = p^{e-1}(p-1) even"
      ],
      "conclusions": [
        "A3265_C11: ∃ m gcd(m,n)=1, m generates (ℤ/p^e ℤ)^×, m ≡ 1 (mod k)"
      ]
    },
    {
      "id": "A3265_S7",
      "rule": "permutation action under iso",
      "premises": [
        "A3265_C9: ℤ/nℤ ≅ ℤ/p^e ℤ × ℤ/k ℤ",
        "A3265_C11: ∃ m gcd(m,n)=1, m generates (ℤ/p^e ℤ)^×, m ≡ 1 (mod k)"
      ],
      "conclusions": [
        "A3265_C12: σ_{n,m} acts as mult by generator on each of k slices ≅ ℤ/p^e ℤ"
      ]
    },
    {
      "id": "A3265_S8",
      "rule": "cycle structure replication",
      "premises": [
        "A3265_C12: σ_{n,m} acts as mult by generator on each of k slices ≅ ℤ/p^e ℤ"
      ],
      "conclusions": [
        "A3265_C13: each slice has cycle structure of mult by generator on ℤ/p^e ℤ, including one φ(p^e)-cycle (even length)"
      ]
    },
    {
      "id": "A3265_S9",
      "rule": "even length identification",
      "premises": [
        "A3265_C10: (ℤ/p^e ℤ)^× cyclic of order φ(p^e) = p^{e-1}(p-1) even",
        "A3265_C13: each slice has cycle structure of mult by generator on ℤ/p^e ℤ, including one φ(p^e)-cycle (even length)"
      ],
      "conclusions": [
        "A3265_C14: σ_{n,m} has k (odd) cycles of even length φ(p^e), plus shorter cycles yielding total odd # even-length cycles"
      ]
    },
    {
      "id": "A3265_S10",
      "rule": "total even cycles count",
      "premises": [
        "A3265_C8: for n>1 odd, let p odd prime | n, e = v_p(n) ≥1, k = n/p^e, gcd(p,k)=1, k odd",
        "A3265_C14: σ_{n,m} has k (odd) cycles of even length φ(p^e), plus shorter cycles yielding total odd # even-length cycles"
      ],
      "conclusions": [
        "A3265_C15: σ_{n,m} has odd # even-length cycles"
      ]
    },
    {
      "id": "A3265_S11",
      "rule": "apply lemma",
      "premises": [
        "A3265_C4: σ ∈ S_n has square root ⇔ ∀ even l ≥ 2, number of l-cycles in σ is even",
        "A3265_C15: σ_{n,m} has odd # even-length cycles"
      ],
      "conclusions": [
        "A3265_C16: σ_{n,m} has no square root"
      ]
    },
    {
      "id": "A3265_S12",
      "rule": "contradiction to property",
      "premises": [
        "A3265_C3: property holds ⇔ ∀ m gcd(m,n)=1, σ_{n,m} has square root in S_n",
        "A3265_C16: σ_{n,m} has no square root"
      ],
      "conclusions": [
        "A3265_C17: for odd n>1, ¬P(n)"
      ]
    },
    {
      "id": "A3265_S13",
      "rule": "case n≡2 mod 4",
      "premises": [
        "A3265_C3: property holds ⇔ ∀ m gcd(m,n)=1, σ_{n,m} has square root in S_n"
      ],
      "conclusions": [
        "A3265_C18: for n ≡ 2 (mod 4), n=2k, k odd"
      ]
    },
    {
      "id": "A3265_S14",
      "rule": "decomposition n=2k",
      "premises": [
        "A3265_C18: for n ≡ 2 (mod 4), n=2k, k odd"
      ],
      "conclusions": [
        "A3265_C19: ℤ/nℤ ≅ ℤ/2 ℤ × ℤ/k ℤ"
      ]
    },
    {
      "id": "A3265_S15",
      "rule": "m coprime implies odd",
      "premises": [
        "A3265_C18: for n ≡ 2 (mod 4), n=2k, k odd"
      ],
      "conclusions": [
        "A3265_C20: for gcd(m,n)=1, m odd ≡1 (mod 2)"
      ]
    },
    {
      "id": "A3265_S16",
      "rule": "action under iso",
      "premises": [
        "A3265_C19: ℤ/nℤ ≅ ℤ/2 ℤ × ℤ/k ℤ",
        "A3265_C20: for gcd(m,n)=1, m odd ≡1 (mod 2)"
      ],
      "conclusions": [
        "A3265_C21: σ_{n,m} acts as mult by m (mod k) on each of two slices {0}×ℤ/k ℤ, {1}×ℤ/k ℤ"
      ]
    },
    {
      "id": "A3265_S17",
      "rule": "duplicated cycle structure",
      "premises": [
        "A3265_C21: σ_{n,m} acts as mult by m (mod k) on each of two slices {0}×ℤ/k ℤ, {1}×ℤ/k ℤ"
      ],
      "conclusions": [
        "A3265_C22: cycle structure of σ_{n,m} has every length appearing even # times (twice)"
      ]
    },
    {
      "id": "A3265_S18",
      "rule": "even multiplicities for even lengths",
      "premises": [
        "A3265_C22: cycle structure of σ_{n,m} has every length appearing even # times (twice)"
      ],
      "conclusions": [
        "A3265_C23: σ_{n,m} has even # even-length cycles"
      ]
    },
    {
      "id": "A3265_S19",
      "rule": "apply lemma",
      "premises": [
        "A3265_C4: σ ∈ S_n has square root ⇔ ∀ even l ≥ 2, number of l-cycles in σ is even",
        "A3265_C23: σ_{n,m} has even # even-length cycles"
      ],
      "conclusions": [
        "A3265_C24: σ_{n,m} has square root"
      ]
    },
    {
      "id": "A3265_S20",
      "rule": "property holds",
      "premises": [
        "A3265_C3: property holds ⇔ ∀ m gcd(m,n)=1, σ_{n,m} has square root in S_n",
        "A3265_C24: σ_{n,m} has square root"
      ],
      "conclusions": [
        "A3265_C25: for n ≡ 2 (mod 4), P(n) holds"
      ]
    },
    {
      "id": "A3265_S21",
      "rule": "case 4|n",
      "premises": [
        "A3265_C3: property holds ⇔ ∀ m gcd(m,n)=1, σ_{n,m} has square root in S_n"
      ],
      "conclusions": [
        "A3265_C26: for 4|n, consider m ≡ -1 (mod n), gcd(m,n)=1"
      ]
    },
    {
      "id": "A3265_S22",
      "rule": "choose m=-1",
      "premises": [
        "A3265_C26: for 4|n, consider m ≡ -1 (mod n), gcd(m,n)=1"
      ],
      "conclusions": [
        "A3265_C27: σ_{n,-1} has fixed points 0, n/2 and (n/2 -1) 2-cycles"
      ]
    },
    {
      "id": "A3265_S23",
      "rule": "cycle structure of mult by -1",
      "premises": [
        "A3265_C2: σ_{n,m}: {1,...,n} → {1,...,n} given by σ_{n,m}(k) ≡ m k (mod n)",
        "A3265_C27: σ_{n,-1} has fixed points 0, n/2 and (n/2 -1) 2-cycles"
      ],
      "conclusions": [
        "A3265_C28: n/2 even, so n/2 -1 odd"
      ]
    },
    {
      "id": "A3265_S24",
      "rule": "parity of # 2-cycles",
      "premises": [
        "A3265_C26: for 4|n, consider m ≡ -1 (mod n), gcd(m,n)=1"
      ],
      "conclusions": [
        "A3265_C29: σ_{n,-1} has odd # 2-cycles (even length)"
      ]
    },
    {
      "id": "A3265_S25",
      "rule": "odd even-length cycles",
      "premises": [
        "A3265_C28: n/2 even, so n/2 -1 odd",
        "A3265_C29: σ_{n,-1} has odd # 2-cycles (even length)"
      ],
      "conclusions": [
        "A3265_C30: σ_{n,-1} has no square root"
      ]
    },
    {
      "id": "A3265_S26",
      "rule": "apply lemma",
      "premises": [
        "A3265_C4: σ ∈ S_n has square root ⇔ ∀ even l ≥ 2, number of l-cycles in σ is even",
        "A3265_C30: σ_{n,-1} has no square root"
      ],
      "conclusions": [
        "A3265_C31: for 4|n, ¬P(n)"
      ]
    },
    {
      "id": "A3265_S27",
      "rule": "contradiction to property",
      "premises": [
        "A3265_C3: property holds ⇔ ∀ m gcd(m,n)=1, σ_{n,m} has square root in S_n",
        "A3265_C31: for 4|n, ¬P(n)"
      ],
      "conclusions": [
        "A3265_C32: P(n) holds iff n=1 or n ≡ 2 (mod 4)"
      ]
    },
    {
      "id": "A3265_S28",
      "rule": "case analysis combination",
      "premises": [
        "A3265_C7: P(1) holds",
        "A3265_C17: for odd n>1, ¬P(n)",
        "A3265_C25: for n ≡ 2 (mod 4), P(n) holds",
        "A3265_C32: P(n) holds iff n=1 or n ≡ 2 (mod 4)"
      ],
      "conclusions": [
        "A3265_C32: P(n) holds iff n=1 or n ≡ 2 (mod 4)"
      ]
    },
    {
      "id": "B2498_S1",
      "rule": "problem connection",
      "premises": [
        "B2498_C1: positive integers n s.t. ∀ m ∈ ℤ, gcd(m,n)=(a - 15) ⇒ ∃ π ∈ S_n, ∀ k ∈ {1,...,n}, π(π(k)) ≡ m k (mod n)",
        "A3251_C21: a = 16"
      ],
      "conclusions": [
        "A3265_C1: positive integers n s.t. ∀ m ∈ ℤ, gcd(m,n)=1 ⇒ ∃ π ∈ S_n, ∀ k ∈ {1,...,n}, π(π(k)) ≡ m k (mod n)"
      ]
    }
  ]
}