{
  "Problem_ID": 1,
  "Chunk_Type": "T4",
  "Class_ID": "B1",
  "Multiple_Synthesis_Class": "MP2",
  "Sub_Class_ID": [
    {
      "A11": "A11_DG_1"
    },
    {
      "A127": "A127_DG_1"
    }
  ],
  "Synthesis_Trace": "DG-DG",
  "Synthesis_Status": "Continuable",
  "Math_Problem": "Given $30$ students such that each student has at most $5$ friends and for every $5$ students there is a pair of students that are not friends, determine the maximum $k$ such that for all such possible configurations, there exists $k$ students who are all not friends. Instead of determining the maximum guaranteed size of a set of pairwise non-friended students across all such configurations, simply find $t = \\mathrm{ex}(30, K_6) - 356$, where $\\mathrm{ex}(30, K_6)$ is the maximum number of non-friendships possible among $30$ students without any $6$ who are all pairwise non-friended. Determine all integers $s \\ge t$ for which there exist positive integers $a$, $b$, $c$, $d$ such that $s = a+b+c+d$ and $s$ divides $abc+abd+acd+bcd$.",
  "Connecting_Sentence": [
    {
      "A11": "Instead of determining the maximum guaranteed size of a set of pairwise non-friended students across all such configurations, simply find $t = \\mathrm{ex}(30, K_6) - 356$, where $\\mathrm{ex}(30, K_6)$ is the maximum number of non-friendships possible among $30$ students without any $6$ who are all pairwise non-friended."
    },
    {
      "A127": "None"
    }
  ],
  "Synthesised_By": [
    {
      "A11": "Given $30$ students such that each student has at most $5$ friends and for every $5$ students there is a pair of students that are not friends, determine the maximum $k$ such that for all such possible configurations, there exists $k$ students who are all not friends. Instead of determining the maximum guaranteed size of a set of pairwise non-friended students across all such configurations, simply find $t = \\mathrm{ex}(30, K_6) - 356$, where $\\mathrm{ex}(30, K_6)$ is the maximum number of non-friendships possible among $30$ students without any $6$ who are all pairwise non-friended."
    },
    {
      "A127": "Determine all integers $s \\ge 4$ for which there exist positive integers $a$, $b$, $c$, $d$ such that $s = a+b+c+d$ and $s$ divides $abc+abd+acd+bcd$."
    }
  ],
  "Original_Problem": [
    {
      "A11": "Given $30$ students such that each student has at most $5$ friends and for every $5$ students there is a pair of students that are not friends, determine the maximum $k$ such that for all such possible configurations, there exists $k$ students who are all not friends."
    },
    {
      "A127": "Determine all integers $s \\ge 4$ for which there exist positive integers $a$, $b$, $c$, $d$ such that $s = a+b+c+d$ and $s$ divides $abc+abd+acd+bcd$."
    }
  ],
  "Problem_Type": [
    {
      "A11": [
        "Mathematics -> Discrete Mathematics -> Graph Theory"
      ]
    },
    {
      "A127": [
        "Mathematics -> Number Theory -> Factorization",
        "Mathematics -> Algebra -> Algebra -> Equations and Inequalities"
      ]
    }
  ],
  "Problem_Level": [
    {
      "A11": "KbsdJames_Omni-MATH_7.0"
    },
    {
      "A127": "KbsdJames_Omni-MATH_7.0"
    }
  ],
  "Problem_Source": [
    {
      "A11": "china_national_olympiad"
    },
    {
      "A127": "usa_team_selection_test_for_imo"
    }
  ],
  "Problem_Length": [
    {
      "A11": 268
    },
    {
      "A127": 150
    }
  ],
  "Synthesised_Problem_Length": 741,
  "Ground_Truth": [
    {
      "A11": "6"
    },
    {
      "A127": "\\text{All composite integers } s \\geq 4"
    }
  ],
  "Predicted_Answer": [
    {
      "A11": "6"
    },
    {
      "A127": "All composite integers s ≥ 4"
    }
  ],
  "Connecting_Point": [
    {
      "B1": {
        "4": "(ex(30,K_6) - 356)"
      }
    }
  ],
  "Delta_Factor": [
    {
      "A11": 0.45
    },
    {
      "A127": 0.21
    }
  ],
  "Delta_Value": [
    {
      "A11": {
        "ex(30,K_6)": "360"
      }
    },
    {
      "A127": {
        "gcd(x, s)": "1"
      }
    }
  ],
  "Delta_Depth": [
    {
      "A11": {
        "ex(30,K_6)": 9
      }
    },
    {
      "A127": {
        "gcd(x, s)": 13
      }
    }
  ],
  "Delta_Source": [
    {
      "A11": "derived"
    },
    {
      "A127": "derived"
    }
  ],
  "Delta_Value_Order": [
    {
      "A11": 1
    },
    {
      "A127": 1
    }
  ],
  "Delta_Variable_Names": [
    {
      "A11": [
        "ex"
      ]
    },
    {
      "A127": [
        "gcd"
      ]
    }
  ],
  "Delta_Socket": [
    {
      "A11": {
        "30": 30.0
      }
    },
    {
      "A127": {
        "4": 4.0
      }
    }
  ],
  "Source_Delta_Socket": [
    {
      "A11": "goal"
    },
    {
      "A127": "goal"
    }
  ],
  "Delta_Socket_Order": [
    {
      "A11": 1
    },
    {
      "A127": 1
    }
  ],
  "Variable_Names": [
    {
      "A11": [
        "k"
      ]
    },
    {
      "A127": [
        "s",
        "a",
        "b",
        "c",
        "d"
      ]
    }
  ],
  "Total_Claims": [
    {
      "A11": 20
    },
    {
      "A127": 61
    }
  ],
  "Total_Delta": [
    {
      "A11": 2
    },
    {
      "A127": 1
    }
  ],
  "Total_Delta_Socket": [
    {
      "A11": 1
    },
    {
      "A127": 1
    }
  ],
  "Max_Delta_Factor": [
    {
      "A11": 1.0
    },
    {
      "A127": 0.21
    }
  ],
  "Min_Delta_Factor": [
    {
      "A11": 0.45
    },
    {
      "A127": 0.21
    }
  ],
  "Max_Delta_Depth": [
    {
      "A11": 20
    },
    {
      "A127": 13
    }
  ],
  "Min_Delta_Depth": [
    {
      "A11": 9
    },
    {
      "A127": 13
    }
  ],
  "Claims": [
    {
      "id": "A11_C1",
      "type": "goal",
      "expr": "maximum k s.t. ∀G (|V(G)|=30 ∧ Δ(G)≤5 ∧ ω(G)≤4) ⇒ α(G)≥k"
    },
    {
      "id": "A11_C2",
      "type": "context",
      "expr": "|V(G)|=30"
    },
    {
      "id": "A11_C3",
      "type": "context",
      "expr": "Δ(G)≤5"
    },
    {
      "id": "A11_C4",
      "type": "context",
      "expr": "ω(G)≤4"
    },
    {
      "id": "A11_C5",
      "type": "derived",
      "expr": "δ(¯G)≥24"
    },
    {
      "id": "A11_C6",
      "type": "derived",
      "expr": "e(¯G)≥360"
    },
    {
      "id": "A11_C7",
      "type": "derived",
      "expr": "T(30,5) is complete 5-partite with parts of size 6"
    },
    {
      "id": "A11_C8",
      "type": "derived",
      "expr": "e(T(30,5))=\binom{30}{2}-5\binom{6}{2}=360"
    },
    {
      "id": "A11_C9",
      "type": "derived",
      "expr": "ex(30,K_6)=360"
    },
    {
      "id": "A11_C10",
      "type": "derived",
      "expr": "ω(¯G)≤5 ⇒ e(¯G)≤360"
    },
    {
      "id": "A11_C11",
      "type": "derived",
      "expr": "ω(¯G)≤5 ∧ e(¯G)≥360 ⇒ e(¯G)=360 ∧ ¯G≅T(30,5)"
    },
    {
      "id": "A11_C12",
      "type": "derived",
      "expr": "α(T(30,5))=6"
    },
    {
      "id": "A11_C13",
      "type": "context",
      "expr": "ω(G)=α(¯G)"
    },
    {
      "id": "A11_C14",
      "type": "derived",
      "expr": "¯G≅T(30,5) ⇒ ω(G)=6>4"
    },
    {
      "id": "A11_C15",
      "type": "derived",
      "expr": "ω(¯G)≤5 ⇒ contradiction with ω(G)≤4"
    },
    {
      "id": "A11_C16",
      "type": "derived",
      "expr": "ω(¯G)≥6"
    },
    {
      "id": "A11_C17",
      "type": "derived",
      "expr": "α(G)≥6"
    },
    {
      "id": "A11_C18",
      "type": "derived",
      "expr": "∃G_0 (|V(G_0)|=10 ∧ deg(G_0)=5 ∧ ω(G_0)≤4 ∧ α(G_0)=2)"
    },
    {
      "id": "A11_C19",
      "type": "derived",
      "expr": "∃G' = 3 disjoint G_0 : |V(G')|=30 ∧ Δ(G')=5 ∧ ω(G')≤4 ∧ α(G')=6"
    },
    {
      "id": "A11_C20",
      "type": "final",
      "expr": "k=6"
    },
    {
      "id": "A127_C1",
      "type": "derived",
      "expr": "Determine all s ≥ 4 ∈ ℤ s.t. ∃ a,b,c,d ∈ ℕ⁺ : s = a + b + c + d ∧ s | (abc + abd + acd + bcd)"
    },
    {
      "id": "A127_C2",
      "type": "context",
      "expr": "s ∈ ℤ ∧ s ≥ 4"
    },
    {
      "id": "A127_C3",
      "type": "context",
      "expr": "a,b,c,d ∈ ℕ⁺"
    },
    {
      "id": "A127_C4",
      "type": "context",
      "expr": "s = a + b + c + d"
    },
    {
      "id": "A127_C5",
      "type": "context",
      "expr": "s | (abc + abd + acd + bcd)"
    },
    {
      "id": "A127_C6",
      "type": "derived",
      "expr": "s is prime"
    },
    {
      "id": "A127_C7",
      "type": "derived",
      "expr": "abc + abd + acd + bcd = ab(c + d) + cd(a + b)"
    },
    {
      "id": "A127_C8",
      "type": "derived",
      "expr": "x = a + b ∧ y = c + d = s - x"
    },
    {
      "id": "A127_C9",
      "type": "derived",
      "expr": "abc + abd + acd + bcd = ab y + cd x"
    },
    {
      "id": "A127_C10",
      "type": "derived",
      "expr": "ab y + cd x ≡ x (cd - ab) (mod s)"
    },
    {
      "id": "A127_C11",
      "type": "derived",
      "expr": "s | x (cd - ab)"
    },
    {
      "id": "A127_C12",
      "type": "derived",
      "expr": "0 < x < s"
    },
    {
      "id": "A127_C13",
      "type": "derived",
      "expr": "gcd(x, s) = 1"
    },
    {
      "id": "A127_C14",
      "type": "derived",
      "expr": "s | (cd - ab)"
    },
    {
      "id": "A127_C15",
      "type": "derived",
      "expr": "s | (bc - ad)"
    },
    {
      "id": "A127_C16",
      "type": "derived",
      "expr": "s | (ac - bd)"
    },
    {
      "id": "A127_C17",
      "type": "derived",
      "expr": "(cd - ab) + (bc - ad) = (b + d)(c - a)"
    },
    {
      "id": "A127_C18",
      "type": "derived",
      "expr": "s | ((cd - ab) + (bc - ad))"
    },
    {
      "id": "A127_C19",
      "type": "derived",
      "expr": "s | (b + d)(c - a)"
    },
    {
      "id": "A127_C20",
      "type": "derived",
      "expr": "(ac - bd) + (bc - ad) = (a + b)(c - d)"
    },
    {
      "id": "A127_C21",
      "type": "derived",
      "expr": "s | ((ac - bd) + (bc - ad))"
    },
    {
      "id": "A127_C22",
      "type": "derived",
      "expr": "s | (a + b)(c - d)"
    },
    {
      "id": "A127_C23",
      "type": "derived",
      "expr": "(ac - bd) + (cd - ab) = (a + d)(c - b)"
    },
    {
      "id": "A127_C24",
      "type": "derived",
      "expr": "s | ((ac - bd) + (cd - ab))"
    },
    {
      "id": "A127_C25",
      "type": "derived",
      "expr": "s | (a + d)(c - b)"
    },
    {
      "id": "A127_C26",
      "type": "derived",
      "expr": "0 < b + d < s"
    },
    {
      "id": "A127_C27",
      "type": "derived",
      "expr": "0 < a + d < s"
    },
    {
      "id": "A127_C28",
      "type": "derived",
      "expr": "s ∤ (a + b)"
    },
    {
      "id": "A127_C29",
      "type": "derived",
      "expr": "s ∤ (b + d)"
    },
    {
      "id": "A127_C30",
      "type": "derived",
      "expr": "s ∤ (a + d)"
    },
    {
      "id": "A127_C31",
      "type": "derived",
      "expr": "s | (c - a)"
    },
    {
      "id": "A127_C32",
      "type": "derived",
      "expr": "s | (c - d)"
    },
    {
      "id": "A127_C33",
      "type": "derived",
      "expr": "s | (c - b)"
    },
    {
      "id": "A127_C34",
      "type": "derived",
      "expr": "|c - a| < s ∧ |c - d| < s ∧ |c - b| < s"
    },
    {
      "id": "A127_C35",
      "type": "derived",
      "expr": "c = a"
    },
    {
      "id": "A127_C36",
      "type": "derived",
      "expr": "c = d"
    },
    {
      "id": "A127_C37",
      "type": "derived",
      "expr": "b = c"
    },
    {
      "id": "A127_C38",
      "type": "derived",
      "expr": "a = b = c = d"
    },
    {
      "id": "A127_C39",
      "type": "derived",
      "expr": "s = 4a"
    },
    {
      "id": "A127_C40",
      "type": "derived",
      "expr": "s = 4a contradicts s prime"
    },
    {
      "id": "A127_C41",
      "type": "derived",
      "expr": "No prime s ≥ 4 admits such a,b,c,d"
    },
    {
      "id": "A127_C42",
      "type": "derived",
      "expr": "s is composite"
    },
    {
      "id": "A127_C43",
      "type": "derived",
      "expr": "s = n m with n,m ≥ 2 ∈ ℤ"
    },
    {
      "id": "A127_C44",
      "type": "derived",
      "expr": "b + c = n with b,c ∈ ℕ⁺"
    },
    {
      "id": "A127_C45",
      "type": "derived",
      "expr": "a = (m - 1) c"
    },
    {
      "id": "A127_C46",
      "type": "derived",
      "expr": "d = (m - 1) b"
    },
    {
      "id": "A127_C47",
      "type": "derived",
      "expr": "a + d = (m - 1) n"
    },
    {
      "id": "A127_C48",
      "type": "derived",
      "expr": "a + b + c + d = s"
    },
    {
      "id": "A127_C49",
      "type": "derived",
      "expr": "abc = (m - 1) b c²"
    },
    {
      "id": "A127_C50",
      "type": "derived",
      "expr": "abd = (m - 1)² b² c"
    },
    {
      "id": "A127_C51",
      "type": "derived",
      "expr": "acd = (m - 1)² b c²"
    },
    {
      "id": "A127_C52",
      "type": "derived",
      "expr": "bcd = (m - 1) b² c"
    },
    {
      "id": "A127_C53",
      "type": "derived",
      "expr": "abc + abd + acd + bcd = (m - 1) b c² + (m - 1)² b² c + (m - 1)² b c² + (m - 1) b² c"
    },
    {
      "id": "A127_C54",
      "type": "derived",
      "expr": "abc + abd + acd + bcd = (m - 1) b c [b + c + (m - 1)(b + c)]"
    },
    {
      "id": "A127_C55",
      "type": "derived",
      "expr": "b + c + (m - 1)(b + c) = m (b + c)"
    },
    {
      "id": "A127_C56",
      "type": "derived",
      "expr": "abc + abd + acd + bcd = m (m - 1) (b + c) b c"
    },
    {
      "id": "A127_C57",
      "type": "derived",
      "expr": "abc + abd + acd + bcd = m (m - 1) n b c"
    },
    {
      "id": "A127_C58",
      "type": "derived",
      "expr": "abc + abd + acd + bcd = s (m - 1) b c"
    },
    {
      "id": "A127_C59",
      "type": "derived",
      "expr": "s | abc + abd + acd + bcd"
    },
    {
      "id": "A127_C60",
      "type": "derived",
      "expr": "For composite s ≥ 4, ∃ a,b,c,d ∈ ℕ⁺ s.t. s = a + b + c + d ∧ s | abc + abd + acd + bcd"
    },
    {
      "id": "A127_C61",
      "type": "final",
      "expr": "All composite integers s ≥ 4"
    },
    {
      "id": "B1_C1",
      "type": "goal",
      "expr": "Determine all s ≥ (ex(30,K_6) - 356) ∈ ℤ s.t. ∃ a,b,c,d ∈ ℕ⁺ : s = a + b + c + d ∧ s | (abc + abd + acd + bcd)"
    }
  ],
  "Steps": [
    {
      "id": "A11_S1",
      "rule": "problem setup",
      "premises": [
        "A11_C1: maximum k s.t. ∀G (|V(G)|=30 ∧ Δ(G)≤5 ∧ ω(G)≤4) ⇒ α(G)≥k"
      ],
      "conclusions": [
        "A11_C2: |V(G)|=30",
        "A11_C3: Δ(G)≤5",
        "A11_C4: ω(G)≤4",
        "A11_C13: ω(G)=α(¯G)"
      ]
    },
    {
      "id": "A11_S2",
      "rule": "complement degree",
      "premises": [
        "A11_C2: |V(G)|=30",
        "A11_C3: Δ(G)≤5"
      ],
      "conclusions": [
        "A11_C5: δ(¯G)≥24"
      ]
    },
    {
      "id": "A11_S3",
      "rule": "handshaking lemma lower bound",
      "premises": [
        "A11_C2: |V(G)|=30",
        "A11_C5: δ(¯G)≥24"
      ],
      "conclusions": [
        "A11_C6: e(¯G)≥360"
      ]
    },
    {
      "id": "A11_S4",
      "rule": "Turán graph construction",
      "premises": [
        "A11_C2: |V(G)|=30"
      ],
      "conclusions": [
        "A11_C7: T(30,5) is complete 5-partite with parts of size 6"
      ]
    },
    {
      "id": "A11_S5",
      "rule": "edge count in Turán graph",
      "premises": [
        "A11_C7: T(30,5) is complete 5-partite with parts of size 6"
      ],
      "conclusions": [
        "A11_C8: e(T(30,5))=\binom{30}{2}-5\binom{6}{2}=360"
      ]
    },
    {
      "id": "A11_S6",
      "rule": "Turán's theorem",
      "premises": [
        "A11_C8: e(T(30,5))=\binom{30}{2}-5\binom{6}{2}=360"
      ],
      "conclusions": [
        "A11_C9: ex(30,K_6)=360"
      ]
    },
    {
      "id": "A11_S7",
      "rule": "contrapositive of Turán",
      "premises": [
        "A11_C6: e(¯G)≥360",
        "A11_C9: ex(30,K_6)=360"
      ],
      "conclusions": [
        "A11_C10: ω(¯G)≤5 ⇒ e(¯G)≤360"
      ]
    },
    {
      "id": "A11_S8",
      "rule": "extremal equality",
      "premises": [
        "A11_C6: e(¯G)≥360",
        "A11_C9: ex(30,K_6)=360"
      ],
      "conclusions": [
        "A11_C11: ω(¯G)≤5 ∧ e(¯G)≥360 ⇒ e(¯G)=360 ∧ ¯G≅T(30,5)"
      ]
    },
    {
      "id": "A11_S9",
      "rule": "independence number of Turán graph",
      "premises": [
        "A11_C7: T(30,5) is complete 5-partite with parts of size 6"
      ],
      "conclusions": [
        "A11_C12: α(T(30,5))=6"
      ]
    },
    {
      "id": "A11_S10",
      "rule": "graph isomorphism implication",
      "premises": [
        "A11_C11: ω(¯G)≤5 ∧ e(¯G)≥360 ⇒ e(¯G)=360 ∧ ¯G≅T(30,5)",
        "A11_C12: α(T(30,5))=6",
        "A11_C13: ω(G)=α(¯G)"
      ],
      "conclusions": [
        "A11_C14: ¯G≅T(30,5) ⇒ ω(G)=6>4"
      ]
    },
    {
      "id": "A11_S11",
      "rule": "proof by contradiction",
      "premises": [
        "A11_C4: ω(G)≤4",
        "A11_C10: ω(¯G)≤5 ⇒ e(¯G)≤360",
        "A11_C14: ¯G≅T(30,5) ⇒ ω(G)=6>4"
      ],
      "conclusions": [
        "A11_C15: ω(¯G)≤5 ⇒ contradiction with ω(G)≤4"
      ]
    },
    {
      "id": "A11_S12",
      "rule": "resolution of contradiction",
      "premises": [
        "A11_C15: ω(¯G)≤5 ⇒ contradiction with ω(G)≤4"
      ],
      "conclusions": [
        "A11_C16: ω(¯G)≥6"
      ]
    },
    {
      "id": "A11_S13",
      "rule": "complement clique number",
      "premises": [
        "A11_C13: ω(G)=α(¯G)",
        "A11_C16: ω(¯G)≥6"
      ],
      "conclusions": [
        "A11_C17: α(G)≥6"
      ]
    },
    {
      "id": "A11_S14",
      "rule": "existence from construction",
      "premises": [
        "A11_C2: |V(G)|=30",
        "A11_C3: Δ(G)≤5",
        "A11_C4: ω(G)≤4"
      ],
      "conclusions": [
        "A11_C18: ∃G_0 (|V(G_0)|=10 ∧ deg(G_0)=5 ∧ ω(G_0)≤4 ∧ α(G_0)=2)"
      ]
    },
    {
      "id": "A11_S15",
      "rule": "disjoint union properties",
      "premises": [
        "A11_C18: ∃G_0 (|V(G_0)|=10 ∧ deg(G_0)=5 ∧ ω(G_0)≤4 ∧ α(G_0)=2)"
      ],
      "conclusions": [
        "A11_C19: ∃G' = 3 disjoint G_0 : |V(G')|=30 ∧ Δ(G')=5 ∧ ω(G')≤4 ∧ α(G')=6"
      ]
    },
    {
      "id": "A11_S16",
      "rule": "tightness of bound",
      "premises": [
        "A11_C17: α(G)≥6",
        "A11_C19: ∃G' = 3 disjoint G_0 : |V(G')|=30 ∧ Δ(G')=5 ∧ ω(G')≤4 ∧ α(G')=6"
      ],
      "conclusions": [
        "A11_C20: k=6"
      ]
    },
    {
      "id": "A127_S1",
      "rule": "problem setup",
      "premises": [
        "A127_C1: Determine all s ≥ 4 ∈ ℤ s.t. ∃ a,b,c,d ∈ ℕ⁺ : s = a + b + c + d ∧ s | (abc + abd + acd + bcd)"
      ],
      "conclusions": [
        "A127_C2: s ∈ ℤ ∧ s ≥ 4",
        "A127_C3: a,b,c,d ∈ ℕ⁺",
        "A127_C4: s = a + b + c + d",
        "A127_C5: s | (abc + abd + acd + bcd)"
      ]
    },
    {
      "id": "A127_S2",
      "rule": "assume for contradiction",
      "premises": [
        "A127_C2: s ∈ ℤ ∧ s ≥ 4"
      ],
      "conclusions": [
        "A127_C6: s is prime"
      ]
    },
    {
      "id": "A127_S3",
      "rule": "algebraic identity",
      "premises": [
        "A127_C3: a,b,c,d ∈ ℕ⁺",
        "A127_C4: s = a + b + c + d"
      ],
      "conclusions": [
        "A127_C7: abc + abd + acd + bcd = ab(c + d) + cd(a + b)"
      ]
    },
    {
      "id": "A127_S4",
      "rule": "define variables",
      "premises": [
        "A127_C4: s = a + b + c + d"
      ],
      "conclusions": [
        "A127_C8: x = a + b ∧ y = c + d = s - x"
      ]
    },
    {
      "id": "A127_S5",
      "rule": "substitute",
      "premises": [
        "A127_C7: abc + abd + acd + bcd = ab(c + d) + cd(a + b)",
        "A127_C8: x = a + b ∧ y = c + d = s - x"
      ],
      "conclusions": [
        "A127_C9: abc + abd + acd + bcd = ab y + cd x"
      ]
    },
    {
      "id": "A127_S6",
      "rule": "congruence modulo s",
      "premises": [
        "A127_C9: abc + abd + acd + bcd = ab y + cd x",
        "A127_C8: x = a + b ∧ y = c + d = s - x"
      ],
      "conclusions": [
        "A127_C10: ab y + cd x ≡ x (cd - ab) (mod s)"
      ]
    },
    {
      "id": "A127_S7",
      "rule": "divisibility preservation",
      "premises": [
        "A127_C5: s | (abc + abd + acd + bcd)",
        "A127_C10: ab y + cd x ≡ x (cd - ab) (mod s)"
      ],
      "conclusions": [
        "A127_C11: s | x (cd - ab)"
      ]
    },
    {
      "id": "A127_S8",
      "rule": "bounds",
      "premises": [
        "A127_C3: a,b,c,d ∈ ℕ⁺",
        "A127_C4: s = a + b + c + d"
      ],
      "conclusions": [
        "A127_C12: 0 < x < s"
      ]
    },
    {
      "id": "A127_S9",
      "rule": "gcd with prime",
      "premises": [
        "A127_C6: s is prime",
        "A127_C12: 0 < x < s"
      ],
      "conclusions": [
        "A127_C13: gcd(x, s) = 1"
      ]
    },
    {
      "id": "A127_S10",
      "rule": "coprime divisibility",
      "premises": [
        "A127_C11: s | x (cd - ab)",
        "A127_C13: gcd(x, s) = 1"
      ],
      "conclusions": [
        "A127_C14: s | (cd - ab)"
      ]
    },
    {
      "id": "A127_S11",
      "rule": "by symmetry",
      "premises": [
        "A127_C14: s | (cd - ab)"
      ],
      "conclusions": [
        "A127_C15: s | (bc - ad)",
        "A127_C16: s | (ac - bd)"
      ]
    },
    {
      "id": "A127_S12",
      "rule": "divisibility of sum",
      "premises": [
        "A127_C14: s | (cd - ab)",
        "A127_C15: s | (bc - ad)"
      ],
      "conclusions": [
        "A127_C18: s | ((cd - ab) + (bc - ad))"
      ]
    },
    {
      "id": "A127_S13",
      "rule": "algebraic identity",
      "premises": [
        "A127_C14: s | (cd - ab)",
        "A127_C15: s | (bc - ad)"
      ],
      "conclusions": [
        "A127_C17: (cd - ab) + (bc - ad) = (b + d)(c - a)"
      ]
    },
    {
      "id": "A127_S14",
      "rule": "implication",
      "premises": [
        "A127_C18: s | ((cd - ab) + (bc - ad))",
        "A127_C17: (cd - ab) + (bc - ad) = (b + d)(c - a)"
      ],
      "conclusions": [
        "A127_C19: s | (b + d)(c - a)"
      ]
    },
    {
      "id": "A127_S15",
      "rule": "divisibility of sum",
      "premises": [
        "A127_C16: s | (ac - bd)",
        "A127_C15: s | (bc - ad)"
      ],
      "conclusions": [
        "A127_C21: s | ((ac - bd) + (bc - ad))"
      ]
    },
    {
      "id": "A127_S16",
      "rule": "algebraic identity",
      "premises": [
        "A127_C16: s | (ac - bd)",
        "A127_C15: s | (bc - ad)"
      ],
      "conclusions": [
        "A127_C20: (ac - bd) + (bc - ad) = (a + b)(c - d)"
      ]
    },
    {
      "id": "A127_S17",
      "rule": "implication",
      "premises": [
        "A127_C21: s | ((ac - bd) + (bc - ad))",
        "A127_C20: (ac - bd) + (bc - ad) = (a + b)(c - d)"
      ],
      "conclusions": [
        "A127_C22: s | (a + b)(c - d)"
      ]
    },
    {
      "id": "A127_S18",
      "rule": "divisibility of sum",
      "premises": [
        "A127_C16: s | (ac - bd)",
        "A127_C14: s | (cd - ab)"
      ],
      "conclusions": [
        "A127_C24: s | ((ac - bd) + (cd - ab))"
      ]
    },
    {
      "id": "A127_S19",
      "rule": "algebraic identity",
      "premises": [
        "A127_C16: s | (ac - bd)",
        "A127_C14: s | (cd - ab)"
      ],
      "conclusions": [
        "A127_C23: (ac - bd) + (cd - ab) = (a + d)(c - b)"
      ]
    },
    {
      "id": "A127_S20",
      "rule": "implication",
      "premises": [
        "A127_C24: s | ((ac - bd) + (cd - ab))",
        "A127_C23: (ac - bd) + (cd - ab) = (a + d)(c - b)"
      ],
      "conclusions": [
        "A127_C25: s | (a + d)(c - b)"
      ]
    },
    {
      "id": "A127_S21",
      "rule": "bounds",
      "premises": [
        "A127_C3: a,b,c,d ∈ ℕ⁺",
        "A127_C4: s = a + b + c + d"
      ],
      "conclusions": [
        "A127_C26: 0 < b + d < s"
      ]
    },
    {
      "id": "A127_S22",
      "rule": "bounds",
      "premises": [
        "A127_C3: a,b,c,d ∈ ℕ⁺",
        "A127_C4: s = a + b + c + d"
      ],
      "conclusions": [
        "A127_C27: 0 < a + d < s"
      ]
    },
    {
      "id": "A127_S23",
      "rule": "non-divisibility",
      "premises": [
        "A127_C6: s is prime",
        "A127_C12: 0 < x < s"
      ],
      "conclusions": [
        "A127_C28: s ∤ (a + b)"
      ]
    },
    {
      "id": "A127_S24",
      "rule": "non-divisibility",
      "premises": [
        "A127_C6: s is prime",
        "A127_C26: 0 < b + d < s"
      ],
      "conclusions": [
        "A127_C29: s ∤ (b + d)"
      ]
    },
    {
      "id": "A127_S25",
      "rule": "non-divisibility",
      "premises": [
        "A127_C6: s is prime",
        "A127_C27: 0 < a + d < s"
      ],
      "conclusions": [
        "A127_C30: s ∤ (a + d)"
      ]
    },
    {
      "id": "A127_S26",
      "rule": "prime factor implication",
      "premises": [
        "A127_C6: s is prime",
        "A127_C19: s | (b + d)(c - a)",
        "A127_C29: s ∤ (b + d)"
      ],
      "conclusions": [
        "A127_C31: s | (c - a)"
      ]
    },
    {
      "id": "A127_S27",
      "rule": "prime factor implication",
      "premises": [
        "A127_C6: s is prime",
        "A127_C22: s | (a + b)(c - d)",
        "A127_C28: s ∤ (a + b)"
      ],
      "conclusions": [
        "A127_C32: s | (c - d)"
      ]
    },
    {
      "id": "A127_S28",
      "rule": "prime factor implication",
      "premises": [
        "A127_C6: s is prime",
        "A127_C25: s | (a + d)(c - b)",
        "A127_C30: s ∤ (a + d)"
      ],
      "conclusions": [
        "A127_C33: s | (c - b)"
      ]
    },
    {
      "id": "A127_S29",
      "rule": "bounds on differences",
      "premises": [
        "A127_C3: a,b,c,d ∈ ℕ⁺",
        "A127_C4: s = a + b + c + d"
      ],
      "conclusions": [
        "A127_C34: |c - a| < s ∧ |c - d| < s ∧ |c - b| < s"
      ]
    },
    {
      "id": "A127_S30",
      "rule": "zero difference",
      "premises": [
        "A127_C31: s | (c - a)",
        "A127_C34: |c - a| < s ∧ |c - d| < s ∧ |c - b| < s"
      ],
      "conclusions": [
        "A127_C35: c = a"
      ]
    },
    {
      "id": "A127_S31",
      "rule": "zero difference",
      "premises": [
        "A127_C32: s | (c - d)",
        "A127_C34: |c - a| < s ∧ |c - d| < s ∧ |c - b| < s"
      ],
      "conclusions": [
        "A127_C36: c = d"
      ]
    },
    {
      "id": "A127_S32",
      "rule": "zero difference",
      "premises": [
        "A127_C33: s | (c - b)",
        "A127_C34: |c - a| < s ∧ |c - d| < s ∧ |c - b| < s"
      ],
      "conclusions": [
        "A127_C37: b = c"
      ]
    },
    {
      "id": "A127_S33",
      "rule": "transitive equality",
      "premises": [
        "A127_C35: c = a",
        "A127_C36: c = d",
        "A127_C37: b = c"
      ],
      "conclusions": [
        "A127_C38: a = b = c = d"
      ]
    },
    {
      "id": "A127_S34",
      "rule": "sum under equality",
      "premises": [
        "A127_C38: a = b = c = d",
        "A127_C4: s = a + b + c + d"
      ],
      "conclusions": [
        "A127_C39: s = 4a"
      ]
    },
    {
      "id": "A127_S35",
      "rule": "contradiction",
      "premises": [
        "A127_C6: s is prime",
        "A127_C39: s = 4a"
      ],
      "conclusions": [
        "A127_C40: s = 4a contradicts s prime"
      ]
    },
    {
      "id": "A127_S36",
      "rule": "no solution for primes",
      "premises": [
        "A127_C40: s = 4a contradicts s prime"
      ],
      "conclusions": [
        "A127_C41: No prime s ≥ 4 admits such a,b,c,d"
      ]
    },
    {
      "id": "A127_S37",
      "rule": "consider composites",
      "premises": [
        "A127_C2: s ∈ ℤ ∧ s ≥ 4"
      ],
      "conclusions": [
        "A127_C42: s is composite"
      ]
    },
    {
      "id": "A127_S38",
      "rule": "factorization",
      "premises": [
        "A127_C42: s is composite"
      ],
      "conclusions": [
        "A127_C43: s = n m with n,m ≥ 2 ∈ ℤ"
      ]
    },
    {
      "id": "A127_S39",
      "rule": "choose b,c",
      "premises": [
        "A127_C43: s = n m with n,m ≥ 2 ∈ ℤ"
      ],
      "conclusions": [
        "A127_C44: b + c = n with b,c ∈ ℕ⁺"
      ]
    },
    {
      "id": "A127_S40",
      "rule": "construction",
      "premises": [
        "A127_C43: s = n m with n,m ≥ 2 ∈ ℤ",
        "A127_C44: b + c = n with b,c ∈ ℕ⁺"
      ],
      "conclusions": [
        "A127_C45: a = (m - 1) c",
        "A127_C46: d = (m - 1) b"
      ]
    },
    {
      "id": "A127_S41",
      "rule": "compute a + d",
      "premises": [
        "A127_C45: a = (m - 1) c",
        "A127_C46: d = (m - 1) b",
        "A127_C44: b + c = n with b,c ∈ ℕ⁺"
      ],
      "conclusions": [
        "A127_C47: a + d = (m - 1) n"
      ]
    },
    {
      "id": "A127_S42",
      "rule": "total sum",
      "premises": [
        "A127_C47: a + d = (m - 1) n",
        "A127_C44: b + c = n with b,c ∈ ℕ⁺",
        "A127_C43: s = n m with n,m ≥ 2 ∈ ℤ"
      ],
      "conclusions": [
        "A127_C48: a + b + c + d = s"
      ]
    },
    {
      "id": "A127_S43",
      "rule": "compute abc",
      "premises": [
        "A127_C45: a = (m - 1) c",
        "A127_C44: b + c = n with b,c ∈ ℕ⁺"
      ],
      "conclusions": [
        "A127_C49: abc = (m - 1) b c²"
      ]
    },
    {
      "id": "A127_S44",
      "rule": "compute abd",
      "premises": [
        "A127_C45: a = (m - 1) c",
        "A127_C46: d = (m - 1) b",
        "A127_C44: b + c = n with b,c ∈ ℕ⁺"
      ],
      "conclusions": [
        "A127_C50: abd = (m - 1)² b² c"
      ]
    },
    {
      "id": "A127_S45",
      "rule": "compute acd",
      "premises": [
        "A127_C45: a = (m - 1) c",
        "A127_C44: b + c = n with b,c ∈ ℕ⁺",
        "A127_C46: d = (m - 1) b"
      ],
      "conclusions": [
        "A127_C51: acd = (m - 1)² b c²"
      ]
    },
    {
      "id": "A127_S46",
      "rule": "compute bcd",
      "premises": [
        "A127_C44: b + c = n with b,c ∈ ℕ⁺",
        "A127_C46: d = (m - 1) b"
      ],
      "conclusions": [
        "A127_C52: bcd = (m - 1) b² c"
      ]
    },
    {
      "id": "A127_S47",
      "rule": "sum terms",
      "premises": [
        "A127_C49: abc = (m - 1) b c²",
        "A127_C50: abd = (m - 1)² b² c",
        "A127_C51: acd = (m - 1)² b c²",
        "A127_C52: bcd = (m - 1) b² c"
      ],
      "conclusions": [
        "A127_C53: abc + abd + acd + bcd = (m - 1) b c² + (m - 1)² b² c + (m - 1)² b c² + (m - 1) b² c"
      ]
    },
    {
      "id": "A127_S48",
      "rule": "factor",
      "premises": [
        "A127_C53: abc + abd + acd + bcd = (m - 1) b c² + (m - 1)² b² c + (m - 1)² b c² + (m - 1) b² c"
      ],
      "conclusions": [
        "A127_C54: abc + abd + acd + bcd = (m - 1) b c [b + c + (m - 1)(b + c)]"
      ]
    },
    {
      "id": "A127_S49",
      "rule": "simplify bracket",
      "premises": [
        "A127_C54: abc + abd + acd + bcd = (m - 1) b c [b + c + (m - 1)(b + c)]"
      ],
      "conclusions": [
        "A127_C55: b + c + (m - 1)(b + c) = m (b + c)"
      ]
    },
    {
      "id": "A127_S50",
      "rule": "multiply factors",
      "premises": [
        "A127_C54: abc + abd + acd + bcd = (m - 1) b c [b + c + (m - 1)(b + c)]",
        "A127_C55: b + c + (m - 1)(b + c) = m (b + c)"
      ],
      "conclusions": [
        "A127_C56: abc + abd + acd + bcd = m (m - 1) (b + c) b c"
      ]
    },
    {
      "id": "A127_S51",
      "rule": "substitute n",
      "premises": [
        "A127_C56: abc + abd + acd + bcd = m (m - 1) (b + c) b c",
        "A127_C44: b + c = n with b,c ∈ ℕ⁺"
      ],
      "conclusions": [
        "A127_C57: abc + abd + acd + bcd = m (m - 1) n b c"
      ]
    },
    {
      "id": "A127_S52",
      "rule": "rewrite as multiple",
      "premises": [
        "A127_C57: abc + abd + acd + bcd = m (m - 1) n b c",
        "A127_C43: s = n m with n,m ≥ 2 ∈ ℤ"
      ],
      "conclusions": [
        "A127_C58: abc + abd + acd + bcd = s (m - 1) b c"
      ]
    },
    {
      "id": "A127_S53",
      "rule": "divisibility",
      "premises": [
        "A127_C58: abc + abd + acd + bcd = s (m - 1) b c"
      ],
      "conclusions": [
        "A127_C59: s | abc + abd + acd + bcd"
      ]
    },
    {
      "id": "A127_S54",
      "rule": "existence for composites",
      "premises": [
        "A127_C48: a + b + c + d = s",
        "A127_C59: s | abc + abd + acd + bcd"
      ],
      "conclusions": [
        "A127_C60: For composite s ≥ 4, ∃ a,b,c,d ∈ ℕ⁺ s.t. s = a + b + c + d ∧ s | abc + abd + acd + bcd"
      ]
    },
    {
      "id": "A127_S55",
      "rule": "combine results",
      "premises": [
        "A127_C41: No prime s ≥ 4 admits such a,b,c,d",
        "A127_C60: For composite s ≥ 4, ∃ a,b,c,d ∈ ℕ⁺ s.t. s = a + b + c + d ∧ s | abc + abd + acd + bcd"
      ],
      "conclusions": [
        "A127_C61: All composite integers s ≥ 4"
      ]
    },
    {
      "id": "B1_S1",
      "rule": "problem connection",
      "premises": [
        "B1_C1: Determine all s ≥ (ex(30,K_6) - 356) ∈ ℤ s.t. ∃ a,b,c,d ∈ ℕ⁺ : s = a + b + c + d ∧ s | (abc + abd + acd + bcd)",
        "A11_C9: ex(30,K_6)=360"
      ],
      "conclusions": [
        "A127_C1: Determine all s ≥ 4 ∈ ℤ s.t. ∃ a,b,c,d ∈ ℕ⁺ : s = a + b + c + d ∧ s | (abc + abd + acd + bcd)"
      ]
    }
  ]
}