{
  "Problem_ID": 28,
  "Chunk_Type": "T4",
  "Class_ID": "B5582",
  "Multiple_Synthesis_Class": "MP2",
  "Sub_Class_ID": [
    {
      "A4240": "A4240_DG_1"
    },
    {
      "A4269": "A4269_DG_1"
    }
  ],
  "Synthesis_Trace": "DG-DG",
  "Synthesis_Status": "Continuable",
  "Math_Problem": "Let $ a, b, c, d,m, n \\in \\mathbb{Z}^+{}$ such that \n\\[ a^2+b^2+c^2+d^2 = 1989,\\]\n\\[ a+b+c+d = m^2,\\]\nand the largest of $ a, b, c, d$ is $ n^2.$ Determine, with proof, the values  of $m$ and $ n.$ Instead of determining the positive integers m and n that satisfy the given conditions on the positive integers a, b, c, d, simply find $k = n - 6$, where n is the positive integer such that the largest among a, b, c, d equals $n^2$. Find all functions $f:\\mathbb Z\\rightarrow \\mathbb Z$ such that, for all integers $a,b,c$ that satisfy $a+b+c=k$, the following equality holds:\n\\[f(a)^2+f(b)^2+f(c)^2=2f(a)f(b)+2f(b)f(c)+2f(c)f(a).\\]\n(Here $\\mathbb{Z}$ denotes the set of integers.)",
  "Connecting_Sentence": [
    {
      "A4240": "Instead of determining the positive integers m and n that satisfy the given conditions on the positive integers a, b, c, d, simply find $k = n - 6$, where n is the positive integer such that the largest among a, b, c, d equals $n^2$."
    },
    {
      "A4269": "None"
    }
  ],
  "Synthesised_By": [
    {
      "A4240": "Let $ a, b, c, d,m, n \\in \\mathbb{Z}^\\plus{}$ such that \\[ a^2\\plus{}b^2\\plus{}c^2\\plus{}d^2 \\equal{} 1989,\\]\n\\[ a\\plus{}b\\plus{}c\\plus{}d \\equal{} m^2,\\] and the largest of $ a, b, c, d$ is $ n^2.$ Determine, with proof, the values  of $m$ and $ n.$ Instead of determining the positive integers m and n that satisfy the given conditions on the positive integers a, b, c, d, simply find $k = n - 6$, where n is the positive integer such that the largest among a, b, c, d equals $n^2$."
    },
    {
      "A4269": "Find all functions $f:\\mathbb Z\\rightarrow \\mathbb Z$ such that, for all integers $a,b,c$ that satisfy $a+b+c=0$, the following equality holds:\n\\[f(a)^2+f(b)^2+f(c)^2=2f(a)f(b)+2f(b)f(c)+2f(c)f(a).\\]\n(Here $\\mathbb{Z}$ denotes the set of integers.)\n\n[i]"
    }
  ],
  "Original_Problem": [
    {
      "A4240": "Let $ a, b, c, d,m, n \\in \\mathbb{Z}^\\plus{}$ such that \\[ a^2\\plus{}b^2\\plus{}c^2\\plus{}d^2 \\equal{} 1989,\\]\n\\[ a\\plus{}b\\plus{}c\\plus{}d \\equal{} m^2,\\] and the largest of $ a, b, c, d$ is $ n^2.$ Determine, with proof, the values  of $m$ and $ n.$"
    },
    {
      "A4269": "Find all functions $f:\\mathbb Z\\rightarrow \\mathbb Z$ such that, for all integers $a,b,c$ that satisfy $a+b+c=0$, the following equality holds:\n\\[f(a)^2+f(b)^2+f(c)^2=2f(a)f(b)+2f(b)f(c)+2f(c)f(a).\\]\n(Here $\\mathbb{Z}$ denotes the set of integers.)\n\n[i]"
    }
  ],
  "Problem_Type": [
    {
      "A4240": [
        "Mathematics -> Algebra -> Algebra -> Equations and Inequalities",
        "Mathematics -> Number Theory -> Prime Numbers (since factoring may be involved in recognizing perfect squares or constraints) -> Other"
      ]
    },
    {
      "A4269": [
        "Mathematics -> Algebra -> Abstract Algebra -> Other"
      ]
    }
  ],
  "Problem_Level": [
    {
      "A4240": "KbsdJames_Omni-MATH_7.0"
    },
    {
      "A4269": "KbsdJames_Omni-MATH_7.0"
    }
  ],
  "Problem_Source": [
    {
      "A4240": "imo_shortlist"
    },
    {
      "A4269": "imo"
    }
  ],
  "Problem_Length": [
    {
      "A4240": 250
    },
    {
      "A4269": 253
    }
  ],
  "Synthesised_Problem_Length": 680,
  "Ground_Truth": [
    {
      "A4240": "m = 9,n = 6"
    },
    {
      "A4269": "f(t) = 0 \\text{ for all } t.\n\\text{ OR }\nf(t) = 0 \\text{ for } t \\text{ even and } f(t) = f(1) \\text{ for } t \\text{ odd}\n\\text{ OR }\nf(t) = 4f(1) \\text{ for } t \\text{ even and } f(t) = f(1) \\text{ for } t \\text{ odd}\n\\text{ OR }\nf(t) = t^2 f(1) \\text{ for any } f(1)."
    }
  ],
  "Predicted_Answer": [
    {
      "A4240": "m = 9, n = 6"
    },
    {
      "A4269": "f(t) = 0 \text{ for all } t. \text{ OR } f(t) = 0 \text{ for } t \text{ even and } f(t) = f(1) \text{ for } t \text{ odd} \text{ OR } f(t) = 0 \text{ if } 4 \\mid t,\\ f(t) = f(1) \text{ if } t \text{ odd},\\ f(t) = 4 f(1) \text{ if } t \\equiv 2 \\pmod{4} \text{ OR } f(t) = t^2 f(1) \text{ for any } f(1)."
    }
  ],
  "Connecting_Point": [
    {
      "B5582": {
        "0": "(n - 6)"
      }
    }
  ],
  "Delta_Factor": [
    {
      "A4240": 0.91
    },
    {
      "A4269": 0.18
    }
  ],
  "Delta_Value": [
    {
      "A4240": {
        "n": "6"
      }
    },
    {
      "A4269": {
        "f(0)": "0"
      }
    }
  ],
  "Delta_Depth": [
    {
      "A4240": {
        "n": 31
      }
    },
    {
      "A4269": {
        "f(0)": 3
      }
    }
  ],
  "Delta_Source": [
    {
      "A4240": "derived"
    },
    {
      "A4269": "derived"
    }
  ],
  "Delta_Value_Order": [
    {
      "A4240": 1
    },
    {
      "A4269": 1
    }
  ],
  "Delta_Variable_Names": [
    {
      "A4240": [
        "n"
      ]
    },
    {
      "A4269": [
        "f"
      ]
    }
  ],
  "Delta_Socket": [
    {
      "A4240": {
        "1989": 1989.0
      }
    },
    {
      "A4269": {
        "0": 0.0
      }
    }
  ],
  "Source_Delta_Socket": [
    {
      "A4240": "goal"
    },
    {
      "A4269": "goal"
    }
  ],
  "Delta_Socket_Order": [
    {
      "A4240": 1
    },
    {
      "A4269": 1
    }
  ],
  "Variable_Names": [
    {
      "A4240": [
        "a",
        "b",
        "c",
        "d",
        "m",
        "n",
        "Z"
      ]
    },
    {
      "A4269": [
        "Z",
        "f",
        "a",
        "b",
        "c"
      ]
    }
  ],
  "Total_Claims": [
    {
      "A4240": 34
    },
    {
      "A4269": 17
    }
  ],
  "Total_Delta": [
    {
      "A4240": 1
    },
    {
      "A4269": 1
    }
  ],
  "Total_Delta_Socket": [
    {
      "A4240": 1
    },
    {
      "A4269": 1
    }
  ],
  "Max_Delta_Factor": [
    {
      "A4240": 0.91
    },
    {
      "A4269": 0.18
    }
  ],
  "Min_Delta_Factor": [
    {
      "A4240": 0.91
    },
    {
      "A4269": 0.18
    }
  ],
  "Max_Delta_Depth": [
    {
      "A4240": 31
    },
    {
      "A4269": 3
    }
  ],
  "Min_Delta_Depth": [
    {
      "A4240": 31
    },
    {
      "A4269": 3
    }
  ],
  "Claims": [
    {
      "id": "A4240_C1",
      "type": "goal",
      "expr": "find m,n ∈ ℤ⁺ s.t. ∃ a,b,c,d ∈ ℤ⁺ : a² + b² + c² + d² = 1989 ∧ a + b + c + d = m² ∧ max(a,b,c,d) = n²"
    },
    {
      "id": "A4240_C2",
      "type": "context",
      "expr": "a² + b² + c² + d² = 1989"
    },
    {
      "id": "A4240_C3",
      "type": "context",
      "expr": "a + b + c + d = m²"
    },
    {
      "id": "A4240_C4",
      "type": "context",
      "expr": "max(a,b,c,d) = n²"
    },
    {
      "id": "A4240_C5",
      "type": "context",
      "expr": "a,b,c,d,m,n ∈ ℤ⁺"
    },
    {
      "id": "A4240_C6",
      "type": "derived",
      "expr": "(a + b + c + d)² ≤ 4 (a² + b² + c² + d²)"
    },
    {
      "id": "A4240_C7",
      "type": "derived",
      "expr": "m⁴ ≤ 4 × 1989 = 7956"
    },
    {
      "id": "A4240_C8",
      "type": "derived",
      "expr": "m² ≤ 89"
    },
    {
      "id": "A4240_C9",
      "type": "derived",
      "expr": "possible m² ∈ {1,4,9,16,25,36,49,64,81}"
    },
    {
      "id": "A4240_C10",
      "type": "derived",
      "expr": "(a + b + c + d)² = a² + b² + c² + d² + 2 ∑_{i<j} a_i a_j"
    },
    {
      "id": "A4240_C11",
      "type": "derived",
      "expr": "m⁴ = 1989 + 2 P where P = ∑_{i<j} a_i a_j ∈ ℤ"
    },
    {
      "id": "A4240_C12",
      "type": "derived",
      "expr": "m⁴ odd (since 1989 odd and 2P even)"
    },
    {
      "id": "A4240_C13",
      "type": "derived",
      "expr": "m odd"
    },
    {
      "id": "A4240_C14",
      "type": "derived",
      "expr": "possible m ∈ {1,3,5,7,9}"
    },
    {
      "id": "A4240_C15",
      "type": "derived",
      "expr": "for m=1: m²=1 < 4 impossible"
    },
    {
      "id": "A4240_C16",
      "type": "derived",
      "expr": "for m=3: max sum sq = 6² + 1² + 1² + 1² = 39 < 1989 impossible"
    },
    {
      "id": "A4240_C17",
      "type": "derived",
      "expr": "for m=5: max sum sq = 22² + 1² + 1² + 1² = 487 < 1989 impossible"
    },
    {
      "id": "A4240_C18",
      "type": "derived",
      "expr": "m ∈ {1,3,5} impossible"
    },
    {
      "id": "A4240_C19",
      "type": "derived",
      "expr": "possible m = 7 or 9"
    },
    {
      "id": "A4240_C20",
      "type": "derived",
      "expr": "n⁴ ≤ 1989"
    },
    {
      "id": "A4240_C21",
      "type": "derived",
      "expr": "possible n ∈ {1,2,3,4,5,6}"
    },
    {
      "id": "A4240_C22",
      "type": "derived",
      "expr": "for m=7: m² = 49"
    },
    {
      "id": "A4240_C23",
      "type": "derived",
      "expr": "for all n=1 to 6 with m=7, required sum sq of other three > max possible under sum and ≤ n²"
    },
    {
      "id": "A4240_C24",
      "type": "derived",
      "expr": "no solution for m=7"
    },
    {
      "id": "A4240_C25",
      "type": "derived",
      "expr": "for m=9: m² = 81"
    },
    {
      "id": "A4240_C26",
      "type": "derived",
      "expr": "for m=9, n=6: n²=36, sum of other three =45, sum sq of other three =693"
    },
    {
      "id": "A4240_C27",
      "type": "derived",
      "expr": "12 + 15 + 18 = 45"
    },
    {
      "id": "A4240_C28",
      "type": "derived",
      "expr": "12² + 15² + 18² = 144 + 225 + 324 = 693"
    },
    {
      "id": "A4240_C29",
      "type": "derived",
      "expr": "12,15,18 ≤ 36"
    },
    {
      "id": "A4240_C30",
      "type": "derived",
      "expr": "a=12, b=15, c=18, d=36 satisfy conditions"
    },
    {
      "id": "A4240_C31",
      "type": "derived",
      "expr": "solution exists for m=9, n=6"
    },
    {
      "id": "A4240_C32",
      "type": "derived",
      "expr": "for m=9, n=5: required sum sq of other three =1364 > max 1286 impossible"
    },
    {
      "id": "A4240_C33",
      "type": "derived",
      "expr": "for m=9, n≤4: sum of other three > 3 n² impossible"
    },
    {
      "id": "A4240_C34",
      "type": "final",
      "expr": "m=9 ∧ n=6"
    },
    {
      "id": "A4269_C1",
      "type": "derived",
      "expr": "all f:Z→Z s.t. ∀a,b,c∈Z (a+b+c=0 ⇒ f(a)^2 + f(b)^2 + f(c)^2 = 2f(a)f(b) + 2f(b)f(c) + 2f(c)f(a))"
    },
    {
      "id": "A4269_C2",
      "type": "context",
      "expr": "f(a)^2 + f(b)^2 + f(c)^2 = 2f(a)f(b) + 2f(b)f(c) + 2f(c)f(a) whenever a+b+c=0"
    },
    {
      "id": "A4269_C3",
      "type": "derived",
      "expr": "f(0)=0"
    },
    {
      "id": "A4269_C4",
      "type": "derived",
      "expr": "[f(a) + f(-a)]^2 = 2[f(a)^2 + f(-a)^2] ∀a∈Z"
    },
    {
      "id": "A4269_C5",
      "type": "derived",
      "expr": "f(-a) = f(a) ∀a∈Z"
    },
    {
      "id": "A4269_C6",
      "type": "derived",
      "expr": "[f(a) + f(b) + f(c)]^2 = 2[f(a)^2 + f(b)^2 + f(c)^2] whenever a+b+c=0"
    },
    {
      "id": "A4269_C7",
      "type": "derived",
      "expr": "[f(n) + f(1) + f(n+1)]^2 = 2[f(n)^2 + f(1)^2 + f(n+1)^2] ∀n∈Z"
    },
    {
      "id": "A4269_C8",
      "type": "derived",
      "expr": "(f(n) - f(1) - f(n+1))^2 = 4 f(1) f(n+1) ∀n∈Z"
    },
    {
      "id": "A4269_C9",
      "type": "derived",
      "expr": "f(2)(f(2) - 4 f(1)) = 0"
    },
    {
      "id": "A4269_C10",
      "type": "derived",
      "expr": "f(2) = 0 or f(2) = 4 f(1)"
    },
    {
      "id": "A4269_C11",
      "type": "derived",
      "expr": "if f(2)=0 then f(3)=f(1)"
    },
    {
      "id": "A4269_C12",
      "type": "derived",
      "expr": "if f(2)=0 then f(n)=0 ∀n even"
    },
    {
      "id": "A4269_C13",
      "type": "derived",
      "expr": "if f even=0 then f(n)=f(1) ∀n odd"
    },
    {
      "id": "A4269_C14",
      "type": "derived",
      "expr": "if f(2)=4 f(1) then f(3)=f(1) or f(3)=9 f(1)"
    },
    {
      "id": "A4269_C15",
      "type": "derived",
      "expr": "if f(2)=4 f(1), f(3)=f(1) then f(n)=0 if 4|n, f(n)=f(1) if n odd, f(n)=4 f(1) if n≡2 mod 4"
    },
    {
      "id": "A4269_C16",
      "type": "derived",
      "expr": "if f(2)=4 f(1), f(3)=9 f(1) then f(n)=f(1) n^2 ∀n∈Z"
    },
    {
      "id": "A4269_C17",
      "type": "final",
      "expr": "f(n)=0 ∀n; or f(n)=0 if n even, f(n)=c if n odd (c∈Z); or f(n)=0 if 4|n, =c if n odd, =4c if n≡2 mod 4 (c∈Z); or f(n)=c n^2 (c∈Z)"
    },
    {
      "id": "B5582_C1",
      "type": "goal",
      "expr": "all f:Z→Z s.t. ∀a,b,c∈Z (a+b+c=(n - 6) ⇒ f(a)^2 + f(b)^2 + f(c)^2 = 2f(a)f(b) + 2f(b)f(c) + 2f(c)f(a))"
    }
  ],
  "Steps": [
    {
      "id": "A4240_S1",
      "rule": "problem setup",
      "premises": [
        "A4240_C1: find m,n ∈ ℤ⁺ s.t. ∃ a,b,c,d ∈ ℤ⁺ : a² + b² + c² + d² = 1989 ∧ a + b + c + d = m² ∧ max(a,b,c,d) = n²"
      ],
      "conclusions": [
        "A4240_C2: a² + b² + c² + d² = 1989",
        "A4240_C3: a + b + c + d = m²",
        "A4240_C4: max(a,b,c,d) = n²",
        "A4240_C5: a,b,c,d,m,n ∈ ℤ⁺"
      ]
    },
    {
      "id": "A4240_S2",
      "rule": "Cauchy-Schwarz inequality",
      "premises": [
        "A4240_C2: a² + b² + c² + d² = 1989",
        "A4240_C3: a + b + c + d = m²"
      ],
      "conclusions": [
        "A4240_C6: (a + b + c + d)² ≤ 4 (a² + b² + c² + d²)"
      ]
    },
    {
      "id": "A4240_S3",
      "rule": "substitution",
      "premises": [
        "A4240_C6: (a + b + c + d)² ≤ 4 (a² + b² + c² + d²)",
        "A4240_C2: a² + b² + c² + d² = 1989",
        "A4240_C3: a + b + c + d = m²"
      ],
      "conclusions": [
        "A4240_C7: m⁴ ≤ 4 × 1989 = 7956"
      ]
    },
    {
      "id": "A4240_S4",
      "rule": "square root bound",
      "premises": [
        "A4240_C7: m⁴ ≤ 4 × 1989 = 7956"
      ],
      "conclusions": [
        "A4240_C8: m² ≤ 89"
      ]
    },
    {
      "id": "A4240_S5",
      "rule": "list perfect squares ≤89",
      "premises": [
        "A4240_C8: m² ≤ 89"
      ],
      "conclusions": [
        "A4240_C9: possible m² ∈ {1,4,9,16,25,36,49,64,81}"
      ]
    },
    {
      "id": "A4240_S6",
      "rule": "expansion identity",
      "premises": [
        "A4240_C2: a² + b² + c² + d² = 1989",
        "A4240_C3: a + b + c + d = m²"
      ],
      "conclusions": [
        "A4240_C10: (a + b + c + d)² = a² + b² + c² + d² + 2 ∑_{i<j} a_i a_j"
      ]
    },
    {
      "id": "A4240_S7",
      "rule": "rearrangement",
      "premises": [
        "A4240_C10: (a + b + c + d)² = a² + b² + c² + d² + 2 ∑_{i<j} a_i a_j"
      ],
      "conclusions": [
        "A4240_C11: m⁴ = 1989 + 2 P where P = ∑_{i<j} a_i a_j ∈ ℤ"
      ]
    },
    {
      "id": "A4240_S8",
      "rule": "parity analysis",
      "premises": [
        "A4240_C11: m⁴ = 1989 + 2 P where P = ∑_{i<j} a_i a_j ∈ ℤ",
        "A4240_C2: a² + b² + c² + d² = 1989"
      ],
      "conclusions": [
        "A4240_C12: m⁴ odd (since 1989 odd and 2P even)"
      ]
    },
    {
      "id": "A4240_S9",
      "rule": "implication from parity",
      "premises": [
        "A4240_C12: m⁴ odd (since 1989 odd and 2P even)"
      ],
      "conclusions": [
        "A4240_C13: m odd"
      ]
    },
    {
      "id": "A4240_S10",
      "rule": "intersection with possible m",
      "premises": [
        "A4240_C9: possible m² ∈ {1,4,9,16,25,36,49,64,81}",
        "A4240_C13: m odd"
      ],
      "conclusions": [
        "A4240_C14: possible m ∈ {1,3,5,7,9}"
      ]
    },
    {
      "id": "A4240_S11",
      "rule": "minimum sum check",
      "premises": [
        "A4240_C5: a,b,c,d,m,n ∈ ℤ⁺",
        "A4240_C14: possible m ∈ {1,3,5,7,9}"
      ],
      "conclusions": [
        "A4240_C15: for m=1: m²=1 < 4 impossible"
      ]
    },
    {
      "id": "A4240_S12",
      "rule": "max sum sq computation",
      "premises": [
        "A4240_C14: possible m ∈ {1,3,5,7,9}",
        "A4240_C3: a + b + c + d = m²",
        "A4240_C2: a² + b² + c² + d² = 1989"
      ],
      "conclusions": [
        "A4240_C16: for m=3: max sum sq = 6² + 1² + 1² + 1² = 39 < 1989 impossible"
      ]
    },
    {
      "id": "A4240_S13",
      "rule": "max sum sq computation",
      "premises": [
        "A4240_C14: possible m ∈ {1,3,5,7,9}",
        "A4240_C3: a + b + c + d = m²",
        "A4240_C2: a² + b² + c² + d² = 1989"
      ],
      "conclusions": [
        "A4240_C17: for m=5: max sum sq = 22² + 1² + 1² + 1² = 487 < 1989 impossible"
      ]
    },
    {
      "id": "A4240_S14",
      "rule": "case combination",
      "premises": [
        "A4240_C15: for m=1: m²=1 < 4 impossible",
        "A4240_C16: for m=3: max sum sq = 6² + 1² + 1² + 1² = 39 < 1989 impossible",
        "A4240_C17: for m=5: max sum sq = 22² + 1² + 1² + 1² = 487 < 1989 impossible"
      ],
      "conclusions": [
        "A4240_C18: m ∈ {1,3,5} impossible"
      ]
    },
    {
      "id": "A4240_S15",
      "rule": "elimination",
      "premises": [
        "A4240_C14: possible m ∈ {1,3,5,7,9}",
        "A4240_C18: m ∈ {1,3,5} impossible"
      ],
      "conclusions": [
        "A4240_C19: possible m = 7 or 9"
      ]
    },
    {
      "id": "A4240_S16",
      "rule": "bound on n from sum sq",
      "premises": [
        "A4240_C2: a² + b² + c² + d² = 1989",
        "A4240_C4: max(a,b,c,d) = n²"
      ],
      "conclusions": [
        "A4240_C20: n⁴ ≤ 1989"
      ]
    },
    {
      "id": "A4240_S17",
      "rule": "compute powers",
      "premises": [
        "A4240_C20: n⁴ ≤ 1989"
      ],
      "conclusions": [
        "A4240_C21: possible n ∈ {1,2,3,4,5,6}"
      ]
    },
    {
      "id": "A4240_S18",
      "rule": "set m=7",
      "premises": [
        "A4240_C19: possible m = 7 or 9"
      ],
      "conclusions": [
        "A4240_C22: for m=7: m² = 49"
      ]
    },
    {
      "id": "A4240_S19",
      "rule": "case analysis for m=7 all n",
      "premises": [
        "A4240_C22: for m=7: m² = 49",
        "A4240_C21: possible n ∈ {1,2,3,4,5,6}",
        "A4240_C3: a + b + c + d = m²",
        "A4240_C2: a² + b² + c² + d² = 1989",
        "A4240_C4: max(a,b,c,d) = n²",
        "A4240_C5: a,b,c,d,m,n ∈ ℤ⁺"
      ],
      "conclusions": [
        "A4240_C23: for all n=1 to 6 with m=7, required sum sq of other three > max possible under sum and ≤ n²"
      ]
    },
    {
      "id": "A4240_S20",
      "rule": "impossibility conclusion",
      "premises": [
        "A4240_C23: for all n=1 to 6 with m=7, required sum sq of other three > max possible under sum and ≤ n²"
      ],
      "conclusions": [
        "A4240_C24: no solution for m=7"
      ]
    },
    {
      "id": "A4240_S21",
      "rule": "set m=9",
      "premises": [
        "A4240_C19: possible m = 7 or 9"
      ],
      "conclusions": [
        "A4240_C25: for m=9: m² = 81"
      ]
    },
    {
      "id": "A4240_S22",
      "rule": "substitution for m=9 n=6",
      "premises": [
        "A4240_C25: for m=9: m² = 81",
        "A4240_C21: possible n ∈ {1,2,3,4,5,6}",
        "A4240_C3: a + b + c + d = m²",
        "A4240_C2: a² + b² + c² + d² = 1989",
        "A4240_C4: max(a,b,c,d) = n²"
      ],
      "conclusions": [
        "A4240_C26: for m=9, n=6: n²=36, sum of other three =45, sum sq of other three =693"
      ]
    },
    {
      "id": "A4240_S23",
      "rule": "specific triple sum",
      "premises": [
        "A4240_C26: for m=9, n=6: n²=36, sum of other three =45, sum sq of other three =693"
      ],
      "conclusions": [
        "A4240_C27: 12 + 15 + 18 = 45"
      ]
    },
    {
      "id": "A4240_S24",
      "rule": "compute squares and sum",
      "premises": [
        "A4240_C26: for m=9, n=6: n²=36, sum of other three =45, sum sq of other three =693"
      ],
      "conclusions": [
        "A4240_C28: 12² + 15² + 18² = 144 + 225 + 324 = 693"
      ]
    },
    {
      "id": "A4240_S25",
      "rule": "check bounds",
      "premises": [
        "A4240_C26: for m=9, n=6: n²=36, sum of other three =45, sum sq of other three =693",
        "A4240_C4: max(a,b,c,d) = n²"
      ],
      "conclusions": [
        "A4240_C29: 12,15,18 ≤ 36"
      ]
    },
    {
      "id": "A4240_S26",
      "rule": "construction verification",
      "premises": [
        "A4240_C27: 12 + 15 + 18 = 45",
        "A4240_C28: 12² + 15² + 18² = 144 + 225 + 324 = 693",
        "A4240_C29: 12,15,18 ≤ 36"
      ],
      "conclusions": [
        "A4240_C30: a=12, b=15, c=18, d=36 satisfy conditions"
      ]
    },
    {
      "id": "A4240_S27",
      "rule": "existence",
      "premises": [
        "A4240_C30: a=12, b=15, c=18, d=36 satisfy conditions",
        "A4240_C25: for m=9: m² = 81"
      ],
      "conclusions": [
        "A4240_C31: solution exists for m=9, n=6"
      ]
    },
    {
      "id": "A4240_S28",
      "rule": "substitution for m=9 n=5",
      "premises": [
        "A4240_C25: for m=9: m² = 81",
        "A4240_C21: possible n ∈ {1,2,3,4,5,6}",
        "A4240_C3: a + b + c + d = m²",
        "A4240_C2: a² + b² + c² + d² = 1989",
        "A4240_C4: max(a,b,c,d) = n²"
      ],
      "conclusions": [
        "A4240_C32: for m=9, n=5: required sum sq of other three =1364 > max 1286 impossible"
      ]
    },
    {
      "id": "A4240_S29",
      "rule": "max sum sq under cap",
      "premises": [
        "A4240_C32: for m=9, n=5: required sum sq of other three =1364 > max 1286 impossible"
      ],
      "conclusions": [
        "A4240_C32: for m=9, n=5: required sum sq of other three =1364 > max 1286 impossible"
      ]
    },
    {
      "id": "A4240_S30",
      "rule": "impossibility",
      "premises": [
        "A4240_C32: for m=9, n=5: required sum sq of other three =1364 > max 1286 impossible"
      ],
      "conclusions": [
        "A4240_C32: for m=9, n=5: required sum sq of other three =1364 > max 1286 impossible"
      ]
    },
    {
      "id": "A4240_S31",
      "rule": "substitution for m=9 n=4",
      "premises": [
        "A4240_C25: for m=9: m² = 81",
        "A4240_C21: possible n ∈ {1,2,3,4,5,6}",
        "A4240_C3: a + b + c + d = m²",
        "A4240_C4: max(a,b,c,d) = n²"
      ],
      "conclusions": [
        "A4240_C33: for m=9, n≤4: sum of other three > 3 n² impossible"
      ]
    },
    {
      "id": "A4240_S32",
      "rule": "sum bound check",
      "premises": [
        "A4240_C33: for m=9, n≤4: sum of other three > 3 n² impossible",
        "A4240_C5: a,b,c,d,m,n ∈ ℤ⁺"
      ],
      "conclusions": [
        "A4240_C33: for m=9, n≤4: sum of other three > 3 n² impossible"
      ]
    },
    {
      "id": "A4240_S33",
      "rule": "generalization for smaller n",
      "premises": [
        "A4240_C33: for m=9, n≤4: sum of other three > 3 n² impossible"
      ],
      "conclusions": [
        "A4240_C33: for m=9, n≤4: sum of other three > 3 n² impossible"
      ]
    },
    {
      "id": "A4240_S34",
      "rule": "uniqueness from cases",
      "premises": [
        "A4240_C24: no solution for m=7",
        "A4240_C31: solution exists for m=9, n=6",
        "A4240_C32: for m=9, n=5: required sum sq of other three =1364 > max 1286 impossible",
        "A4240_C33: for m=9, n≤4: sum of other three > 3 n² impossible"
      ],
      "conclusions": [
        "A4240_C34: m=9 ∧ n=6"
      ]
    },
    {
      "id": "A4269_S1",
      "rule": "problem setup",
      "premises": [
        "A4269_C1: all f:Z→Z s.t. ∀a,b,c∈Z (a+b+c=0 ⇒ f(a)^2 + f(b)^2 + f(c)^2 = 2f(a)f(b) + 2f(b)f(c) + 2f(c)f(a))"
      ],
      "conclusions": [
        "A4269_C2: f(a)^2 + f(b)^2 + f(c)^2 = 2f(a)f(b) + 2f(b)f(c) + 2f(c)f(a) whenever a+b+c=0"
      ]
    },
    {
      "id": "A4269_S2",
      "rule": "substitute a=b=c=0",
      "premises": [
        "A4269_C2: f(a)^2 + f(b)^2 + f(c)^2 = 2f(a)f(b) + 2f(b)f(c) + 2f(c)f(a) whenever a+b+c=0"
      ],
      "conclusions": [
        "A4269_C3: f(0)=0"
      ]
    },
    {
      "id": "A4269_S3",
      "rule": "substitute b=0",
      "premises": [
        "A4269_C2: f(a)^2 + f(b)^2 + f(c)^2 = 2f(a)f(b) + 2f(b)f(c) + 2f(c)f(a) whenever a+b+c=0",
        "A4269_C3: f(0)=0"
      ],
      "conclusions": [
        "A4269_C4: [f(a) + f(-a)]^2 = 2[f(a)^2 + f(-a)^2] ∀a∈Z"
      ]
    },
    {
      "id": "A4269_S4",
      "rule": "expand and simplify",
      "premises": [
        "A4269_C4: [f(a) + f(-a)]^2 = 2[f(a)^2 + f(-a)^2] ∀a∈Z"
      ],
      "conclusions": [
        "A4269_C5: f(-a) = f(a) ∀a∈Z"
      ]
    },
    {
      "id": "A4269_S5",
      "rule": "rewrite using sum and products",
      "premises": [
        "A4269_C2: f(a)^2 + f(b)^2 + f(c)^2 = 2f(a)f(b) + 2f(b)f(c) + 2f(c)f(a) whenever a+b+c=0"
      ],
      "conclusions": [
        "A4269_C6: [f(a) + f(b) + f(c)]^2 = 2[f(a)^2 + f(b)^2 + f(c)^2] whenever a+b+c=0"
      ]
    },
    {
      "id": "A4269_S6",
      "rule": "substitute b=1, use evenness",
      "premises": [
        "A4269_C6: [f(a) + f(b) + f(c)]^2 = 2[f(a)^2 + f(b)^2 + f(c)^2] whenever a+b+c=0",
        "A4269_C5: f(-a) = f(a) ∀a∈Z"
      ],
      "conclusions": [
        "A4269_C7: [f(n) + f(1) + f(n+1)]^2 = 2[f(n)^2 + f(1)^2 + f(n+1)^2] ∀n∈Z"
      ]
    },
    {
      "id": "A4269_S7",
      "rule": "expand left minus right=0",
      "premises": [
        "A4269_C7: [f(n) + f(1) + f(n+1)]^2 = 2[f(n)^2 + f(1)^2 + f(n+1)^2] ∀n∈Z"
      ],
      "conclusions": [
        "A4269_C8: (f(n) - f(1) - f(n+1))^2 = 4 f(1) f(n+1) ∀n∈Z"
      ]
    },
    {
      "id": "A4269_S8",
      "rule": "set n=1",
      "premises": [
        "A4269_C8: (f(n) - f(1) - f(n+1))^2 = 4 f(1) f(n+1) ∀n∈Z"
      ],
      "conclusions": [
        "A4269_C9: f(2)(f(2) - 4 f(1)) = 0"
      ]
    },
    {
      "id": "A4269_S9",
      "rule": "solve quadratic in f(2)",
      "premises": [
        "A4269_C9: f(2)(f(2) - 4 f(1)) = 0"
      ],
      "conclusions": [
        "A4269_C10: f(2) = 0 or f(2) = 4 f(1)"
      ]
    },
    {
      "id": "A4269_S10",
      "rule": "set n=2 in case f(2)=0",
      "premises": [
        "A4269_C8: (f(n) - f(1) - f(n+1))^2 = 4 f(1) f(n+1) ∀n∈Z"
      ],
      "conclusions": [
        "A4269_C11: if f(2)=0 then f(3)=f(1)"
      ]
    },
    {
      "id": "A4269_S11",
      "rule": "induction on even indices",
      "premises": [
        "A4269_C8: (f(n) - f(1) - f(n+1))^2 = 4 f(1) f(n+1) ∀n∈Z",
        "A4269_C11: if f(2)=0 then f(3)=f(1)"
      ],
      "conclusions": [
        "A4269_C12: if f(2)=0 then f(n)=0 ∀n even"
      ]
    },
    {
      "id": "A4269_S12",
      "rule": "substitute even arguments",
      "premises": [
        "A4269_C6: [f(a) + f(b) + f(c)]^2 = 2[f(a)^2 + f(b)^2 + f(c)^2] whenever a+b+c=0",
        "A4269_C12: if f(2)=0 then f(n)=0 ∀n even"
      ],
      "conclusions": [
        "A4269_C13: if f even=0 then f(n)=f(1) ∀n odd"
      ]
    },
    {
      "id": "A4269_S13",
      "rule": "set n=2 in case f(2)=4f(1)",
      "premises": [
        "A4269_C8: (f(n) - f(1) - f(n+1))^2 = 4 f(1) f(n+1) ∀n∈Z"
      ],
      "conclusions": [
        "A4269_C14: if f(2)=4 f(1) then f(3)=f(1) or f(3)=9 f(1)"
      ]
    },
    {
      "id": "A4269_S14",
      "rule": "continue recurrence with small choice",
      "premises": [
        "A4269_C8: (f(n) - f(1) - f(n+1))^2 = 4 f(1) f(n+1) ∀n∈Z",
        "A4269_C14: if f(2)=4 f(1) then f(3)=f(1) or f(3)=9 f(1)"
      ],
      "conclusions": [
        "A4269_C15: if f(2)=4 f(1), f(3)=f(1) then f(n)=0 if 4|n, f(n)=f(1) if n odd, f(n)=4 f(1) if n≡2 mod 4"
      ]
    },
    {
      "id": "A4269_S15",
      "rule": "continue recurrence with large choice",
      "premises": [
        "A4269_C8: (f(n) - f(1) - f(n+1))^2 = 4 f(1) f(n+1) ∀n∈Z",
        "A4269_C14: if f(2)=4 f(1) then f(3)=f(1) or f(3)=9 f(1)"
      ],
      "conclusions": [
        "A4269_C16: if f(2)=4 f(1), f(3)=9 f(1) then f(n)=f(1) n^2 ∀n∈Z"
      ]
    },
    {
      "id": "A4269_S16",
      "rule": "case analysis and verification",
      "premises": [
        "A4269_C3: f(0)=0",
        "A4269_C5: f(-a) = f(a) ∀a∈Z",
        "A4269_C10: f(2) = 0 or f(2) = 4 f(1)",
        "A4269_C13: if f even=0 then f(n)=f(1) ∀n odd",
        "A4269_C15: if f(2)=4 f(1), f(3)=f(1) then f(n)=0 if 4|n, f(n)=f(1) if n odd, f(n)=4 f(1) if n≡2 mod 4",
        "A4269_C16: if f(2)=4 f(1), f(3)=9 f(1) then f(n)=f(1) n^2 ∀n∈Z"
      ],
      "conclusions": [
        "A4269_C17: f(n)=0 ∀n; or f(n)=0 if n even, f(n)=c if n odd (c∈Z); or f(n)=0 if 4|n, =c if n odd, =4c if n≡2 mod 4 (c∈Z); or f(n)=c n^2 (c∈Z)"
      ]
    },
    {
      "id": "B5582_S1",
      "rule": "problem connection",
      "premises": [
        "B5582_C1: all f:Z→Z s.t. ∀a,b,c∈Z (a+b+c=(n - 6) ⇒ f(a)^2 + f(b)^2 + f(c)^2 = 2f(a)f(b) + 2f(b)f(c) + 2f(c)f(a))",
        "A4240_C31: solution exists for m=9, n=6"
      ],
      "conclusions": [
        "A4269_C1: all f:Z→Z s.t. ∀a,b,c∈Z (a+b+c=0 ⇒ f(a)^2 + f(b)^2 + f(c)^2 = 2f(a)f(b) + 2f(b)f(c) + 2f(c)f(a))"
      ]
    }
  ]
}