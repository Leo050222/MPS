{
  "Problem_ID": 62,
  "Chunk_Type": "T3",
  "Class_ID": "E57",
  "Multiple_Synthesis_Class": "MP2",
  "Sub_Class_ID": [
    {
      "A2003": "A2003_DG_1"
    },
    {
      "A4085": "A4085_DG_1"
    }
  ],
  "Synthesis_Trace": "DG-DG",
  "Synthesis_Status": "Continuable",
  "Math_Problem": "Let the function $f: \\mathbb{Z} \\rightarrow \\mathbb{Z}$ take only integer inputs and have integer outputs. For any integers $x$ and $y$, $f$ satisfies $f(x)+f(y)=f(x+1)+f(y-1)$. If $f(2016)=6102$ and $f(6102)=2016$, what is $f(1)$? Instead of determining the value of the function at a specific input, simply find $h = k + 5$, where $k$ is the constant difference $f(z+1) - f(z)$ for all integers $z$ derived from the functional equation. Let $n$ be a positive integer. In how many ways can a $h \\times 4n$ grid be tiled with the following tetromino?\n[asy]\nsize(4cm);\ndraw((1,0)--(3,0)--(3,1)--(0,1)--(0,0)--(1,0)--(1,2)--(2,2)--(2,0));\n[/asy]",
  "Connecting_Sentence": [
    {
      "A2003": "Instead of determining the value of the function at a specific input, simply find $h = k + 5$, where $k$ is the constant difference $f(z+1) - f(z)$ for all integers $z$ derived from the functional equation."
    },
    {
      "A4085": "None"
    }
  ],
  "Synthesised_By": [
    {
      "A2003": "Let the function $f: \\mathbb{Z} \\rightarrow \\mathbb{Z}$ take only integer inputs and have integer outputs. For any integers $x$ and $y$, $f$ satisfies $f(x)+f(y)=f(x+1)+f(y-1)$. If $f(2016)=6102$ and $f(6102)=2016$, what is $f(1)$? Instead of determining the value of the function at a specific input, simply find $h = k + 5$, where $k$ is the constant difference $f(z+1) - f(z)$ for all integers $z$ derived from the functional equation."
    },
    {
      "A4085": "Let $n$ be a positive integer. In how many ways can a $4 \\times 4n$ grid be tiled with the following tetromino?\n[asy]\nsize(4cm);\ndraw((1,0)--(3,0)--(3,1)--(0,1)--(0,0)--(1,0)--(1,2)--(2,2)--(2,0));\n[/asy]"
    }
  ],
  "Original_Problem": [
    {
      "A2003": "Let the function $f: \\mathbb{Z} \\rightarrow \\mathbb{Z}$ take only integer inputs and have integer outputs. For any integers $x$ and $y$, $f$ satisfies $f(x)+f(y)=f(x+1)+f(y-1)$. If $f(2016)=6102$ and $f(6102)=2016$, what is $f(1)$?"
    },
    {
      "A4085": "Let $n$ be a positive integer. In how many ways can a $4 \\times 4n$ grid be tiled with the following tetromino?\n[asy]\nsize(4cm);\ndraw((1,0)--(3,0)--(3,1)--(0,1)--(0,0)--(1,0)--(1,2)--(2,2)--(2,0));\n[/asy]"
    }
  ],
  "Problem_Type": [
    {
      "A2003": [
        "Mathematics -> Algebra -> Algebra -> Algebraic Expressions"
      ]
    },
    {
      "A4085": [
        "Mathematics -> Discrete Mathematics -> Combinatorics"
      ]
    }
  ],
  "Problem_Level": [
    {
      "A2003": "KbsdJames_Omni-MATH_5.0"
    },
    {
      "A4085": "KbsdJames_Omni-MATH_5.0"
    }
  ],
  "Problem_Source": [
    {
      "A2003": "HMMT_11"
    },
    {
      "A4085": "cono_sur_olympiad"
    }
  ],
  "Problem_Length": [
    {
      "A2003": 231
    },
    {
      "A4085": 204
    }
  ],
  "Synthesised_Problem_Length": 643,
  "Ground_Truth": [
    {
      "A2003": "8117"
    },
    {
      "A4085": "2^{n+1} - 2"
    }
  ],
  "Predicted_Answer": [
    {
      "A2003": "8117"
    },
    {
      "A4085": "2^{n+1} - 2"
    }
  ],
  "Connecting_Point": [
    {
      "D57": {
        "4": "(k + 5)"
      }
    }
  ],
  "Delta_Factor": [
    {
      "A2003": 0.64
    },
    {
      "A4085": 0.46
    }
  ],
  "Delta_Value": [
    {
      "A2003": {
        "k": "-1"
      }
    },
    {
      "A4085": {
        "a_1": "2"
      }
    }
  ],
  "Delta_Depth": [
    {
      "A2003": {
        "k": 14
      }
    },
    {
      "A4085": {
        "a_1": 6
      }
    }
  ],
  "Delta_Source": [
    {
      "A2003": "derived"
    },
    {
      "A4085": "derived"
    }
  ],
  "Delta_Value_Order": [
    {
      "A2003": 1
    },
    {
      "A4085": 1
    }
  ],
  "Delta_Variable_Names": [
    {
      "A2003": [
        "k"
      ]
    },
    {
      "A4085": [
        "a"
      ]
    }
  ],
  "Delta_Socket": [
    {
      "A2003": {
        "1": 1.0
      }
    },
    {
      "A4085": {
        "4": 4.0
      }
    }
  ],
  "Source_Delta_Socket": [
    {
      "A2003": "goal"
    },
    {
      "A4085": "goal"
    }
  ],
  "Delta_Socket_Order": [
    {
      "A2003": 1
    },
    {
      "A4085": 1
    }
  ],
  "Variable_Names": [
    {
      "A2003": [
        "Z",
        "f",
        "x",
        "y"
      ]
    },
    {
      "A4085": [
        "n"
      ]
    }
  ],
  "Total_Claims": [
    {
      "A2003": 22
    },
    {
      "A4085": 13
    }
  ],
  "Total_Delta": [
    {
      "A2003": 2
    },
    {
      "A4085": 1
    }
  ],
  "Total_Delta_Socket": [
    {
      "A2003": 1
    },
    {
      "A4085": 1
    }
  ],
  "Max_Delta_Factor": [
    {
      "A2003": 1.0
    },
    {
      "A4085": 0.46
    }
  ],
  "Min_Delta_Factor": [
    {
      "A2003": 0.64
    },
    {
      "A4085": 0.46
    }
  ],
  "Max_Delta_Depth": [
    {
      "A2003": 22
    },
    {
      "A4085": 6
    }
  ],
  "Min_Delta_Depth": [
    {
      "A2003": 14
    },
    {
      "A4085": 6
    }
  ],
  "Claims": [
    {
      "id": "A2003_C1",
      "type": "goal",
      "expr": "f(1) = ?"
    },
    {
      "id": "A2003_C2",
      "type": "context",
      "expr": "f: Z → Z"
    },
    {
      "id": "A2003_C3",
      "type": "context",
      "expr": "∀x,y ∈ Z, f(x) + f(y) = f(x+1) + f(y-1)"
    },
    {
      "id": "A2003_C4",
      "type": "context",
      "expr": "f(2016) = 6102"
    },
    {
      "id": "A2003_C5",
      "type": "context",
      "expr": "f(6102) = 2016"
    },
    {
      "id": "A2003_C6",
      "type": "derived",
      "expr": "f(x+1) - f(x) = f(y) - f(y-1) ∀x,y ∈ Z"
    },
    {
      "id": "A2003_C7",
      "type": "derived",
      "expr": "∃k ∈ Z ∀z ∈ Z, f(z+1) - f(z) = k"
    },
    {
      "id": "A2003_C8",
      "type": "derived",
      "expr": "f(x) = a + k x ∀x ∈ Z, ∃a ∈ Z"
    },
    {
      "id": "A2003_C9",
      "type": "derived",
      "expr": "a + k * 6102 = 2016"
    },
    {
      "id": "A2003_C10",
      "type": "derived",
      "expr": "a + k * 2016 = 6102"
    },
    {
      "id": "A2003_C11",
      "type": "derived",
      "expr": "k * (6102 - 2016) = 2016 - 6102"
    },
    {
      "id": "A2003_C12",
      "type": "derived",
      "expr": "k * 4086 = 2016 - 6102"
    },
    {
      "id": "A2003_C13",
      "type": "derived",
      "expr": "k * 4086 = -4086"
    },
    {
      "id": "A2003_C14",
      "type": "derived",
      "expr": "k = -1"
    },
    {
      "id": "A2003_C15",
      "type": "derived",
      "expr": "a + (-1) * 2016 = 6102"
    },
    {
      "id": "A2003_C16",
      "type": "derived",
      "expr": "a - 2016 = 6102"
    },
    {
      "id": "A2003_C17",
      "type": "derived",
      "expr": "a = 6102 + 2016"
    },
    {
      "id": "A2003_C18",
      "type": "derived",
      "expr": "6102 + 2016 = 8118"
    },
    {
      "id": "A2003_C19",
      "type": "derived",
      "expr": "f(x) = 8118 - x ∀x ∈ Z"
    },
    {
      "id": "A2003_C20",
      "type": "derived",
      "expr": "f(1) = 8118 - 1"
    },
    {
      "id": "A2003_C21",
      "type": "derived",
      "expr": "8118 - 1 = 8117"
    },
    {
      "id": "A2003_C22",
      "type": "final",
      "expr": "f(1) = 8117"
    },
    {
      "id": "A4085_C1",
      "type": "derived",
      "expr": "a_n = number of ways to tile 4 x 4n grid with L-tetromino"
    },
    {
      "id": "A4085_C2",
      "type": "context",
      "expr": "Grid has 4 rows and 4n columns"
    },
    {
      "id": "A4085_C3",
      "type": "context",
      "expr": "L-tetromino covers 4 squares"
    },
    {
      "id": "A4085_C4",
      "type": "derived",
      "expr": "Total area = 16n"
    },
    {
      "id": "A4085_C5",
      "type": "derived",
      "expr": "Requires 4n tetrominoes"
    },
    {
      "id": "A4085_C6",
      "type": "derived",
      "expr": "a_1 = 2"
    },
    {
      "id": "A4085_C7",
      "type": "derived",
      "expr": "a_n = 2 a_{n-1} + 2 for n >= 2"
    },
    {
      "id": "A4085_C8",
      "type": "derived",
      "expr": "a_n - 2 a_{n-1} = 2"
    },
    {
      "id": "A4085_C9",
      "type": "derived",
      "expr": "Homogeneous solution: a_n^{(h)} = A * 2^n"
    },
    {
      "id": "A4085_C10",
      "type": "derived",
      "expr": "Particular solution: K = -2"
    },
    {
      "id": "A4085_C11",
      "type": "derived",
      "expr": "General solution: a_n = A * 2^n - 2"
    },
    {
      "id": "A4085_C12",
      "type": "derived",
      "expr": "A = 2 from a_1 = 2"
    },
    {
      "id": "A4085_C13",
      "type": "final",
      "expr": "a_n = 2^{n+1} - 2"
    },
    {
      "id": "D57_C1",
      "type": "goal",
      "expr": "a_n = number of ways to tile (k + 5) x 4n grid with L-tetromino"
    }
  ],
  "Steps": [
    {
      "id": "A2003_S1",
      "rule": "problem setup",
      "premises": [
        "A2003_C1: f(1) = ?"
      ],
      "conclusions": [
        "A2003_C2: f: Z → Z",
        "A2003_C3: ∀x,y ∈ Z, f(x) + f(y) = f(x+1) + f(y-1)",
        "A2003_C4: f(2016) = 6102",
        "A2003_C5: f(6102) = 2016"
      ]
    },
    {
      "id": "A2003_S2",
      "rule": "algebraic rearrangement",
      "premises": [
        "A2003_C3: ∀x,y ∈ Z, f(x) + f(y) = f(x+1) + f(y-1)"
      ],
      "conclusions": [
        "A2003_C6: f(x+1) - f(x) = f(y) - f(y-1) ∀x,y ∈ Z"
      ]
    },
    {
      "id": "A2003_S3",
      "rule": "variable independence",
      "premises": [
        "A2003_C6: f(x+1) - f(x) = f(y) - f(y-1) ∀x,y ∈ Z"
      ],
      "conclusions": [
        "A2003_C7: ∃k ∈ Z ∀z ∈ Z, f(z+1) - f(z) = k"
      ]
    },
    {
      "id": "A2003_S4",
      "rule": "affine function form",
      "premises": [
        "A2003_C7: ∃k ∈ Z ∀z ∈ Z, f(z+1) - f(z) = k"
      ],
      "conclusions": [
        "A2003_C8: f(x) = a + k x ∀x ∈ Z, ∃a ∈ Z"
      ]
    },
    {
      "id": "A2003_S5",
      "rule": "apply affine form to given points",
      "premises": [
        "A2003_C8: f(x) = a + k x ∀x ∈ Z, ∃a ∈ Z",
        "A2003_C4: f(2016) = 6102",
        "A2003_C5: f(6102) = 2016"
      ],
      "conclusions": [
        "A2003_C9: a + k * 6102 = 2016",
        "A2003_C10: a + k * 2016 = 6102"
      ]
    },
    {
      "id": "A2003_S6",
      "rule": "subtract equations",
      "premises": [
        "A2003_C9: a + k * 6102 = 2016",
        "A2003_C10: a + k * 2016 = 6102"
      ],
      "conclusions": [
        "A2003_C11: k * (6102 - 2016) = 2016 - 6102"
      ]
    },
    {
      "id": "A2003_S7",
      "rule": "compute 6102 - 2016",
      "premises": [
        "A2003_C11: k * (6102 - 2016) = 2016 - 6102"
      ],
      "conclusions": [
        "A2003_C12: k * 4086 = 2016 - 6102"
      ]
    },
    {
      "id": "A2003_S8",
      "rule": "compute 2016 - 6102",
      "premises": [
        "A2003_C12: k * 4086 = 2016 - 6102"
      ],
      "conclusions": [
        "A2003_C13: k * 4086 = -4086"
      ]
    },
    {
      "id": "A2003_S9",
      "rule": "solve for k",
      "premises": [
        "A2003_C13: k * 4086 = -4086"
      ],
      "conclusions": [
        "A2003_C14: k = -1"
      ]
    },
    {
      "id": "A2003_S10",
      "rule": "substitute k = -1",
      "premises": [
        "A2003_C10: a + k * 2016 = 6102",
        "A2003_C14: k = -1"
      ],
      "conclusions": [
        "A2003_C15: a + (-1) * 2016 = 6102"
      ]
    },
    {
      "id": "A2003_S11",
      "rule": "algebraic simplification",
      "premises": [
        "A2003_C15: a + (-1) * 2016 = 6102"
      ],
      "conclusions": [
        "A2003_C16: a - 2016 = 6102"
      ]
    },
    {
      "id": "A2003_S12",
      "rule": "solve for a",
      "premises": [
        "A2003_C16: a - 2016 = 6102"
      ],
      "conclusions": [
        "A2003_C17: a = 6102 + 2016"
      ]
    },
    {
      "id": "A2003_S13",
      "rule": "arithmetic addition",
      "premises": [
        "A2003_C17: a = 6102 + 2016"
      ],
      "conclusions": [
        "A2003_C18: 6102 + 2016 = 8118"
      ]
    },
    {
      "id": "A2003_S14",
      "rule": "construct explicit function",
      "premises": [
        "A2003_C8: f(x) = a + k x ∀x ∈ Z, ∃a ∈ Z",
        "A2003_C14: k = -1",
        "A2003_C18: 6102 + 2016 = 8118"
      ],
      "conclusions": [
        "A2003_C19: f(x) = 8118 - x ∀x ∈ Z"
      ]
    },
    {
      "id": "A2003_S15",
      "rule": "evaluate at x=1",
      "premises": [
        "A2003_C19: f(x) = 8118 - x ∀x ∈ Z"
      ],
      "conclusions": [
        "A2003_C20: f(1) = 8118 - 1"
      ]
    },
    {
      "id": "A2003_S16",
      "rule": "arithmetic subtraction",
      "premises": [
        "A2003_C20: f(1) = 8118 - 1"
      ],
      "conclusions": [
        "A2003_C21: 8118 - 1 = 8117"
      ]
    },
    {
      "id": "A2003_S17",
      "rule": "final conclusion",
      "premises": [
        "A2003_C21: 8118 - 1 = 8117"
      ],
      "conclusions": [
        "A2003_C22: f(1) = 8117"
      ]
    },
    {
      "id": "A4085_S1",
      "rule": "problem setup",
      "premises": [
        "A4085_C1: a_n = number of ways to tile 4 x 4n grid with L-tetromino"
      ],
      "conclusions": [
        "A4085_C2: Grid has 4 rows and 4n columns",
        "A4085_C3: L-tetromino covers 4 squares"
      ]
    },
    {
      "id": "A4085_S2",
      "rule": "area calculation",
      "premises": [
        "A4085_C2: Grid has 4 rows and 4n columns"
      ],
      "conclusions": [
        "A4085_C4: Total area = 16n"
      ]
    },
    {
      "id": "A4085_S3",
      "rule": "tiling requirement",
      "premises": [
        "A4085_C3: L-tetromino covers 4 squares",
        "A4085_C4: Total area = 16n"
      ],
      "conclusions": [
        "A4085_C5: Requires 4n tetrominoes"
      ]
    },
    {
      "id": "A4085_S4",
      "rule": "base case enumeration",
      "premises": [
        "A4085_C2: Grid has 4 rows and 4n columns",
        "A4085_C3: L-tetromino covers 4 squares",
        "A4085_C5: Requires 4n tetrominoes"
      ],
      "conclusions": [
        "A4085_C6: a_1 = 2"
      ]
    },
    {
      "id": "A4085_S5",
      "rule": "recurrence from tiling construction",
      "premises": [
        "A4085_C2: Grid has 4 rows and 4n columns",
        "A4085_C3: L-tetromino covers 4 squares",
        "A4085_C5: Requires 4n tetrominoes"
      ],
      "conclusions": [
        "A4085_C7: a_n = 2 a_{n-1} + 2 for n >= 2"
      ]
    },
    {
      "id": "A4085_S6",
      "rule": "rewrite recurrence",
      "premises": [
        "A4085_C7: a_n = 2 a_{n-1} + 2 for n >= 2"
      ],
      "conclusions": [
        "A4085_C8: a_n - 2 a_{n-1} = 2"
      ]
    },
    {
      "id": "A4085_S7",
      "rule": "solve homogeneous equation",
      "premises": [
        "A4085_C8: a_n - 2 a_{n-1} = 2"
      ],
      "conclusions": [
        "A4085_C9: Homogeneous solution: a_n^{(h)} = A * 2^n"
      ]
    },
    {
      "id": "A4085_S8",
      "rule": "assume constant particular solution",
      "premises": [
        "A4085_C8: a_n - 2 a_{n-1} = 2"
      ],
      "conclusions": [
        "A4085_C10: Particular solution: K = -2"
      ]
    },
    {
      "id": "A4085_S9",
      "rule": "combine solutions",
      "premises": [
        "A4085_C9: Homogeneous solution: a_n^{(h)} = A * 2^n",
        "A4085_C10: Particular solution: K = -2"
      ],
      "conclusions": [
        "A4085_C11: General solution: a_n = A * 2^n - 2"
      ]
    },
    {
      "id": "A4085_S10",
      "rule": "apply base case",
      "premises": [
        "A4085_C11: General solution: a_n = A * 2^n - 2",
        "A4085_C6: a_1 = 2"
      ],
      "conclusions": [
        "A4085_C12: A = 2 from a_1 = 2"
      ]
    },
    {
      "id": "A4085_S11",
      "rule": "algebraic simplification",
      "premises": [
        "A4085_C12: A = 2 from a_1 = 2"
      ],
      "conclusions": [
        "A4085_C13: a_n = 2^{n+1} - 2"
      ]
    },
    {
      "id": "D57_S1",
      "rule": "problem connection",
      "premises": [
        "D57_C1: a_n = number of ways to tile (k + 5) x 4n grid with L-tetromino",
        "A2003_C14: k = -1"
      ],
      "conclusions": [
        "A4085_C1: a_n = number of ways to tile 4 x 4n grid with L-tetromino"
      ]
    }
  ]
}