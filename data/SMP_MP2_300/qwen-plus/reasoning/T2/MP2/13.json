{
  "Problem_ID": 13,
  "Chunk_Type": "T2",
  "Class_ID": "B2707",
  "Multiple_Synthesis_Class": "MP2",
  "Sub_Class_ID": [
    {
      "A1652": "A1652_DG_1"
    },
    {
      "A1684": "A1684_DG_2"
    }
  ],
  "Synthesis_Trace": "DG-DG",
  "Synthesis_Status": "Continuable",
  "Math_Problem": "Farmer John has 5 cows, 4 pigs, and 7 horses. Assume that all animals are distinguishable from each other. How many ways can he pair up the animals so that every pair consists of animals of different species? Instead of determining the total number of ways to pair up all the animals into mixed-species pairs, simply find $k = x + 2$, where $x$ is the number of cow-pig pairs in any such complete pairing. Compute the number of ways to color $k$ cells in a $3 \\times 3$ grid so that no two colored cells share an edge.",
  "Connecting_Sentence": [
    {
      "A1652": "Instead of determining the total number of ways to pair up all the animals into mixed-species pairs, simply find $k = x + 2$, where $x$ is the number of cow-pig pairs in any such complete pairing."
    },
    {
      "A1684": "None"
    }
  ],
  "Synthesised_By": [
    {
      "A1652": "Farmer John has 5 cows, 4 pigs, and 7 horses. How many ways can he pair up the animals so that every pair consists of animals of different species? Assume that all animals are distinguishable from each other. Instead of determining the total number of ways to pair up all the animals into mixed-species pairs, simply find $k = x + 2$, where $x$ is the number of cow-pig pairs in any such complete pairing."
    },
    {
      "A1684": "Compute the number of ways to color 3 cells in a $3 \\times 3$ grid so that no two colored cells share an edge."
    }
  ],
  "Original_Problem": [
    {
      "A1652": "Farmer John has 5 cows, 4 pigs, and 7 horses. How many ways can he pair up the animals so that every pair consists of animals of different species? Assume that all animals are distinguishable from each other."
    },
    {
      "A1684": "Compute the number of ways to color 3 cells in a $3 \\times 3$ grid so that no two colored cells share an edge."
    }
  ],
  "Problem_Type": [
    {
      "A1652": [
        "Mathematics -> Applied Mathematics -> Statistics -> Probability -> Counting Methods -> Combinations"
      ]
    },
    {
      "A1684": [
        "Mathematics -> Discrete Mathematics -> Combinatorics"
      ]
    }
  ],
  "Problem_Level": [
    {
      "A1652": "KbsdJames_Omni-MATH_4.0"
    },
    {
      "A1684": "KbsdJames_Omni-MATH_4.0"
    }
  ],
  "Problem_Source": [
    {
      "A1652": "HMMT_2"
    },
    {
      "A1684": "HMMT_2"
    }
  ],
  "Problem_Length": [
    {
      "A1652": 208
    },
    {
      "A1684": 110
    }
  ],
  "Synthesised_Problem_Length": 518,
  "Ground_Truth": [
    {
      "A1652": "100800"
    },
    {
      "A1684": "22"
    }
  ],
  "Predicted_Answer": [
    {
      "A1652": "100800"
    },
    {
      "A1684": "22"
    }
  ],
  "Connecting_Point": [
    {
      "B2707": {
        "3": "(x + 2)"
      }
    }
  ],
  "Delta_Factor": [
    {
      "A1652": 0.62
    },
    {
      "A1684": 0.7
    }
  ],
  "Delta_Value": [
    {
      "A1652": {
        "x": "1"
      }
    },
    {
      "A1684": {
        "binom{5}{2}": "10"
      }
    }
  ],
  "Delta_Depth": [
    {
      "A1652": {
        "x": 13
      }
    },
    {
      "A1684": {
        "binom{5}{2}": 14
      }
    }
  ],
  "Delta_Source": [
    {
      "A1652": "derived"
    },
    {
      "A1684": "derived"
    }
  ],
  "Delta_Value_Order": [
    {
      "A1652": 1
    },
    {
      "A1684": 2
    }
  ],
  "Delta_Variable_Names": [
    {
      "A1652": [
        "x"
      ]
    },
    {
      "A1684": [
        "binom"
      ]
    }
  ],
  "Delta_Socket": [
    {
      "A1652": {
        "16": 16.0
      }
    },
    {
      "A1684": {
        "3": 3.0
      }
    }
  ],
  "Source_Delta_Socket": [
    {
      "A1652": "goal"
    },
    {
      "A1684": "goal"
    }
  ],
  "Delta_Socket_Order": [
    {
      "A1652": 1
    },
    {
      "A1684": 1
    }
  ],
  "Variable_Names": [
    {
      "A1652": []
    },
    {
      "A1684": []
    }
  ],
  "Total_Claims": [
    {
      "A1652": 21
    },
    {
      "A1684": 20
    }
  ],
  "Total_Delta": [
    {
      "A1652": 2
    },
    {
      "A1684": 2
    }
  ],
  "Total_Delta_Socket": [
    {
      "A1652": 1
    },
    {
      "A1684": 1
    }
  ],
  "Max_Delta_Factor": [
    {
      "A1652": 1.0
    },
    {
      "A1684": 0.7
    }
  ],
  "Min_Delta_Factor": [
    {
      "A1652": 0.62
    },
    {
      "A1684": 0.45
    }
  ],
  "Max_Delta_Depth": [
    {
      "A1652": 21
    },
    {
      "A1684": 14
    }
  ],
  "Min_Delta_Depth": [
    {
      "A1652": 13
    },
    {
      "A1684": 9
    }
  ],
  "Claims": [
    {
      "id": "A1652_C1",
      "type": "goal",
      "expr": "W = number of ways to pair 16 distinguishable animals into 8 pairs of different species"
    },
    {
      "id": "A1652_C2",
      "type": "context",
      "expr": "|C| = 5"
    },
    {
      "id": "A1652_C3",
      "type": "context",
      "expr": "|P| = 4"
    },
    {
      "id": "A1652_C4",
      "type": "context",
      "expr": "|H| = 7"
    },
    {
      "id": "A1652_C5",
      "type": "context",
      "expr": "total animals = 16"
    },
    {
      "id": "A1652_C6",
      "type": "context",
      "expr": "number of pairs = 8"
    },
    {
      "id": "A1652_C7",
      "type": "derived",
      "expr": "|C ∪ P| = 9"
    },
    {
      "id": "A1652_C8",
      "type": "derived",
      "expr": "let x = number of C-P pairs"
    },
    {
      "id": "A1652_C9",
      "type": "derived",
      "expr": "number of C-H pairs = 5 - x"
    },
    {
      "id": "A1652_C10",
      "type": "derived",
      "expr": "number of P-H pairs = 4 - x"
    },
    {
      "id": "A1652_C11",
      "type": "derived",
      "expr": "total pairs = x + (5 - x) + (4 - x) = 9 - x"
    },
    {
      "id": "A1652_C12",
      "type": "derived",
      "expr": "9 - x = 8"
    },
    {
      "id": "A1652_C13",
      "type": "derived",
      "expr": "x = 1"
    },
    {
      "id": "A1652_C14",
      "type": "derived",
      "expr": "number of C-H pairs = 4"
    },
    {
      "id": "A1652_C15",
      "type": "derived",
      "expr": "number of P-H pairs = 3"
    },
    {
      "id": "A1652_C16",
      "type": "derived",
      "expr": "horses used = 4 + 3 = 7 = |H|"
    },
    {
      "id": "A1652_C17",
      "type": "derived",
      "expr": "ways to choose cow and pig for C-P pair = 5 × 4"
    },
    {
      "id": "A1652_C18",
      "type": "derived",
      "expr": "remaining animals: 4 cows, 3 pigs, 7 horses"
    },
    {
      "id": "A1652_C19",
      "type": "derived",
      "expr": "ways to assign 7 horses to 4 cows + 3 pigs = 7!"
    },
    {
      "id": "A1652_C20",
      "type": "derived",
      "expr": "W = (5 × 4) × 7!"
    },
    {
      "id": "A1652_C21",
      "type": "final",
      "expr": "W = 100800"
    },
    {
      "id": "A1684_C1",
      "type": "derived",
      "expr": "N = # ways to choose 3 cells in 3x3 grid no two share edge"
    },
    {
      "id": "A1684_C2",
      "type": "context",
      "expr": "Cells: center C, edge centers E (|E|=4), corners R (|R|=4)"
    },
    {
      "id": "A1684_C3",
      "type": "context",
      "expr": "C adjacent to all in E"
    },
    {
      "id": "A1684_C4",
      "type": "context",
      "expr": "No edges within R"
    },
    {
      "id": "A1684_C5",
      "type": "context",
      "expr": "No edges within E"
    },
    {
      "id": "A1684_C6",
      "type": "context",
      "expr": "Graph G' on E ∪ R is C_8 (8-cycle)"
    },
    {
      "id": "A1684_C7",
      "type": "derived",
      "expr": "If C colored, cannot color any in E"
    },
    {
      "id": "A1684_C8",
      "type": "derived",
      "expr": "If C colored, independent sets are {C} ∪ T for T ⊆ R"
    },
    {
      "id": "A1684_C9",
      "type": "derived",
      "expr": "binom{4}{2} = 6"
    },
    {
      "id": "A1684_C10",
      "type": "derived",
      "expr": "Case C colored: 6 ways"
    },
    {
      "id": "A1684_C11",
      "type": "derived",
      "expr": "Case C not colored: # independent sets of size 3 in G'"
    },
    {
      "id": "A1684_C12",
      "type": "derived",
      "expr": "Each vertex in C_8 has degree 2"
    },
    {
      "id": "A1684_C13",
      "type": "derived",
      "expr": "For fixed v in G', remove v and 2 neighbors: remains P_5"
    },
    {
      "id": "A1684_C14",
      "type": "derived",
      "expr": "binom{5}{2} = 10"
    },
    {
      "id": "A1684_C15",
      "type": "derived",
      "expr": "P_5 has 4 edges"
    },
    {
      "id": "A1684_C16",
      "type": "derived",
      "expr": "# independent sets size 2 in P_5 = 10 - 4 = 6"
    },
    {
      "id": "A1684_C17",
      "type": "derived",
      "expr": "# ind sets size 3 in G' containing fixed v = 6"
    },
    {
      "id": "A1684_C18",
      "type": "derived",
      "expr": "# ind sets size 3 in G' = (8 × 6) / 3 = 16"
    },
    {
      "id": "A1684_C19",
      "type": "derived",
      "expr": "Case C not colored: 16 ways"
    },
    {
      "id": "A1684_C20",
      "type": "final",
      "expr": "N = 6 + 16 = 22"
    },
    {
      "id": "B2707_C1",
      "type": "goal",
      "expr": "N = # ways to choose (x + 2) cells in 3x3 grid no two share edge"
    }
  ],
  "Steps": [
    {
      "id": "A1652_S1",
      "rule": "problem setup",
      "premises": [
        "A1652_C1: W = number of ways to pair 16 distinguishable animals into 8 pairs of different species"
      ],
      "conclusions": [
        "A1652_C2: |C| = 5",
        "A1652_C3: |P| = 4",
        "A1652_C4: |H| = 7",
        "A1652_C5: total animals = 16",
        "A1652_C6: number of pairs = 8"
      ]
    },
    {
      "id": "A1652_S2",
      "rule": "addition",
      "premises": [
        "A1652_C2: |C| = 5",
        "A1652_C3: |P| = 4"
      ],
      "conclusions": [
        "A1652_C7: |C ∪ P| = 9"
      ]
    },
    {
      "id": "A1652_S3",
      "rule": "define variable",
      "premises": [
        "A1652_C1: W = number of ways to pair 16 distinguishable animals into 8 pairs of different species",
        "A1652_C2: |C| = 5",
        "A1652_C3: |P| = 4"
      ],
      "conclusions": [
        "A1652_C8: let x = number of C-P pairs"
      ]
    },
    {
      "id": "A1652_S4",
      "rule": "remaining cows for horses",
      "premises": [
        "A1652_C8: let x = number of C-P pairs",
        "A1652_C2: |C| = 5"
      ],
      "conclusions": [
        "A1652_C9: number of C-H pairs = 5 - x"
      ]
    },
    {
      "id": "A1652_S5",
      "rule": "remaining pigs for horses",
      "premises": [
        "A1652_C8: let x = number of C-P pairs",
        "A1652_C3: |P| = 4"
      ],
      "conclusions": [
        "A1652_C10: number of P-H pairs = 4 - x"
      ]
    },
    {
      "id": "A1652_S6",
      "rule": "total pairs equation",
      "premises": [
        "A1652_C8: let x = number of C-P pairs",
        "A1652_C9: number of C-H pairs = 5 - x",
        "A1652_C10: number of P-H pairs = 4 - x",
        "A1652_C6: number of pairs = 8"
      ],
      "conclusions": [
        "A1652_C11: total pairs = x + (5 - x) + (4 - x) = 9 - x"
      ]
    },
    {
      "id": "A1652_S7",
      "rule": "set equal to required pairs",
      "premises": [
        "A1652_C11: total pairs = x + (5 - x) + (4 - x) = 9 - x",
        "A1652_C6: number of pairs = 8"
      ],
      "conclusions": [
        "A1652_C12: 9 - x = 8"
      ]
    },
    {
      "id": "A1652_S8",
      "rule": "solve for x",
      "premises": [
        "A1652_C12: 9 - x = 8"
      ],
      "conclusions": [
        "A1652_C13: x = 1"
      ]
    },
    {
      "id": "A1652_S9",
      "rule": "substitute x=1",
      "premises": [
        "A1652_C9: number of C-H pairs = 5 - x",
        "A1652_C13: x = 1"
      ],
      "conclusions": [
        "A1652_C14: number of C-H pairs = 4"
      ]
    },
    {
      "id": "A1652_S10",
      "rule": "substitute x=1",
      "premises": [
        "A1652_C10: number of P-H pairs = 4 - x",
        "A1652_C13: x = 1"
      ],
      "conclusions": [
        "A1652_C15: number of P-H pairs = 3"
      ]
    },
    {
      "id": "A1652_S11",
      "rule": "horses usage check",
      "premises": [
        "A1652_C14: number of C-H pairs = 4",
        "A1652_C15: number of P-H pairs = 3",
        "A1652_C4: |H| = 7"
      ],
      "conclusions": [
        "A1652_C16: horses used = 4 + 3 = 7 = |H|"
      ]
    },
    {
      "id": "A1652_S12",
      "rule": "selection for single C-P pair",
      "premises": [
        "A1652_C13: x = 1",
        "A1652_C2: |C| = 5",
        "A1652_C3: |P| = 4"
      ],
      "conclusions": [
        "A1652_C17: ways to choose cow and pig for C-P pair = 5 × 4"
      ]
    },
    {
      "id": "A1652_S13",
      "rule": "remaining after C-P pair",
      "premises": [
        "A1652_C13: x = 1",
        "A1652_C2: |C| = 5",
        "A1652_C3: |P| = 4",
        "A1652_C17: ways to choose cow and pig for C-P pair = 5 × 4"
      ],
      "conclusions": [
        "A1652_C18: remaining animals: 4 cows, 3 pigs, 7 horses"
      ]
    },
    {
      "id": "A1652_S14",
      "rule": "permutation of horses to non-horses",
      "premises": [
        "A1652_C18: remaining animals: 4 cows, 3 pigs, 7 horses",
        "A1652_C4: |H| = 7"
      ],
      "conclusions": [
        "A1652_C19: ways to assign 7 horses to 4 cows + 3 pigs = 7!"
      ]
    },
    {
      "id": "A1652_S15",
      "rule": "total ways multiplication",
      "premises": [
        "A1652_C17: ways to choose cow and pig for C-P pair = 5 × 4",
        "A1652_C19: ways to assign 7 horses to 4 cows + 3 pigs = 7!",
        "A1652_C16: horses used = 4 + 3 = 7 = |H|"
      ],
      "conclusions": [
        "A1652_C20: W = (5 × 4) × 7!"
      ]
    },
    {
      "id": "A1652_S16",
      "rule": "numerical evaluation",
      "premises": [
        "A1652_C20: W = (5 × 4) × 7!"
      ],
      "conclusions": [
        "A1652_C21: W = 100800"
      ]
    },
    {
      "id": "A1684_S1",
      "rule": "problem setup",
      "premises": [
        "A1684_C1: N = # ways to choose 3 cells in 3x3 grid no two share edge"
      ],
      "conclusions": [
        "A1684_C2: Cells: center C, edge centers E (|E|=4), corners R (|R|=4)",
        "A1684_C3: C adjacent to all in E",
        "A1684_C4: No edges within R",
        "A1684_C5: No edges within E",
        "A1684_C6: Graph G' on E ∪ R is C_8 (8-cycle)"
      ]
    },
    {
      "id": "A1684_S2",
      "rule": "adjacency constraint",
      "premises": [
        "A1684_C3: C adjacent to all in E"
      ],
      "conclusions": [
        "A1684_C7: If C colored, cannot color any in E"
      ]
    },
    {
      "id": "A1684_S3",
      "rule": "independent set construction",
      "premises": [
        "A1684_C4: No edges within R",
        "A1684_C7: If C colored, cannot color any in E"
      ],
      "conclusions": [
        "A1684_C8: If C colored, independent sets are {C} ∪ T for T ⊆ R"
      ]
    },
    {
      "id": "A1684_S4",
      "rule": "binomial coefficient",
      "premises": [
        "A1684_C8: If C colored, independent sets are {C} ∪ T for T ⊆ R"
      ],
      "conclusions": [
        "A1684_C9: binom{4}{2} = 6"
      ]
    },
    {
      "id": "A1684_S5",
      "rule": "case total",
      "premises": [
        "A1684_C9: binom{4}{2} = 6"
      ],
      "conclusions": [
        "A1684_C10: Case C colored: 6 ways"
      ]
    },
    {
      "id": "A1684_S6",
      "rule": "case decomposition",
      "premises": [
        "A1684_C1: N = # ways to choose 3 cells in 3x3 grid no two share edge"
      ],
      "conclusions": [
        "A1684_C11: Case C not colored: # independent sets of size 3 in G'"
      ]
    },
    {
      "id": "A1684_S7",
      "rule": "cycle properties",
      "premises": [
        "A1684_C6: Graph G' on E ∪ R is C_8 (8-cycle)"
      ],
      "conclusions": [
        "A1684_C12: Each vertex in C_8 has degree 2"
      ]
    },
    {
      "id": "A1684_S8",
      "rule": "vertex removal",
      "premises": [
        "A1684_C6: Graph G' on E ∪ R is C_8 (8-cycle)",
        "A1684_C12: Each vertex in C_8 has degree 2"
      ],
      "conclusions": [
        "A1684_C13: For fixed v in G', remove v and 2 neighbors: remains P_5"
      ]
    },
    {
      "id": "A1684_S9",
      "rule": "binomial coefficient",
      "premises": [
        "A1684_C13: For fixed v in G', remove v and 2 neighbors: remains P_5"
      ],
      "conclusions": [
        "A1684_C14: binom{5}{2} = 10"
      ]
    },
    {
      "id": "A1684_S10",
      "rule": "path structure",
      "premises": [
        "A1684_C13: For fixed v in G', remove v and 2 neighbors: remains P_5"
      ],
      "conclusions": [
        "A1684_C15: P_5 has 4 edges"
      ]
    },
    {
      "id": "A1684_S11",
      "rule": "independent sets calculation",
      "premises": [
        "A1684_C14: binom{5}{2} = 10",
        "A1684_C15: P_5 has 4 edges"
      ],
      "conclusions": [
        "A1684_C16: # independent sets size 2 in P_5 = 10 - 4 = 6"
      ]
    },
    {
      "id": "A1684_S12",
      "rule": "per fixed vertex",
      "premises": [
        "A1684_C13: For fixed v in G', remove v and 2 neighbors: remains P_5",
        "A1684_C16: # independent sets size 2 in P_5 = 10 - 4 = 6"
      ],
      "conclusions": [
        "A1684_C17: # ind sets size 3 in G' containing fixed v = 6"
      ]
    },
    {
      "id": "A1684_S13",
      "rule": "double counting",
      "premises": [
        "A1684_C2: Cells: center C, edge centers E (|E|=4), corners R (|R|=4)",
        "A1684_C17: # ind sets size 3 in G' containing fixed v = 6"
      ],
      "conclusions": [
        "A1684_C18: # ind sets size 3 in G' = (8 × 6) / 3 = 16"
      ]
    },
    {
      "id": "A1684_S14",
      "rule": "case total",
      "premises": [
        "A1684_C18: # ind sets size 3 in G' = (8 × 6) / 3 = 16"
      ],
      "conclusions": [
        "A1684_C19: Case C not colored: 16 ways"
      ]
    },
    {
      "id": "A1684_S15",
      "rule": "total sum",
      "premises": [
        "A1684_C10: Case C colored: 6 ways",
        "A1684_C19: Case C not colored: 16 ways"
      ],
      "conclusions": [
        "A1684_C20: N = 6 + 16 = 22"
      ]
    },
    {
      "id": "B2707_S1",
      "rule": "problem connection",
      "premises": [
        "B2707_C1: N = # ways to choose (x + 2) cells in 3x3 grid no two share edge",
        "A1652_C13: x = 1"
      ],
      "conclusions": [
        "A1684_C1: N = # ways to choose 3 cells in 3x3 grid no two share edge"
      ]
    }
  ]
}