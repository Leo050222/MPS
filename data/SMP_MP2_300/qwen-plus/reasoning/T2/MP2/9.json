{
  "Problem_ID": 9,
  "Chunk_Type": "T2",
  "Class_ID": "B1785",
  "Multiple_Synthesis_Class": "MP2",
  "Sub_Class_ID": [
    {
      "A1342": "A1342_DG_1"
    },
    {
      "A1362": "A1362_DG_1"
    }
  ],
  "Synthesis_Trace": "DG-DG",
  "Synthesis_Status": "Continuable",
  "Math_Problem": "If $a, b, c$, and $d$ are pairwise distinct positive integers that satisfy $\\operatorname{lcm}(a, b, c, d)<1000$ and $a+b=c+d$, compute the largest possible value of $a+b$. Instead of computing the largest possible value of $a + b$, simply find $k = \\ell - 10$, where $\\ell$ is the least common multiple of the four distinct integers at least $2$ in the reciprocal sum configuration where the pair not including $2$ consists of two distinct odd primes. Let $\\pi$ be a uniformly random permutation of the set $\\{1,2, \\ldots, 100\\}$. The probability that $\\pi^{k}(k)= k$ and $\\pi^{k+1}(k+1)=k+1$ can be expressed as $\\frac{a}{b}$, where $a$ and $b$ are relatively prime positive integers. Compute $100 a+b$. (Here, $\\pi^{k}$ means $\\pi$ iterated $k$ times.)",
  "Connecting_Sentence": [
    {
      "A1342": "Instead of computing the largest possible value of $a + b$, simply find $k = \\ell - 10$, where $\\ell$ is the least common multiple of the four distinct integers at least $2$ in the reciprocal sum configuration where the pair not including $2$ consists of two distinct odd primes."
    },
    {
      "A1362": "None"
    }
  ],
  "Synthesised_By": [
    {
      "A1342": "If $a, b, c$, and $d$ are pairwise distinct positive integers that satisfy \\operatorname{lcm}(a, b, c, d)<1000$ and $a+b=c+d$, compute the largest possible value of $a+b$. Instead of computing the largest possible value of $a + b$, simply find $k = \\ell - 10$, where $\\ell$ is the least common multiple of the four distinct integers at least $2$ in the reciprocal sum configuration where the pair not including $2$ consists of two distinct odd primes."
    },
    {
      "A1362": "Let $\\pi$ be a uniformly random permutation of the set $\\{1,2, \\ldots, 100\\}$. The probability that $\\pi^{20}(20)=$ 20 and $\\pi^{21}(21)=21$ can be expressed as $\\frac{a}{b}$, where $a$ and $b$ are relatively prime positive integers. Compute $100 a+b$. (Here, $\\pi^{k}$ means $\\pi$ iterated $k$ times.)"
    }
  ],
  "Original_Problem": [
    {
      "A1342": "If $a, b, c$, and $d$ are pairwise distinct positive integers that satisfy \\operatorname{lcm}(a, b, c, d)<1000$ and $a+b=c+d$, compute the largest possible value of $a+b$."
    },
    {
      "A1362": "Let $\\pi$ be a uniformly random permutation of the set $\\{1,2, \\ldots, 100\\}$. The probability that $\\pi^{20}(20)=$ 20 and $\\pi^{21}(21)=21$ can be expressed as $\\frac{a}{b}$, where $a$ and $b$ are relatively prime positive integers. Compute $100 a+b$. (Here, $\\pi^{k}$ means $\\pi$ iterated $k$ times.)"
    }
  ],
  "Problem_Type": [
    {
      "A1342": [
        "Mathematics -> Number Theory -> Least Common Multiples (LCM)",
        "Mathematics -> Algebra -> Other"
      ]
    },
    {
      "A1362": [
        "Mathematics -> Discrete Mathematics -> Combinatorics"
      ]
    }
  ],
  "Problem_Level": [
    {
      "A1342": "KbsdJames_Omni-MATH_4.0"
    },
    {
      "A1362": "KbsdJames_Omni-MATH_4.0"
    }
  ],
  "Problem_Source": [
    {
      "A1342": "HMMT_2"
    },
    {
      "A1362": "HMMT_2"
    }
  ],
  "Problem_Length": [
    {
      "A1342": 171
    },
    {
      "A1362": 302
    }
  ],
  "Synthesised_Problem_Length": 755,
  "Ground_Truth": [
    {
      "A1342": "581"
    },
    {
      "A1362": "1025"
    }
  ],
  "Predicted_Answer": [
    {
      "A1342": "581"
    },
    {
      "A1362": "1025"
    }
  ],
  "Connecting_Point": [
    {
      "B1785": {
        "20": "(lcm(2, 3, 5, 30) - 10)"
      }
    }
  ],
  "Delta_Factor": [
    {
      "A1342": 0.92
    },
    {
      "A1362": 0.36
    }
  ],
  "Delta_Value": [
    {
      "A1342": {
        "lcm(2, 3, 5, 30)": "30"
      }
    },
    {
      "A1362": {
        "gcd(20,21)": "1"
      }
    }
  ],
  "Delta_Depth": [
    {
      "A1342": {
        "lcm(2, 3, 5, 30)": 34
      }
    },
    {
      "A1362": {
        "gcd(20,21)": 8
      }
    }
  ],
  "Delta_Source": [
    {
      "A1342": "derived"
    },
    {
      "A1362": "derived"
    }
  ],
  "Delta_Value_Order": [
    {
      "A1342": 1
    },
    {
      "A1362": 1
    }
  ],
  "Delta_Variable_Names": [
    {
      "A1342": [
        "lcm"
      ]
    },
    {
      "A1362": [
        "gcd"
      ]
    }
  ],
  "Delta_Socket": [
    {
      "A1342": {
        "1000": 1000.0
      }
    },
    {
      "A1362": {
        "20": 20.0
      }
    }
  ],
  "Source_Delta_Socket": [
    {
      "A1342": "goal"
    },
    {
      "A1362": "goal"
    }
  ],
  "Delta_Socket_Order": [
    {
      "A1342": 1
    },
    {
      "A1362": 1
    }
  ],
  "Variable_Names": [
    {
      "A1342": [
        "a",
        "b",
        "c",
        "d",
        "n"
      ]
    },
    {
      "A1362": [
        "b",
        "a",
        "k"
      ]
    }
  ],
  "Total_Claims": [
    {
      "A1342": 37
    },
    {
      "A1362": 22
    }
  ],
  "Total_Delta": [
    {
      "A1342": 1
    },
    {
      "A1362": 1
    }
  ],
  "Total_Delta_Socket": [
    {
      "A1342": 1
    },
    {
      "A1362": 1
    }
  ],
  "Max_Delta_Factor": [
    {
      "A1342": 0.92
    },
    {
      "A1362": 0.36
    }
  ],
  "Min_Delta_Factor": [
    {
      "A1342": 0.92
    },
    {
      "A1362": 0.36
    }
  ],
  "Max_Delta_Depth": [
    {
      "A1342": 34
    },
    {
      "A1362": 8
    }
  ],
  "Min_Delta_Depth": [
    {
      "A1342": 34
    },
    {
      "A1362": 8
    }
  ],
  "Claims": [
    {
      "id": "A1342_C1",
      "type": "goal",
      "expr": "maximize a + b where a, b, c, d pairwise distinct positive integers, L = lcm(a, b, c, d) < 1000, a + b = c + d"
    },
    {
      "id": "A1342_C2",
      "type": "context",
      "expr": "a, b, c, d pairwise distinct positive integers"
    },
    {
      "id": "A1342_C3",
      "type": "context",
      "expr": "L = lcm(a, b, c, d) < 1000"
    },
    {
      "id": "A1342_C4",
      "type": "context",
      "expr": "a + b = c + d"
    },
    {
      "id": "A1342_C5",
      "type": "derived",
      "expr": "a' = L / a, b' = L / b, c' = L / c, d' = L / d"
    },
    {
      "id": "A1342_C6",
      "type": "derived",
      "expr": "a', b', c', d' positive integers (a | L, etc.)"
    },
    {
      "id": "A1342_C7",
      "type": "derived",
      "expr": "a = L / a', b = L / b', c = L / c', d = L / d'"
    },
    {
      "id": "A1342_C8",
      "type": "derived",
      "expr": "a + b = L (1/a' + 1/b')"
    },
    {
      "id": "A1342_C9",
      "type": "derived",
      "expr": "c + d = L (1/c' + 1/d')"
    },
    {
      "id": "A1342_C10",
      "type": "derived",
      "expr": "1/a' + 1/b' = 1/c' + 1/d' = T"
    },
    {
      "id": "A1342_C11",
      "type": "derived",
      "expr": "a + b = T L"
    },
    {
      "id": "A1342_C12",
      "type": "derived",
      "expr": "a', b', c', d' pairwise distinct (since a, b, c, d distinct, L fixed)"
    },
    {
      "id": "A1342_C13",
      "type": "derived",
      "expr": "If a' = 1, then T >= 1 + 1/2 > 1, but max 1/c' + 1/d' <= 1/2 + 1/3 = 5/6 < 1, contradiction"
    },
    {
      "id": "A1342_C14",
      "type": "derived",
      "expr": "None of a', b', c', d' = 1"
    },
    {
      "id": "A1342_C15",
      "type": "derived",
      "expr": "a', b', c', d' >= 2, pairwise distinct positive integers"
    },
    {
      "id": "A1342_C16",
      "type": "derived",
      "expr": "Cannot have two or more 2's (violates distinctness)"
    },
    {
      "id": "A1342_C17",
      "type": "derived",
      "expr": "Cannot have 2 on both sides (2 repeated, violates distinctness)"
    },
    {
      "id": "A1342_C18",
      "type": "derived",
      "expr": "At most one 2 among a', b', c', d'"
    },
    {
      "id": "A1342_C19",
      "type": "derived",
      "expr": "At least one pair has both >= 3"
    },
    {
      "id": "A1342_C20",
      "type": "derived",
      "expr": "Max sum with both >= 3: 1/3 + 1/4 = 7/12"
    },
    {
      "id": "A1342_C21",
      "type": "derived",
      "expr": "7/12 = 1/2 + 1/12"
    },
    {
      "id": "A1342_C22",
      "type": "derived",
      "expr": "{2, 12, 3, 4} pairwise distinct, all >= 2"
    },
    {
      "id": "A1342_C23",
      "type": "derived",
      "expr": "For T = 7/12, L divisible by lcm(2, 3, 4, 12) = 12"
    },
    {
      "id": "A1342_C24",
      "type": "derived",
      "expr": "Largest multiple of 12 < 1000: 996 = 12 * 83"
    },
    {
      "id": "A1342_C25",
      "type": "derived",
      "expr": "(7/12) * 996 = 7 * 83 = 581"
    },
    {
      "id": "A1342_C26",
      "type": "derived",
      "expr": "a = 996/3 = 332, b = 996/4 = 249, c = 996/2 = 498, d = 996/12 = 83"
    },
    {
      "id": "A1342_C27",
      "type": "derived",
      "expr": "332 + 249 = 581 = 498 + 83"
    },
    {
      "id": "A1342_C28",
      "type": "derived",
      "expr": "83, 249, 332, 498 pairwise distinct positive integers"
    },
    {
      "id": "A1342_C29",
      "type": "derived",
      "expr": "83 prime, 249 = 3*83, 332 = 2^2*83, 498 = 2*3*83"
    },
    {
      "id": "A1342_C30",
      "type": "derived",
      "expr": "lcm(83, 249, 332, 498) = 2^2 * 3 * 83 = 996 < 1000"
    },
    {
      "id": "A1342_C31",
      "type": "derived",
      "expr": "Next T = 1/3 + 1/5 = 8/15"
    },
    {
      "id": "A1342_C32",
      "type": "derived",
      "expr": "8/15 = 1/2 + 1/30"
    },
    {
      "id": "A1342_C33",
      "type": "derived",
      "expr": "{2, 30, 3, 5} pairwise distinct, all >= 2"
    },
    {
      "id": "A1342_C34",
      "type": "derived",
      "expr": "lcm(2, 3, 5, 30) = 30"
    },
    {
      "id": "A1342_C35",
      "type": "derived",
      "expr": "Largest multiple of 30 < 1000: 990"
    },
    {
      "id": "A1342_C36",
      "type": "derived",
      "expr": "(8/15) * 990 = 8 * 66 = 528 < 581"
    },
    {
      "id": "A1342_C37",
      "type": "final",
      "expr": "maximum a + b = 581"
    },
    {
      "id": "A1362_C1",
      "type": "derived",
      "expr": "P(π^{20}(20)=20 ∧ π^{21}(21)=21) = a/b with gcd(a,b)=1; compute 100a + b"
    },
    {
      "id": "A1362_C2",
      "type": "context",
      "expr": "π is a uniformly random permutation of {1,2,...,100}"
    },
    {
      "id": "A1362_C3",
      "type": "derived",
      "expr": "π^{20}(20)=20 ⇔ ord_π(20) | 20"
    },
    {
      "id": "A1362_C4",
      "type": "derived",
      "expr": "π^{21}(21)=21 ⇔ ord_π(21) | 21"
    },
    {
      "id": "A1362_C5",
      "type": "derived",
      "expr": "ord_π(n) is the length of the cycle containing n"
    },
    {
      "id": "A1362_C6",
      "type": "derived",
      "expr": "P(π^{20}(20)=20 ∧ π^{21}(21)=21) = P(ord_π(20) | 20 ∧ ord_π(21) | 21)"
    },
    {
      "id": "A1362_C7",
      "type": "derived",
      "expr": "If 20 and 21 in same cycle, then ord_π(20) = ord_π(21) = l ≥ 2"
    },
    {
      "id": "A1362_C8",
      "type": "derived",
      "expr": "gcd(20,21) = 1"
    },
    {
      "id": "A1362_C9",
      "type": "derived",
      "expr": "If ord_π(20) | 20 ∧ ord_π(21) | 21 and same cycle, then l | 1 so l=1, contradiction with l ≥ 2"
    },
    {
      "id": "A1362_C10",
      "type": "derived",
      "expr": "ord_π(20) | 20 ∧ ord_π(21) | 21 implies 20 and 21 in distinct cycles"
    },
    {
      "id": "A1362_C11",
      "type": "derived",
      "expr": "Divisors of 20: 1,2,4,5,10,20 (6 total)"
    },
    {
      "id": "A1362_C12",
      "type": "derived",
      "expr": "Divisors of 21: 1,3,7,21 (4 total)"
    },
    {
      "id": "A1362_C13",
      "type": "derived",
      "expr": "Possible pairs (a,b) with a | 20, b | 21: 6 × 4 = 24"
    },
    {
      "id": "A1362_C14",
      "type": "derived",
      "expr": "For each such pair, a + b ≤ 20 + 21 = 41 ≤ 100"
    },
    {
      "id": "A1362_C15",
      "type": "derived",
      "expr": "Events {ord_π(20)=a ∧ ord_π(21)=b} over a | 20, b | 21 are pairwise disjoint"
    },
    {
      "id": "A1362_C16",
      "type": "derived",
      "expr": "P(ord_π(20) | 20 ∧ ord_π(21) | 21) = ∑_{a|20, b|21} P(ord_π(20)=a ∧ ord_π(21)=b)"
    },
    {
      "id": "A1362_C17",
      "type": "derived",
      "expr": "Number of permutations with ord_π(20)=a, ord_π(21)=b (distinct cycles, a+b≤100): binom(98}{a-1} (a-1)! × binom{99-a}{b-1} (b-1)! × (100-a-b)! = 98!"
    },
    {
      "id": "A1362_C18",
      "type": "derived",
      "expr": "Total permutations: 100!"
    },
    {
      "id": "A1362_C19",
      "type": "derived",
      "expr": "P(ord_π(20)=a ∧ ord_π(21)=b) = 98! / 100! = 1/(100 × 99)"
    },
    {
      "id": "A1362_C20",
      "type": "derived",
      "expr": "P(ord_π(20) | 20 ∧ ord_π(21) | 21) = 24 / (100 × 99) = 24/9900"
    },
    {
      "id": "A1362_C21",
      "type": "derived",
      "expr": "24/9900 = 2/825 (divide numerator and denominator by 12)"
    },
    {
      "id": "A1362_C22",
      "type": "final",
      "expr": "a=2, b=825, 100a + b = 1025"
    },
    {
      "id": "B1785_C1",
      "type": "goal",
      "expr": "P(π^{20}((lcm(2, 3, 5, 30) - 10))=(lcm(2, 3, 5, 30) - 10) ∧ π^{21}(21)=21) = a/b with gcd(a,b)=1; compute 100a + b"
    }
  ],
  "Steps": [
    {
      "id": "A1342_S1",
      "rule": "problem setup",
      "premises": [
        "A1342_C1: maximize a + b where a, b, c, d pairwise distinct positive integers, L = lcm(a, b, c, d) < 1000, a + b = c + d"
      ],
      "conclusions": [
        "A1342_C2: a, b, c, d pairwise distinct positive integers",
        "A1342_C3: L = lcm(a, b, c, d) < 1000",
        "A1342_C4: a + b = c + d"
      ]
    },
    {
      "id": "A1342_S2",
      "rule": "define scaled variables",
      "premises": [
        "A1342_C3: L = lcm(a, b, c, d) < 1000"
      ],
      "conclusions": [
        "A1342_C5: a' = L / a, b' = L / b, c' = L / c, d' = L / d",
        "A1342_C6: a', b', c', d' positive integers (a | L, etc.)",
        "A1342_C7: a = L / a', b = L / b', c = L / c', d = L / d'"
      ]
    },
    {
      "id": "A1342_S3",
      "rule": "express sum in terms of scaled variables",
      "premises": [
        "A1342_C7: a = L / a', b = L / b', c = L / c', d = L / d'"
      ],
      "conclusions": [
        "A1342_C8: a + b = L (1/a' + 1/b')",
        "A1342_C9: c + d = L (1/c' + 1/d')"
      ]
    },
    {
      "id": "A1342_S4",
      "rule": "equate sums",
      "premises": [
        "A1342_C4: a + b = c + d",
        "A1342_C8: a + b = L (1/a' + 1/b')",
        "A1342_C9: c + d = L (1/c' + 1/d')"
      ],
      "conclusions": [
        "A1342_C10: 1/a' + 1/b' = 1/c' + 1/d' = T",
        "A1342_C11: a + b = T L"
      ]
    },
    {
      "id": "A1342_S5",
      "rule": "distinctness preservation",
      "premises": [
        "A1342_C2: a, b, c, d pairwise distinct positive integers"
      ],
      "conclusions": [
        "A1342_C12: a', b', c', d' pairwise distinct (since a, b, c, d distinct, L fixed)"
      ]
    },
    {
      "id": "A1342_S6",
      "rule": "contradiction if any =1",
      "premises": [
        "A1342_C10: 1/a' + 1/b' = 1/c' + 1/d' = T",
        "A1342_C15: a', b', c', d' >= 2, pairwise distinct positive integers"
      ],
      "conclusions": [
        "A1342_C13: If a' = 1, then T >= 1 + 1/2 > 1, but max 1/c' + 1/d' <= 1/2 + 1/3 = 5/6 < 1, contradiction",
        "A1342_C14: None of a', b', c', d' = 1"
      ]
    },
    {
      "id": "A1342_S7",
      "rule": "minimum value",
      "premises": [
        "A1342_C14: None of a', b', c', d' = 1",
        "A1342_C12: a', b', c', d' pairwise distinct (since a, b, c, d distinct, L fixed)"
      ],
      "conclusions": [
        "A1342_C15: a', b', c', d' >= 2, pairwise distinct positive integers"
      ]
    },
    {
      "id": "A1342_S8",
      "rule": "distinctness limits on 2",
      "premises": [
        "A1342_C12: a', b', c', d' pairwise distinct (since a, b, c, d distinct, L fixed)",
        "A1342_C15: a', b', c', d' >= 2, pairwise distinct positive integers"
      ],
      "conclusions": [
        "A1342_C16: Cannot have two or more 2's (violates distinctness)"
      ]
    },
    {
      "id": "A1342_S9",
      "rule": "no 2 on both sides",
      "premises": [
        "A1342_C10: 1/a' + 1/b' = 1/c' + 1/d' = T",
        "A1342_C16: Cannot have two or more 2's (violates distinctness)"
      ],
      "conclusions": [
        "A1342_C17: Cannot have 2 on both sides (2 repeated, violates distinctness)",
        "A1342_C18: At most one 2 among a', b', c', d'"
      ]
    },
    {
      "id": "A1342_S10",
      "rule": "implication for pairs",
      "premises": [
        "A1342_C18: At most one 2 among a', b', c', d'"
      ],
      "conclusions": [
        "A1342_C19: At least one pair has both >= 3"
      ]
    },
    {
      "id": "A1342_S11",
      "rule": "max sum >=3",
      "premises": [
        "A1342_C15: a', b', c', d' >= 2, pairwise distinct positive integers",
        "A1342_C19: At least one pair has both >= 3"
      ],
      "conclusions": [
        "A1342_C20: Max sum with both >= 3: 1/3 + 1/4 = 7/12"
      ]
    },
    {
      "id": "A1342_S12",
      "rule": "equality to pair with 2",
      "premises": [
        "A1342_C20: Max sum with both >= 3: 1/3 + 1/4 = 7/12"
      ],
      "conclusions": [
        "A1342_C21: 7/12 = 1/2 + 1/12"
      ]
    },
    {
      "id": "A1342_S13",
      "rule": "check distinctness",
      "premises": [
        "A1342_C21: 7/12 = 1/2 + 1/12"
      ],
      "conclusions": [
        "A1342_C22: {2, 12, 3, 4} pairwise distinct, all >= 2"
      ]
    },
    {
      "id": "A1342_S14",
      "rule": "divisibility requirement",
      "premises": [
        "A1342_C6: a', b', c', d' positive integers (a | L, etc.)",
        "A1342_C22: {2, 12, 3, 4} pairwise distinct, all >= 2"
      ],
      "conclusions": [
        "A1342_C23: For T = 7/12, L divisible by lcm(2, 3, 4, 12) = 12"
      ]
    },
    {
      "id": "A1342_S15",
      "rule": "largest multiple",
      "premises": [
        "A1342_C3: L = lcm(a, b, c, d) < 1000",
        "A1342_C23: For T = 7/12, L divisible by lcm(2, 3, 4, 12) = 12"
      ],
      "conclusions": [
        "A1342_C24: Largest multiple of 12 < 1000: 996 = 12 * 83"
      ]
    },
    {
      "id": "A1342_S16",
      "rule": "compute sum",
      "premises": [
        "A1342_C11: a + b = T L",
        "A1342_C20: Max sum with both >= 3: 1/3 + 1/4 = 7/12",
        "A1342_C24: Largest multiple of 12 < 1000: 996 = 12 * 83"
      ],
      "conclusions": [
        "A1342_C25: (7/12) * 996 = 7 * 83 = 581"
      ]
    },
    {
      "id": "A1342_S17",
      "rule": "assign values",
      "premises": [
        "A1342_C7: a = L / a', b = L / b', c = L / c', d = L / d'",
        "A1342_C21: 7/12 = 1/2 + 1/12"
      ],
      "conclusions": [
        "A1342_C26: a = 996/3 = 332, b = 996/4 = 249, c = 996/2 = 498, d = 996/12 = 83"
      ]
    },
    {
      "id": "A1342_S18",
      "rule": "verify sums equal",
      "premises": [
        "A1342_C26: a = 996/3 = 332, b = 996/4 = 249, c = 996/2 = 498, d = 996/12 = 83"
      ],
      "conclusions": [
        "A1342_C27: 332 + 249 = 581 = 498 + 83"
      ]
    },
    {
      "id": "A1342_S19",
      "rule": "check distinctness",
      "premises": [
        "A1342_C26: a = 996/3 = 332, b = 996/4 = 249, c = 996/2 = 498, d = 996/12 = 83"
      ],
      "conclusions": [
        "A1342_C28: 83, 249, 332, 498 pairwise distinct positive integers"
      ]
    },
    {
      "id": "A1342_S20",
      "rule": "factorization",
      "premises": [
        "A1342_C26: a = 996/3 = 332, b = 996/4 = 249, c = 996/2 = 498, d = 996/12 = 83"
      ],
      "conclusions": [
        "A1342_C29: 83 prime, 249 = 3*83, 332 = 2^2*83, 498 = 2*3*83"
      ]
    },
    {
      "id": "A1342_S21",
      "rule": "compute lcm",
      "premises": [
        "A1342_C29: 83 prime, 249 = 3*83, 332 = 2^2*83, 498 = 2*3*83"
      ],
      "conclusions": [
        "A1342_C30: lcm(83, 249, 332, 498) = 2^2 * 3 * 83 = 996 < 1000"
      ]
    },
    {
      "id": "A1342_S22",
      "rule": "next max sum >=3",
      "premises": [
        "A1342_C15: a', b', c', d' >= 2, pairwise distinct positive integers",
        "A1342_C19: At least one pair has both >= 3",
        "A1342_C20: Max sum with both >= 3: 1/3 + 1/4 = 7/12"
      ],
      "conclusions": [
        "A1342_C31: Next T = 1/3 + 1/5 = 8/15"
      ]
    },
    {
      "id": "A1342_S23",
      "rule": "equality to pair with 2",
      "premises": [
        "A1342_C31: Next T = 1/3 + 1/5 = 8/15"
      ],
      "conclusions": [
        "A1342_C32: 8/15 = 1/2 + 1/30"
      ]
    },
    {
      "id": "A1342_S24",
      "rule": "check distinctness",
      "premises": [
        "A1342_C32: 8/15 = 1/2 + 1/30"
      ],
      "conclusions": [
        "A1342_C33: {2, 30, 3, 5} pairwise distinct, all >= 2"
      ]
    },
    {
      "id": "A1342_S25",
      "rule": "divisibility requirement",
      "premises": [
        "A1342_C6: a', b', c', d' positive integers (a | L, etc.)",
        "A1342_C33: {2, 30, 3, 5} pairwise distinct, all >= 2"
      ],
      "conclusions": [
        "A1342_C34: lcm(2, 3, 5, 30) = 30"
      ]
    },
    {
      "id": "A1342_S26",
      "rule": "largest multiple",
      "premises": [
        "A1342_C3: L = lcm(a, b, c, d) < 1000",
        "A1342_C34: lcm(2, 3, 5, 30) = 30"
      ],
      "conclusions": [
        "A1342_C35: Largest multiple of 30 < 1000: 990"
      ]
    },
    {
      "id": "A1342_S27",
      "rule": "compute sum and compare",
      "premises": [
        "A1342_C11: a + b = T L",
        "A1342_C31: Next T = 1/3 + 1/5 = 8/15",
        "A1342_C35: Largest multiple of 30 < 1000: 990",
        "A1342_C25: (7/12) * 996 = 7 * 83 = 581"
      ],
      "conclusions": [
        "A1342_C36: (8/15) * 990 = 8 * 66 = 528 < 581"
      ]
    },
    {
      "id": "A1342_S28",
      "rule": "conclude maximum",
      "premises": [
        "A1342_C25: (7/12) * 996 = 7 * 83 = 581",
        "A1342_C27: 332 + 249 = 581 = 498 + 83",
        "A1342_C28: 83, 249, 332, 498 pairwise distinct positive integers",
        "A1342_C30: lcm(83, 249, 332, 498) = 2^2 * 3 * 83 = 996 < 1000",
        "A1342_C36: (8/15) * 990 = 8 * 66 = 528 < 581"
      ],
      "conclusions": [
        "A1342_C37: maximum a + b = 581"
      ]
    },
    {
      "id": "A1362_S1",
      "rule": "problem setup",
      "premises": [
        "A1362_C1: P(π^{20}(20)=20 ∧ π^{21}(21)=21) = a/b with gcd(a,b)=1; compute 100a + b"
      ],
      "conclusions": [
        "A1362_C2: π is a uniformly random permutation of {1,2,...,100}"
      ]
    },
    {
      "id": "A1362_S2",
      "rule": "definition of iteration and order",
      "premises": [
        "A1362_C2: π is a uniformly random permutation of {1,2,...,100}"
      ],
      "conclusions": [
        "A1362_C3: π^{20}(20)=20 ⇔ ord_π(20) | 20",
        "A1362_C4: π^{21}(21)=21 ⇔ ord_π(21) | 21",
        "A1362_C5: ord_π(n) is the length of the cycle containing n"
      ]
    },
    {
      "id": "A1362_S3",
      "rule": "logical equivalence",
      "premises": [
        "A1362_C3: π^{20}(20)=20 ⇔ ord_π(20) | 20",
        "A1362_C4: π^{21}(21)=21 ⇔ ord_π(21) | 21"
      ],
      "conclusions": [
        "A1362_C6: P(π^{20}(20)=20 ∧ π^{21}(21)=21) = P(ord_π(20) | 20 ∧ ord_π(21) | 21)"
      ]
    },
    {
      "id": "A1362_S4",
      "rule": "cycle property",
      "premises": [
        "A1362_C5: ord_π(n) is the length of the cycle containing n"
      ],
      "conclusions": [
        "A1362_C7: If 20 and 21 in same cycle, then ord_π(20) = ord_π(21) = l ≥ 2"
      ]
    },
    {
      "id": "A1362_S5",
      "rule": "gcd computation",
      "premises": [
        "A1362_C2: π is a uniformly random permutation of {1,2,...,100}"
      ],
      "conclusions": [
        "A1362_C8: gcd(20,21) = 1"
      ]
    },
    {
      "id": "A1362_S6",
      "rule": "divisibility implication",
      "premises": [
        "A1362_C6: P(π^{20}(20)=20 ∧ π^{21}(21)=21) = P(ord_π(20) | 20 ∧ ord_π(21) | 21)",
        "A1362_C7: If 20 and 21 in same cycle, then ord_π(20) = ord_π(21) = l ≥ 2",
        "A1362_C8: gcd(20,21) = 1"
      ],
      "conclusions": [
        "A1362_C9: If ord_π(20) | 20 ∧ ord_π(21) | 21 and same cycle, then l | 1 so l=1, contradiction with l ≥ 2"
      ]
    },
    {
      "id": "A1362_S7",
      "rule": "proof by contradiction",
      "premises": [
        "A1362_C9: If ord_π(20) | 20 ∧ ord_π(21) | 21 and same cycle, then l | 1 so l=1, contradiction with l ≥ 2"
      ],
      "conclusions": [
        "A1362_C10: ord_π(20) | 20 ∧ ord_π(21) | 21 implies 20 and 21 in distinct cycles"
      ]
    },
    {
      "id": "A1362_S8",
      "rule": "enumeration of divisors",
      "premises": [
        "A1362_C2: π is a uniformly random permutation of {1,2,...,100}"
      ],
      "conclusions": [
        "A1362_C11: Divisors of 20: 1,2,4,5,10,20 (6 total)",
        "A1362_C12: Divisors of 21: 1,3,7,21 (4 total)"
      ]
    },
    {
      "id": "A1362_S9",
      "rule": "counting pairs",
      "premises": [
        "A1362_C11: Divisors of 20: 1,2,4,5,10,20 (6 total)",
        "A1362_C12: Divisors of 21: 1,3,7,21 (4 total)"
      ],
      "conclusions": [
        "A1362_C13: Possible pairs (a,b) with a | 20, b | 21: 6 × 4 = 24"
      ]
    },
    {
      "id": "A1362_S10",
      "rule": "bound on sum",
      "premises": [
        "A1362_C11: Divisors of 20: 1,2,4,5,10,20 (6 total)",
        "A1362_C12: Divisors of 21: 1,3,7,21 (4 total)"
      ],
      "conclusions": [
        "A1362_C14: For each such pair, a + b ≤ 20 + 21 = 41 ≤ 100"
      ]
    },
    {
      "id": "A1362_S11",
      "rule": "disjoint events",
      "premises": [
        "A1362_C10: ord_π(20) | 20 ∧ ord_π(21) | 21 implies 20 and 21 in distinct cycles",
        "A1362_C5: ord_π(n) is the length of the cycle containing n"
      ],
      "conclusions": [
        "A1362_C15: Events {ord_π(20)=a ∧ ord_π(21)=b} over a | 20, b | 21 are pairwise disjoint"
      ]
    },
    {
      "id": "A1362_S12",
      "rule": "additivity of probability",
      "premises": [
        "A1362_C15: Events {ord_π(20)=a ∧ ord_π(21)=b} over a | 20, b | 21 are pairwise disjoint"
      ],
      "conclusions": [
        "A1362_C16: P(ord_π(20) | 20 ∧ ord_π(21) | 21) = ∑_{a|20, b|21} P(ord_π(20)=a ∧ ord_π(21)=b)"
      ]
    },
    {
      "id": "A1362_S13",
      "rule": "permutation counting for cycles",
      "premises": [
        "A1362_C2: π is a uniformly random permutation of {1,2,...,100}",
        "A1362_C10: ord_π(20) | 20 ∧ ord_π(21) | 21 implies 20 and 21 in distinct cycles"
      ],
      "conclusions": [
        "A1362_C17: Number of permutations with ord_π(20)=a, ord_π(21)=b (distinct cycles, a+b≤100): binom(98}{a-1} (a-1)! × binom{99-a}{b-1} (b-1)! × (100-a-b)! = 98!"
      ]
    },
    {
      "id": "A1362_S14",
      "rule": "total count",
      "premises": [
        "A1362_C2: π is a uniformly random permutation of {1,2,...,100}"
      ],
      "conclusions": [
        "A1362_C18: Total permutations: 100!"
      ]
    },
    {
      "id": "A1362_S15",
      "rule": "probability computation",
      "premises": [
        "A1362_C17: Number of permutations with ord_π(20)=a, ord_π(21)=b (distinct cycles, a+b≤100): binom(98}{a-1} (a-1)! × binom{99-a}{b-1} (b-1)! × (100-a-b)! = 98!",
        "A1362_C18: Total permutations: 100!"
      ],
      "conclusions": [
        "A1362_C19: P(ord_π(20)=a ∧ ord_π(21)=b) = 98! / 100! = 1/(100 × 99)"
      ]
    },
    {
      "id": "A1362_S16",
      "rule": "summing probabilities",
      "premises": [
        "A1362_C16: P(ord_π(20) | 20 ∧ ord_π(21) | 21) = ∑_{a|20, b|21} P(ord_π(20)=a ∧ ord_π(21)=b)",
        "A1362_C13: Possible pairs (a,b) with a | 20, b | 21: 6 × 4 = 24",
        "A1362_C19: P(ord_π(20)=a ∧ ord_π(21)=b) = 98! / 100! = 1/(100 × 99)",
        "A1362_C14: For each such pair, a + b ≤ 20 + 21 = 41 ≤ 100"
      ],
      "conclusions": [
        "A1362_C20: P(ord_π(20) | 20 ∧ ord_π(21) | 21) = 24 / (100 × 99) = 24/9900"
      ]
    },
    {
      "id": "A1362_S17",
      "rule": "fraction simplification",
      "premises": [
        "A1362_C20: P(ord_π(20) | 20 ∧ ord_π(21) | 21) = 24 / (100 × 99) = 24/9900"
      ],
      "conclusions": [
        "A1362_C21: 24/9900 = 2/825 (divide numerator and denominator by 12)"
      ]
    },
    {
      "id": "A1362_S18",
      "rule": "final computation",
      "premises": [
        "A1362_C21: 24/9900 = 2/825 (divide numerator and denominator by 12)",
        "A1362_C1: P(π^{20}(20)=20 ∧ π^{21}(21)=21) = a/b with gcd(a,b)=1; compute 100a + b"
      ],
      "conclusions": [
        "A1362_C22: a=2, b=825, 100a + b = 1025"
      ]
    },
    {
      "id": "B1785_S1",
      "rule": "problem connection",
      "premises": [
        "B1785_C1: P(π^{20}((lcm(2, 3, 5, 30) - 10))=(lcm(2, 3, 5, 30) - 10) ∧ π^{21}(21)=21) = a/b with gcd(a,b)=1; compute 100a + b",
        "A1342_C34: lcm(2, 3, 5, 30) = 30"
      ],
      "conclusions": [
        "A1362_C1: P(π^{20}(20)=20 ∧ π^{21}(21)=21) = a/b with gcd(a,b)=1; compute 100a + b"
      ]
    }
  ]
}