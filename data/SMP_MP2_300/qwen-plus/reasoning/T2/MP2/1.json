{
  "Problem_ID": 1,
  "Chunk_Type": "T2",
  "Class_ID": "B1",
  "Multiple_Synthesis_Class": "MP2",
  "Sub_Class_ID": [
    {
      "A1358": "A1358_DG_2"
    },
    {
      "A974": "A974_DG_4"
    }
  ],
  "Synthesis_Trace": "DG-DG",
  "Synthesis_Status": "Continuable",
  "Math_Problem": "A jar contains 8 red balls and 2 blue balls. Every minute, a ball is randomly removed. The probability that there exists a time during this process where there are more blue balls than red balls in the jar can be expressed as $\\frac{a}{b}$ for relatively prime integers $a$ and $b$. Compute $100 a+b$. Instead of computing 100 times the numerator plus the denominator of the probability expressed in lowest terms, simply find $n$ equal to the greatest common divisor of that numerator and denominator plus 2004. The L shape made by adjoining three congruent squares can be subdivided into four smaller L shapes. Each of these can in turn be subdivided, and so forth. If we perform $n$ successive subdivisions, how many of the $4^{n}$ L's left at the end will be in the same orientation as the original one?",
  "Connecting_Sentence": [
    {
      "A1358": "Instead of computing 100 times the numerator plus the denominator of the probability expressed in lowest terms, simply find $n$ equal to the greatest common divisor of that numerator and denominator plus 2004."
    },
    {
      "A974": "None"
    }
  ],
  "Synthesised_By": [
    {
      "A1358": "A jar contains 8 red balls and 2 blue balls. Every minute, a ball is randomly removed. The probability that there exists a time during this process where there are more blue balls than red balls in the jar can be expressed as $\\frac{a}{b}$ for relatively prime integers $a$ and $b$. Compute $100 a+b$. Instead of computing 100 times the numerator plus the denominator of the probability expressed in lowest terms, simply find $n$ equal to the greatest common divisor of that numerator and denominator plus 2004."
    },
    {
      "A974": "The L shape made by adjoining three congruent squares can be subdivided into four smaller L shapes. Each of these can in turn be subdivided, and so forth. If we perform 2005 successive subdivisions, how many of the $4^{2005}$ L's left at the end will be in the same orientation as the original one?"
    }
  ],
  "Original_Problem": [
    {
      "A1358": "A jar contains 8 red balls and 2 blue balls. Every minute, a ball is randomly removed. The probability that there exists a time during this process where there are more blue balls than red balls in the jar can be expressed as $\\frac{a}{b}$ for relatively prime integers $a$ and $b$. Compute $100 a+b$."
    },
    {
      "A974": "The L shape made by adjoining three congruent squares can be subdivided into four smaller L shapes. Each of these can in turn be subdivided, and so forth. If we perform 2005 successive subdivisions, how many of the $4^{2005}$ L's left at the end will be in the same orientation as the original one?"
    }
  ],
  "Problem_Type": [
    {
      "A1358": [
        "Mathematics -> Applied Mathematics -> Statistics -> Probability -> Counting Methods -> Combinations"
      ]
    },
    {
      "A974": [
        "Mathematics -> Discrete Mathematics -> Combinatorics"
      ]
    }
  ],
  "Problem_Level": [
    {
      "A1358": "KbsdJames_Omni-MATH_4.375"
    },
    {
      "A974": "KbsdJames_Omni-MATH_4.25"
    }
  ],
  "Problem_Source": [
    {
      "A1358": "HMMT_2"
    },
    {
      "A974": "HMMT_2"
    }
  ],
  "Problem_Length": [
    {
      "A1358": 301
    },
    {
      "A974": 298
    }
  ],
  "Synthesised_Problem_Length": 806,
  "Ground_Truth": [
    {
      "A1358": "209"
    },
    {
      "A974": "4^{2004}+2^{2004}"
    }
  ],
  "Predicted_Answer": [
    {
      "A1358": "209"
    },
    {
      "A974": "4^{2004}+2^{2004}"
    }
  ],
  "Connecting_Point": [
    {
      "B1": {
        "2005": "(gcd(2,9) + 2004)"
      }
    }
  ],
  "Delta_Factor": [
    {
      "A1358": 0.95
    },
    {
      "A974": 0.24
    }
  ],
  "Delta_Value": [
    {
      "A1358": {
        "gcd(2,9)": "1"
      }
    },
    {
      "A974": {
        "d_1": "1"
      }
    }
  ],
  "Delta_Depth": [
    {
      "A1358": {
        "gcd(2,9)": 20
      }
    },
    {
      "A974": {
        "d_1": 11
      }
    }
  ],
  "Delta_Source": [
    {
      "A1358": "derived"
    },
    {
      "A974": "derived"
    }
  ],
  "Delta_Value_Order": [
    {
      "A1358": 2
    },
    {
      "A974": 4
    }
  ],
  "Delta_Variable_Names": [
    {
      "A1358": [
        "gcd"
      ]
    },
    {
      "A974": [
        "d"
      ]
    }
  ],
  "Delta_Socket": [
    {
      "A1358": {
        "1": 1.0
      }
    },
    {
      "A974": {
        "2005": 2005.0
      }
    }
  ],
  "Source_Delta_Socket": [
    {
      "A1358": "goal"
    },
    {
      "A974": "goal"
    }
  ],
  "Delta_Socket_Order": [
    {
      "A1358": 1
    },
    {
      "A974": 1
    }
  ],
  "Variable_Names": [
    {
      "A1358": [
        "b",
        "a"
      ]
    },
    {
      "A974": []
    }
  ],
  "Total_Claims": [
    {
      "A1358": 21
    },
    {
      "A974": 45
    }
  ],
  "Total_Delta": [
    {
      "A1358": 2
    },
    {
      "A974": 4
    }
  ],
  "Total_Delta_Socket": [
    {
      "A1358": 1
    },
    {
      "A974": 1
    }
  ],
  "Max_Delta_Factor": [
    {
      "A1358": 0.95
    },
    {
      "A974": 0.24
    }
  ],
  "Min_Delta_Factor": [
    {
      "A1358": 0.24
    },
    {
      "A974": 0.18
    }
  ],
  "Max_Delta_Depth": [
    {
      "A1358": 20
    },
    {
      "A974": 11
    }
  ],
  "Min_Delta_Depth": [
    {
      "A1358": 5
    },
    {
      "A974": 8
    }
  ],
  "Claims": [
    {
      "id": "A1358_C1",
      "type": "goal",
      "expr": "Compute 100a + b where P(E) = a/b with gcd(a,b)=1"
    },
    {
      "id": "A1358_C2",
      "type": "context",
      "expr": "8 red balls + 2 blue balls = 10 total balls"
    },
    {
      "id": "A1358_C3",
      "type": "context",
      "expr": "Uniform random removal order equivalent to uniform random permutation"
    },
    {
      "id": "A1358_C4",
      "type": "context",
      "expr": "E: ∃ t ∈ {7,8,9}, after t removals B_rem > R_rem"
    },
    {
      "id": "A1358_C5",
      "type": "derived",
      "expr": "I < J removal positions of blues, uniform over 1 ≤ I < J ≤ 10, P(each) = 1/45, binom(10,2)=45"
    },
    {
      "id": "A1358_C6",
      "type": "derived",
      "expr": "After t removals, B_rem = |{I,J} > t|"
    },
    {
      "id": "A1358_C7",
      "type": "derived",
      "expr": "R_rem = (10 - t) - B_rem"
    },
    {
      "id": "A1358_C8",
      "type": "derived",
      "expr": "B_rem > R_rem ⇔ 2 B_rem > 10 - t"
    },
    {
      "id": "A1358_C9",
      "type": "derived",
      "expr": "Possible only for t=7,8,9 (s=3,2,1) since B_rem ≤ 2 ⇒ 10-t < 4"
    },
    {
      "id": "A1358_C10",
      "type": "derived",
      "expr": "For t=9 (s=1): B_rem=1 ⇔ J=10, and 2>1"
    },
    {
      "id": "A1358_C11",
      "type": "derived",
      "expr": "For t=8 (s=2): B_rem=2 ⇔ I=9 ∧ J=10, and 4>2"
    },
    {
      "id": "A1358_C12",
      "type": "derived",
      "expr": "For t=7 (s=3): B_rem=2 ⇔ I ≥ 8 ∧ J ≥ 8, and 4>3"
    },
    {
      "id": "A1358_C13",
      "type": "derived",
      "expr": "E ⇔ (J=10) ∨ (I=9 ∧ J=10) ∨ (I ≥ 8 ∧ J ≥ 8)"
    },
    {
      "id": "A1358_C14",
      "type": "derived",
      "expr": "E ⇔ (J=10) ∨ (I ≥ 8 ∧ J ≥ 8)"
    },
    {
      "id": "A1358_C15",
      "type": "derived",
      "expr": "E ⇔ (J=10) ∨ (I=8 ∧ J=9)"
    },
    {
      "id": "A1358_C16",
      "type": "derived",
      "expr": "(J=10) ∧ (I=8 ∧ J=9) = false (disjoint)"
    },
    {
      "id": "A1358_C17",
      "type": "derived",
      "expr": "P(J=10) = 9/45 = 1/5"
    },
    {
      "id": "A1358_C18",
      "type": "derived",
      "expr": "P(I=8 ∧ J=9) = 1/45"
    },
    {
      "id": "A1358_C19",
      "type": "derived",
      "expr": "P(E) = 1/5 + 1/45 = 10/45 = 2/9"
    },
    {
      "id": "A1358_C20",
      "type": "derived",
      "expr": "a=2, b=9, gcd(2,9)=1"
    },
    {
      "id": "A1358_C21",
      "type": "final",
      "expr": "100a + b = 209"
    },
    {
      "id": "A974_C1",
      "type": "derived",
      "expr": "how many of the 4^{2005} L's left at the end will be in the same orientation as the original one after 2005 successive subdivisions"
    },
    {
      "id": "A974_C2",
      "type": "context",
      "expr": "a_0 = 1, b_0 = 0, c_0 = 0, d_0 = 0"
    },
    {
      "id": "A974_C3",
      "type": "context",
      "expr": "a_{n+1} = 2 a_n + b_n + d_n"
    },
    {
      "id": "A974_C4",
      "type": "context",
      "expr": "b_{n+1} = a_n + 2 b_n + c_n"
    },
    {
      "id": "A974_C5",
      "type": "context",
      "expr": "c_{n+1} = b_n + 2 c_n + d_n"
    },
    {
      "id": "A974_C6",
      "type": "context",
      "expr": "d_{n+1} = a_n + 2 d_n + c_n"
    },
    {
      "id": "A974_C7",
      "type": "context",
      "expr": "a_n + b_n + c_n + d_n = 4^n"
    },
    {
      "id": "A974_C8",
      "type": "derived",
      "expr": "a_1 = 2"
    },
    {
      "id": "A974_C9",
      "type": "derived",
      "expr": "b_1 = 1"
    },
    {
      "id": "A974_C10",
      "type": "derived",
      "expr": "c_1 = 0"
    },
    {
      "id": "A974_C11",
      "type": "derived",
      "expr": "d_1 = 1"
    },
    {
      "id": "A974_C12",
      "type": "derived",
      "expr": "a_n = 4^{n-1} + 2^{n-1} for n ≥ 1"
    },
    {
      "id": "A974_C13",
      "type": "derived",
      "expr": "b_n = 4^{n-1} for n ≥ 1"
    },
    {
      "id": "A974_C14",
      "type": "derived",
      "expr": "c_n = 4^{n-1} - 2^{n-1} for n ≥ 1"
    },
    {
      "id": "A974_C15",
      "type": "derived",
      "expr": "d_n = 4^{n-1} for n ≥ 1"
    },
    {
      "id": "A974_C16",
      "type": "derived",
      "expr": "a_1 = 4^0 + 2^0"
    },
    {
      "id": "A974_C17",
      "type": "derived",
      "expr": "b_1 = 4^0"
    },
    {
      "id": "A974_C18",
      "type": "derived",
      "expr": "c_1 = 4^0 - 2^0"
    },
    {
      "id": "A974_C19",
      "type": "derived",
      "expr": "d_1 = 4^0"
    },
    {
      "id": "A974_C20",
      "type": "derived",
      "expr": "a_k = 4^{k-1} + 2^{k-1}"
    },
    {
      "id": "A974_C21",
      "type": "derived",
      "expr": "b_k = 4^{k-1}"
    },
    {
      "id": "A974_C22",
      "type": "derived",
      "expr": "c_k = 4^{k-1} - 2^{k-1}"
    },
    {
      "id": "A974_C23",
      "type": "derived",
      "expr": "d_k = 4^{k-1}"
    },
    {
      "id": "A974_C24",
      "type": "derived",
      "expr": "a_{k+1} = 2 (4^{k-1} + 2^{k-1}) + 4^{k-1} + 4^{k-1}"
    },
    {
      "id": "A974_C25",
      "type": "derived",
      "expr": "a_{k+1} = 2 × 4^{k-1} + 2 × 2^{k-1} + 4^{k-1} + 4^{k-1}"
    },
    {
      "id": "A974_C26",
      "type": "derived",
      "expr": "a_{k+1} = 4 × 4^{k-1} + 2^k"
    },
    {
      "id": "A974_C27",
      "type": "derived",
      "expr": "a_{k+1} = 4^k + 2^k"
    },
    {
      "id": "A974_C28",
      "type": "derived",
      "expr": "a_{k+1} = 4^{(k+1)-1} + 2^{(k+1)-1}"
    },
    {
      "id": "A974_C29",
      "type": "derived",
      "expr": "b_{k+1} = (4^{k-1} + 2^{k-1}) + 2 × 4^{k-1} + (4^{k-1} - 2^{k-1})"
    },
    {
      "id": "A974_C30",
      "type": "derived",
      "expr": "b_{k+1} = 4^{k-1} + 2 × 4^{k-1} + 4^{k-1} + 2^{k-1} - 2^{k-1}"
    },
    {
      "id": "A974_C31",
      "type": "derived",
      "expr": "b_{k+1} = 4 × 4^{k-1}"
    },
    {
      "id": "A974_C32",
      "type": "derived",
      "expr": "b_{k+1} = 4^k"
    },
    {
      "id": "A974_C33",
      "type": "derived",
      "expr": "b_{k+1} = 4^{(k+1)-1}"
    },
    {
      "id": "A974_C34",
      "type": "derived",
      "expr": "c_{k+1} = 4^{k-1} + 2 × (4^{k-1} - 2^{k-1}) + 4^{k-1}"
    },
    {
      "id": "A974_C35",
      "type": "derived",
      "expr": "c_{k+1} = 4^{k-1} + 2 × 4^{k-1} - 2 × 2^{k-1} + 4^{k-1}"
    },
    {
      "id": "A974_C36",
      "type": "derived",
      "expr": "c_{k+1} = 4 × 4^{k-1} - 2^k"
    },
    {
      "id": "A974_C37",
      "type": "derived",
      "expr": "c_{k+1} = 4^k - 2^k"
    },
    {
      "id": "A974_C38",
      "type": "derived",
      "expr": "c_{k+1} = 4^{(k+1)-1} - 2^{(k+1)-1}"
    },
    {
      "id": "A974_C39",
      "type": "derived",
      "expr": "d_{k+1} = (4^{k-1} + 2^{k-1}) + 2 × 4^{k-1} + (4^{k-1} - 2^{k-1})"
    },
    {
      "id": "A974_C40",
      "type": "derived",
      "expr": "d_{k+1} = 4^{k-1} + 2 × 4^{k-1} + 4^{k-1} + 2^{k-1} - 2^{k-1}"
    },
    {
      "id": "A974_C41",
      "type": "derived",
      "expr": "d_{k+1} = 4 × 4^{k-1}"
    },
    {
      "id": "A974_C42",
      "type": "derived",
      "expr": "d_{k+1} = 4^k"
    },
    {
      "id": "A974_C43",
      "type": "derived",
      "expr": "d_{k+1} = 4^{(k+1)-1}"
    },
    {
      "id": "A974_C44",
      "type": "derived",
      "expr": "induction step holds: closed form for n = k+1 follows from n = k"
    },
    {
      "id": "A974_C45",
      "type": "final",
      "expr": "a_{2005} = 4^{2004} + 2^{2004}"
    },
    {
      "id": "B1_C1",
      "type": "goal",
      "expr": "how many of the 4^{2005} L's left at the end will be in the same orientation as the original one after (gcd(2,9) + 2004) successive subdivisions"
    }
  ],
  "Steps": [
    {
      "id": "A1358_S1",
      "rule": "problem setup",
      "premises": [
        "A1358_C1: Compute 100a + b where P(E) = a/b with gcd(a,b)=1"
      ],
      "conclusions": [
        "A1358_C2: 8 red balls + 2 blue balls = 10 total balls",
        "A1358_C3: Uniform random removal order equivalent to uniform random permutation",
        "A1358_C4: E: ∃ t ∈ {7,8,9}, after t removals B_rem > R_rem"
      ]
    },
    {
      "id": "A1358_S2",
      "rule": "modeling blue positions",
      "premises": [
        "A1358_C2: 8 red balls + 2 blue balls = 10 total balls",
        "A1358_C3: Uniform random removal order equivalent to uniform random permutation"
      ],
      "conclusions": [
        "A1358_C5: I < J removal positions of blues, uniform over 1 ≤ I < J ≤ 10, P(each) = 1/45, binom(10,2)=45"
      ]
    },
    {
      "id": "A1358_S3",
      "rule": "definition of remaining blues",
      "premises": [
        "A1358_C3: Uniform random removal order equivalent to uniform random permutation",
        "A1358_C5: I < J removal positions of blues, uniform over 1 ≤ I < J ≤ 10, P(each) = 1/45, binom(10,2)=45"
      ],
      "conclusions": [
        "A1358_C6: After t removals, B_rem = |{I,J} > t|"
      ]
    },
    {
      "id": "A1358_S4",
      "rule": "relation reds and total remaining",
      "premises": [
        "A1358_C2: 8 red balls + 2 blue balls = 10 total balls",
        "A1358_C6: After t removals, B_rem = |{I,J} > t|"
      ],
      "conclusions": [
        "A1358_C7: R_rem = (10 - t) - B_rem"
      ]
    },
    {
      "id": "A1358_S5",
      "rule": "inequality for condition",
      "premises": [
        "A1358_C7: R_rem = (10 - t) - B_rem"
      ],
      "conclusions": [
        "A1358_C8: B_rem > R_rem ⇔ 2 B_rem > 10 - t"
      ]
    },
    {
      "id": "A1358_S6",
      "rule": "feasibility of s",
      "premises": [
        "A1358_C2: 8 red balls + 2 blue balls = 10 total balls",
        "A1358_C8: B_rem > R_rem ⇔ 2 B_rem > 10 - t"
      ],
      "conclusions": [
        "A1358_C9: Possible only for t=7,8,9 (s=3,2,1) since B_rem ≤ 2 ⇒ 10-t < 4"
      ]
    },
    {
      "id": "A1358_S7",
      "rule": "condition for s=1",
      "premises": [
        "A1358_C6: After t removals, B_rem = |{I,J} > t|",
        "A1358_C8: B_rem > R_rem ⇔ 2 B_rem > 10 - t",
        "A1358_C9: Possible only for t=7,8,9 (s=3,2,1) since B_rem ≤ 2 ⇒ 10-t < 4"
      ],
      "conclusions": [
        "A1358_C10: For t=9 (s=1): B_rem=1 ⇔ J=10, and 2>1"
      ]
    },
    {
      "id": "A1358_S8",
      "rule": "condition for s=2",
      "premises": [
        "A1358_C6: After t removals, B_rem = |{I,J} > t|",
        "A1358_C8: B_rem > R_rem ⇔ 2 B_rem > 10 - t",
        "A1358_C9: Possible only for t=7,8,9 (s=3,2,1) since B_rem ≤ 2 ⇒ 10-t < 4"
      ],
      "conclusions": [
        "A1358_C11: For t=8 (s=2): B_rem=2 ⇔ I=9 ∧ J=10, and 4>2"
      ]
    },
    {
      "id": "A1358_S9",
      "rule": "condition for s=3",
      "premises": [
        "A1358_C6: After t removals, B_rem = |{I,J} > t|",
        "A1358_C8: B_rem > R_rem ⇔ 2 B_rem > 10 - t",
        "A1358_C9: Possible only for t=7,8,9 (s=3,2,1) since B_rem ≤ 2 ⇒ 10-t < 4"
      ],
      "conclusions": [
        "A1358_C12: For t=7 (s=3): B_rem=2 ⇔ I ≥ 8 ∧ J ≥ 8, and 4>3"
      ]
    },
    {
      "id": "A1358_S10",
      "rule": "union of conditions",
      "premises": [
        "A1358_C4: E: ∃ t ∈ {7,8,9}, after t removals B_rem > R_rem",
        "A1358_C10: For t=9 (s=1): B_rem=1 ⇔ J=10, and 2>1",
        "A1358_C11: For t=8 (s=2): B_rem=2 ⇔ I=9 ∧ J=10, and 4>2",
        "A1358_C12: For t=7 (s=3): B_rem=2 ⇔ I ≥ 8 ∧ J ≥ 8, and 4>3"
      ],
      "conclusions": [
        "A1358_C13: E ⇔ (J=10) ∨ (I=9 ∧ J=10) ∨ (I ≥ 8 ∧ J ≥ 8)"
      ]
    },
    {
      "id": "A1358_S11",
      "rule": "logical simplification",
      "premises": [
        "A1358_C13: E ⇔ (J=10) ∨ (I=9 ∧ J=10) ∨ (I ≥ 8 ∧ J ≥ 8)"
      ],
      "conclusions": [
        "A1358_C14: E ⇔ (J=10) ∨ (I ≥ 8 ∧ J ≥ 8)"
      ]
    },
    {
      "id": "A1358_S12",
      "rule": "case analysis for non-overlap",
      "premises": [
        "A1358_C5: I < J removal positions of blues, uniform over 1 ≤ I < J ≤ 10, P(each) = 1/45, binom(10,2)=45",
        "A1358_C14: E ⇔ (J=10) ∨ (I ≥ 8 ∧ J ≥ 8)"
      ],
      "conclusions": [
        "A1358_C15: E ⇔ (J=10) ∨ (I=8 ∧ J=9)"
      ]
    },
    {
      "id": "A1358_S13",
      "rule": "disjointness check",
      "premises": [
        "A1358_C15: E ⇔ (J=10) ∨ (I=8 ∧ J=9)"
      ],
      "conclusions": [
        "A1358_C16: (J=10) ∧ (I=8 ∧ J=9) = false (disjoint)"
      ]
    },
    {
      "id": "A1358_S14",
      "rule": "counting pairs for J=10",
      "premises": [
        "A1358_C5: I < J removal positions of blues, uniform over 1 ≤ I < J ≤ 10, P(each) = 1/45, binom(10,2)=45"
      ],
      "conclusions": [
        "A1358_C17: P(J=10) = 9/45 = 1/5"
      ]
    },
    {
      "id": "A1358_S15",
      "rule": "probability of specific pair",
      "premises": [
        "A1358_C5: I < J removal positions of blues, uniform over 1 ≤ I < J ≤ 10, P(each) = 1/45, binom(10,2)=45"
      ],
      "conclusions": [
        "A1358_C18: P(I=8 ∧ J=9) = 1/45"
      ]
    },
    {
      "id": "A1358_S16",
      "rule": "addition of probabilities",
      "premises": [
        "A1358_C16: (J=10) ∧ (I=8 ∧ J=9) = false (disjoint)",
        "A1358_C17: P(J=10) = 9/45 = 1/5",
        "A1358_C18: P(I=8 ∧ J=9) = 1/45"
      ],
      "conclusions": [
        "A1358_C19: P(E) = 1/5 + 1/45 = 10/45 = 2/9"
      ]
    },
    {
      "id": "A1358_S17",
      "rule": "identify a and b",
      "premises": [
        "A1358_C19: P(E) = 1/5 + 1/45 = 10/45 = 2/9"
      ],
      "conclusions": [
        "A1358_C20: a=2, b=9, gcd(2,9)=1"
      ]
    },
    {
      "id": "A1358_S18",
      "rule": "compute linear combination",
      "premises": [
        "A1358_C20: a=2, b=9, gcd(2,9)=1"
      ],
      "conclusions": [
        "A1358_C21: 100a + b = 209"
      ]
    },
    {
      "id": "A974_S1",
      "rule": "problem setup",
      "premises": [
        "A974_C1: how many of the 4^{2005} L's left at the end will be in the same orientation as the original one after 2005 successive subdivisions"
      ],
      "conclusions": [
        "A974_C2: a_0 = 1, b_0 = 0, c_0 = 0, d_0 = 0",
        "A974_C3: a_{n+1} = 2 a_n + b_n + d_n",
        "A974_C4: b_{n+1} = a_n + 2 b_n + c_n",
        "A974_C5: c_{n+1} = b_n + 2 c_n + d_n",
        "A974_C6: d_{n+1} = a_n + 2 d_n + c_n",
        "A974_C7: a_n + b_n + c_n + d_n = 4^n"
      ]
    },
    {
      "id": "A974_S2",
      "rule": "apply recurrence at n=0",
      "premises": [
        "A974_C2: a_0 = 1, b_0 = 0, c_0 = 0, d_0 = 0",
        "A974_C3: a_{n+1} = 2 a_n + b_n + d_n"
      ],
      "conclusions": [
        "A974_C8: a_1 = 2"
      ]
    },
    {
      "id": "A974_S3",
      "rule": "apply recurrence at n=0",
      "premises": [
        "A974_C2: a_0 = 1, b_0 = 0, c_0 = 0, d_0 = 0",
        "A974_C4: b_{n+1} = a_n + 2 b_n + c_n"
      ],
      "conclusions": [
        "A974_C9: b_1 = 1"
      ]
    },
    {
      "id": "A974_S4",
      "rule": "apply recurrence at n=0",
      "premises": [
        "A974_C2: a_0 = 1, b_0 = 0, c_0 = 0, d_0 = 0",
        "A974_C5: c_{n+1} = b_n + 2 c_n + d_n"
      ],
      "conclusions": [
        "A974_C10: c_1 = 0"
      ]
    },
    {
      "id": "A974_S5",
      "rule": "apply recurrence at n=0",
      "premises": [
        "A974_C2: a_0 = 1, b_0 = 0, c_0 = 0, d_0 = 0",
        "A974_C6: d_{n+1} = a_n + 2 d_n + c_n"
      ],
      "conclusions": [
        "A974_C11: d_1 = 1"
      ]
    },
    {
      "id": "A974_S6",
      "rule": "base case verification for a",
      "premises": [
        "A974_C8: a_1 = 2"
      ],
      "conclusions": [
        "A974_C16: a_1 = 4^0 + 2^0"
      ]
    },
    {
      "id": "A974_S7",
      "rule": "base case verification for b",
      "premises": [
        "A974_C9: b_1 = 1"
      ],
      "conclusions": [
        "A974_C17: b_1 = 4^0"
      ]
    },
    {
      "id": "A974_S8",
      "rule": "base case verification for c",
      "premises": [
        "A974_C10: c_1 = 0"
      ],
      "conclusions": [
        "A974_C18: c_1 = 4^0 - 2^0"
      ]
    },
    {
      "id": "A974_S9",
      "rule": "base case verification for d",
      "premises": [
        "A974_C11: d_1 = 1"
      ],
      "conclusions": [
        "A974_C19: d_1 = 4^0"
      ]
    },
    {
      "id": "A974_S10",
      "rule": "induction hypothesis assumption",
      "premises": [],
      "conclusions": [
        "A974_C20: a_k = 4^{k-1} + 2^{k-1}",
        "A974_C21: b_k = 4^{k-1}",
        "A974_C22: c_k = 4^{k-1} - 2^{k-1}",
        "A974_C23: d_k = 4^{k-1}"
      ]
    },
    {
      "id": "A974_S11",
      "rule": "substitute IH into recurrence",
      "premises": [
        "A974_C3: a_{n+1} = 2 a_n + b_n + d_n",
        "A974_C20: a_k = 4^{k-1} + 2^{k-1}",
        "A974_C21: b_k = 4^{k-1}",
        "A974_C23: d_k = 4^{k-1}"
      ],
      "conclusions": [
        "A974_C24: a_{k+1} = 2 (4^{k-1} + 2^{k-1}) + 4^{k-1} + 4^{k-1}"
      ]
    },
    {
      "id": "A974_S12",
      "rule": "algebraic expansion",
      "premises": [
        "A974_C24: a_{k+1} = 2 (4^{k-1} + 2^{k-1}) + 4^{k-1} + 4^{k-1}"
      ],
      "conclusions": [
        "A974_C25: a_{k+1} = 2 × 4^{k-1} + 2 × 2^{k-1} + 4^{k-1} + 4^{k-1}"
      ]
    },
    {
      "id": "A974_S13",
      "rule": "term grouping",
      "premises": [
        "A974_C25: a_{k+1} = 2 × 4^{k-1} + 2 × 2^{k-1} + 4^{k-1} + 4^{k-1}"
      ],
      "conclusions": [
        "A974_C26: a_{k+1} = 4 × 4^{k-1} + 2^k"
      ]
    },
    {
      "id": "A974_S14",
      "rule": "simplify exponents",
      "premises": [
        "A974_C26: a_{k+1} = 4 × 4^{k-1} + 2^k"
      ],
      "conclusions": [
        "A974_C27: a_{k+1} = 4^k + 2^k"
      ]
    },
    {
      "id": "A974_S15",
      "rule": "match closed form",
      "premises": [
        "A974_C27: a_{k+1} = 4^k + 2^k"
      ],
      "conclusions": [
        "A974_C28: a_{k+1} = 4^{(k+1)-1} + 2^{(k+1)-1}"
      ]
    },
    {
      "id": "A974_S16",
      "rule": "substitute IH into recurrence",
      "premises": [
        "A974_C4: b_{n+1} = a_n + 2 b_n + c_n",
        "A974_C20: a_k = 4^{k-1} + 2^{k-1}",
        "A974_C21: b_k = 4^{k-1}",
        "A974_C22: c_k = 4^{k-1} - 2^{k-1}"
      ],
      "conclusions": [
        "A974_C29: b_{k+1} = (4^{k-1} + 2^{k-1}) + 2 × 4^{k-1} + (4^{k-1} - 2^{k-1})"
      ]
    },
    {
      "id": "A974_S17",
      "rule": "algebraic expansion",
      "premises": [
        "A974_C29: b_{k+1} = (4^{k-1} + 2^{k-1}) + 2 × 4^{k-1} + (4^{k-1} - 2^{k-1})"
      ],
      "conclusions": [
        "A974_C30: b_{k+1} = 4^{k-1} + 2 × 4^{k-1} + 4^{k-1} + 2^{k-1} - 2^{k-1}"
      ]
    },
    {
      "id": "A974_S18",
      "rule": "term simplification",
      "premises": [
        "A974_C30: b_{k+1} = 4^{k-1} + 2 × 4^{k-1} + 4^{k-1} + 2^{k-1} - 2^{k-1}"
      ],
      "conclusions": [
        "A974_C31: b_{k+1} = 4 × 4^{k-1}"
      ]
    },
    {
      "id": "A974_S19",
      "rule": "simplify exponents",
      "premises": [
        "A974_C31: b_{k+1} = 4 × 4^{k-1}"
      ],
      "conclusions": [
        "A974_C32: b_{k+1} = 4^k"
      ]
    },
    {
      "id": "A974_S20",
      "rule": "match closed form",
      "premises": [
        "A974_C32: b_{k+1} = 4^k"
      ],
      "conclusions": [
        "A974_C33: b_{k+1} = 4^{(k+1)-1}"
      ]
    },
    {
      "id": "A974_S21",
      "rule": "substitute IH into recurrence",
      "premises": [
        "A974_C5: c_{n+1} = b_n + 2 c_n + d_n",
        "A974_C21: b_k = 4^{k-1}",
        "A974_C22: c_k = 4^{k-1} - 2^{k-1}",
        "A974_C23: d_k = 4^{k-1}"
      ],
      "conclusions": [
        "A974_C34: c_{k+1} = 4^{k-1} + 2 × (4^{k-1} - 2^{k-1}) + 4^{k-1}"
      ]
    },
    {
      "id": "A974_S22",
      "rule": "algebraic expansion",
      "premises": [
        "A974_C34: c_{k+1} = 4^{k-1} + 2 × (4^{k-1} - 2^{k-1}) + 4^{k-1}"
      ],
      "conclusions": [
        "A974_C35: c_{k+1} = 4^{k-1} + 2 × 4^{k-1} - 2 × 2^{k-1} + 4^{k-1}"
      ]
    },
    {
      "id": "A974_S23",
      "rule": "term grouping",
      "premises": [
        "A974_C35: c_{k+1} = 4^{k-1} + 2 × 4^{k-1} - 2 × 2^{k-1} + 4^{k-1}"
      ],
      "conclusions": [
        "A974_C36: c_{k+1} = 4 × 4^{k-1} - 2^k"
      ]
    },
    {
      "id": "A974_S24",
      "rule": "simplify exponents",
      "premises": [
        "A974_C36: c_{k+1} = 4 × 4^{k-1} - 2^k"
      ],
      "conclusions": [
        "A974_C37: c_{k+1} = 4^k - 2^k"
      ]
    },
    {
      "id": "A974_S25",
      "rule": "match closed form",
      "premises": [
        "A974_C37: c_{k+1} = 4^k - 2^k"
      ],
      "conclusions": [
        "A974_C38: c_{k+1} = 4^{(k+1)-1} - 2^{(k+1)-1}"
      ]
    },
    {
      "id": "A974_S26",
      "rule": "substitute IH into recurrence",
      "premises": [
        "A974_C6: d_{n+1} = a_n + 2 d_n + c_n",
        "A974_C20: a_k = 4^{k-1} + 2^{k-1}",
        "A974_C22: c_k = 4^{k-1} - 2^{k-1}",
        "A974_C23: d_k = 4^{k-1}"
      ],
      "conclusions": [
        "A974_C39: d_{k+1} = (4^{k-1} + 2^{k-1}) + 2 × 4^{k-1} + (4^{k-1} - 2^{k-1})"
      ]
    },
    {
      "id": "A974_S27",
      "rule": "algebraic expansion",
      "premises": [
        "A974_C39: d_{k+1} = (4^{k-1} + 2^{k-1}) + 2 × 4^{k-1} + (4^{k-1} - 2^{k-1})"
      ],
      "conclusions": [
        "A974_C40: d_{k+1} = 4^{k-1} + 2 × 4^{k-1} + 4^{k-1} + 2^{k-1} - 2^{k-1}"
      ]
    },
    {
      "id": "A974_S28",
      "rule": "term simplification",
      "premises": [
        "A974_C40: d_{k+1} = 4^{k-1} + 2 × 4^{k-1} + 4^{k-1} + 2^{k-1} - 2^{k-1}"
      ],
      "conclusions": [
        "A974_C41: d_{k+1} = 4 × 4^{k-1}"
      ]
    },
    {
      "id": "A974_S29",
      "rule": "simplify exponents",
      "premises": [
        "A974_C41: d_{k+1} = 4 × 4^{k-1}"
      ],
      "conclusions": [
        "A974_C42: d_{k+1} = 4^k"
      ]
    },
    {
      "id": "A974_S30",
      "rule": "match closed form",
      "premises": [
        "A974_C42: d_{k+1} = 4^k"
      ],
      "conclusions": [
        "A974_C43: d_{k+1} = 4^{(k+1)-1}"
      ]
    },
    {
      "id": "A974_S31",
      "rule": "induction step verification",
      "premises": [
        "A974_C28: a_{k+1} = 4^{(k+1)-1} + 2^{(k+1)-1}",
        "A974_C33: b_{k+1} = 4^{(k+1)-1}",
        "A974_C38: c_{k+1} = 4^{(k+1)-1} - 2^{(k+1)-1}",
        "A974_C43: d_{k+1} = 4^{(k+1)-1}"
      ],
      "conclusions": [
        "A974_C44: induction step holds: closed form for n = k+1 follows from n = k"
      ]
    },
    {
      "id": "A974_S32",
      "rule": "mathematical induction",
      "premises": [
        "A974_C16: a_1 = 4^0 + 2^0",
        "A974_C17: b_1 = 4^0",
        "A974_C18: c_1 = 4^0 - 2^0",
        "A974_C19: d_1 = 4^0",
        "A974_C44: induction step holds: closed form for n = k+1 follows from n = k"
      ],
      "conclusions": [
        "A974_C12: a_n = 4^{n-1} + 2^{n-1} for n ≥ 1",
        "A974_C13: b_n = 4^{n-1} for n ≥ 1",
        "A974_C14: c_n = 4^{n-1} - 2^{n-1} for n ≥ 1",
        "A974_C15: d_n = 4^{n-1} for n ≥ 1"
      ]
    },
    {
      "id": "A974_S33",
      "rule": "specialize to n=2005",
      "premises": [
        "A974_C12: a_n = 4^{n-1} + 2^{n-1} for n ≥ 1"
      ],
      "conclusions": [
        "A974_C45: a_{2005} = 4^{2004} + 2^{2004}"
      ]
    },
    {
      "id": "B1_S1",
      "rule": "problem connection",
      "premises": [
        "B1_C1: how many of the 4^{2005} L's left at the end will be in the same orientation as the original one after (gcd(2,9) + 2004) successive subdivisions",
        "A1358_C20: a=2, b=9, gcd(2,9)=1"
      ],
      "conclusions": [
        "A974_C1: how many of the 4^{2005} L's left at the end will be in the same orientation as the original one after 2005 successive subdivisions"
      ]
    }
  ]
}