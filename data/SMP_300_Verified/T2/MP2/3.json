{
  "Chunk_Type": "T2",
  "Claims": [
    {
      "expr": "N = |{π ∈ S_8 | π(1) ∉ {1,8} ∧ π(8) ∉ {1,8}}|",
      "id": "A1118_C1",
      "type": "goal"
    },
    {
      "expr": "Let A = {2,3,4,5,6,7}",
      "id": "A1118_C2",
      "type": "context"
    },
    {
      "expr": "|A| = 6",
      "id": "A1118_C3",
      "type": "derived"
    },
    {
      "expr": "π(1) ∈ A",
      "id": "A1118_C4",
      "type": "derived"
    },
    {
      "expr": "Number of choices for π(1) = 6",
      "id": "A1118_C5",
      "type": "derived"
    },
    {
      "expr": "Remaining columns after π(1): B = {1,2,3,4,5,6,7,8} \\ {π(1)}, |B| = 7",
      "id": "A1118_C6",
      "type": "derived"
    },
    {
      "expr": "Allowed columns for π(8): A ∩ B = A \\ {π(1)}",
      "id": "A1118_C7",
      "type": "derived"
    },
    {
      "expr": "|A \\ {π(1)}| = 5",
      "id": "A1118_C8",
      "type": "derived"
    },
    {
      "expr": "Number of choices for π(8) given π(1) = 5",
      "id": "A1118_C9",
      "type": "derived"
    },
    {
      "expr": "Remaining rows R = {2,3,4,5,6,7}, |R| = 6",
      "id": "A1118_C10",
      "type": "context"
    },
    {
      "expr": "No column restrictions for rows in R",
      "id": "A1118_C11",
      "type": "context"
    },
    {
      "expr": "Remaining columns after π(1) and π(8): C = B \\ {π(8)}, |C| = 6",
      "id": "A1118_C12",
      "type": "derived"
    },
    {
      "expr": "Assignments for R to C: any bijection, number = 6!",
      "id": "A1118_C13",
      "type": "derived"
    },
    {
      "expr": "N = 6 × 5 × 6!",
      "id": "A1118_C14",
      "type": "derived"
    },
    {
      "expr": "6 × 5 = 30",
      "id": "A1118_C15",
      "type": "derived"
    },
    {
      "expr": "6! = 720",
      "id": "A1118_C16",
      "type": "derived"
    },
    {
      "expr": "N = 30 × 720 = 21600",
      "id": "A1118_C17",
      "type": "final"
    },
    {
      "expr": "P = number of Hamiltonian paths on 3×24 grid starting at (2,1)",
      "id": "A1140_C1",
      "type": "derived"
    },
    {
      "expr": "Grid points: (i,j) for 1 ≤ i ≤ 3, 1 ≤ j ≤ 24",
      "id": "A1140_C2",
      "type": "context"
    },
    {
      "expr": "Moves to adjacent points: |i-i'| + |j-j'| = 1",
      "id": "A1140_C3",
      "type": "context"
    },
    {
      "expr": "Path visits every point exactly once",
      "id": "A1140_C4",
      "type": "context"
    },
    {
      "expr": "Starts at (2,1)",
      "id": "A1140_C5",
      "type": "context"
    },
    {
      "expr": "Hamiltonian paths start by moving to (1,1) or (3,1); 2 symmetric choices",
      "id": "A1140_C6",
      "type": "derived"
    },
    {
      "expr": "P = 2 × g(24), where g(n) = # paths on 3×n starting (2,1) → (3,1)",
      "id": "A1140_C7",
      "type": "derived"
    },
    {
      "expr": "Paths counted in g(n) end at (1,1)",
      "id": "A1140_C8",
      "type": "derived"
    },
    {
      "expr": "Path branches for start and end advance one column each, then center fills corner, reducing to g(n-2)",
      "id": "A1140_C9",
      "type": "derived"
    },
    {
      "expr": "g(n) = 2 × g(n-2) for even n ≥ 4",
      "id": "A1140_C10",
      "type": "derived"
    },
    {
      "expr": "g(2) = 1",
      "id": "A1140_C11",
      "type": "derived"
    },
    {
      "expr": "g(2k) = 2^{k-1}",
      "id": "A1140_C12",
      "type": "derived"
    },
    {
      "expr": "P = 2 × 2^{11} = 2^{12} = 4096",
      "id": "A1140_C13",
      "type": "final"
    },
    {
      "expr": "P = number of Hamiltonian paths on 3×24 grid starting at ((|C| - 4),1)",
      "id": "B468_C1",
      "type": "goal"
    }
  ],
  "Class_ID": "B468",
  "Connecting_Point": [
    {
      "B468": {
        "2": "(|C| - 4)"
      }
    }
  ],
  "Delta_Depth": [
    {
      "A1118": {
        "|C|": 12
      }
    },
    {
      "A1140": {
        "g(2)": 11
      }
    }
  ],
  "Delta_Factor": [
    {
      "A1118": 0.71
    },
    {
      "A1140": 0.85
    }
  ],
  "Delta_Socket": [
    {
      "A1118": {
        "8": 8.0
      }
    },
    {
      "A1140": {
        "2": 2.0
      }
    }
  ],
  "Delta_Socket_Order": [
    {
      "A1118": 1
    },
    {
      "A1140": 1
    }
  ],
  "Delta_Source": [
    {
      "A1118": "derived"
    },
    {
      "A1140": "derived"
    }
  ],
  "Delta_Value": [
    {
      "A1118": {
        "|C|": "6"
      }
    },
    {
      "A1140": {
        "g(2)": "1"
      }
    }
  ],
  "Delta_Value_Order": [
    {
      "A1118": 3
    },
    {
      "A1140": 1
    }
  ],
  "Delta_Variable_Names": [
    {
      "A1118": [
        "C"
      ]
    },
    {
      "A1140": [
        "g"
      ]
    }
  ],
  "Ground_Truth": [
    {
      "A1118": "21600"
    },
    {
      "A1140": "4096"
    }
  ],
  "Math_Problem": "How many ways can you mark 8 squares of an $8 \\times 8$ chessboard so that no two marked squares are in the same row or column, and none of the four corner squares is marked? (Rotations and reflections are considered different.) Instead of counting the total number of valid placements satisfying the row, column, and corner avoidance conditions, simply find $s = m - 4$, where $m$ is the number of columns available for the intermediate rows after assigning columns to the boundary rows under the given constraints. Sally the snail sits on the $3 \\times 24$ lattice of points $(i, j)$ for all $1 \\leq i \\leq 3$ and $1 \\leq j \\leq 24$. She wants to visit every point in the lattice exactly once. In a move, Sally can move to a point in the lattice exactly one unit away. Given that Sally starts at $(s,1)$, compute the number of possible paths Sally can take.",
  "Max_Delta_Depth": [
    {
      "A1118": 12
    },
    {
      "A1140": 11
    }
  ],
  "Max_Delta_Factor": [
    {
      "A1118": 0.71
    },
    {
      "A1140": 0.85
    }
  ],
  "Min_Delta_Depth": [
    {
      "A1118": 3
    },
    {
      "A1140": 11
    }
  ],
  "Min_Delta_Factor": [
    {
      "A1118": 0.18
    },
    {
      "A1140": 0.85
    }
  ],
  "Multiple_Synthesis_Class": "MP2",
  "Predicted_Answer": [
    {
      "A1118": "21600"
    },
    {
      "A1140": "4096"
    }
  ],
  "Problem_ID": 3,
  "Problem_Length": [
    {
      "A1118": 228
    },
    {
      "A1140": 342
    }
  ],
  "Problem_Level": [
    {
      "A1118": "KbsdJames_Omni-MATH_4.0"
    },
    {
      "A1140": "KbsdJames_Omni-MATH_4.0"
    }
  ],
  "Problem_Source": [
    {
      "A1118": "HMMT_2"
    },
    {
      "A1140": "HMMT_2"
    }
  ],
  "Problem_Type": [
    {
      "A1118": [
        "Mathematics -> Applied Mathematics -> Statistics -> Probability -> Counting Methods -> Combinations"
      ]
    },
    {
      "A1140": [
        "Mathematics -> Applied Mathematics -> Statistics -> Probability -> Counting Methods -> Other"
      ]
    }
  ],
  "Source_Delta_Socket": [
    {
      "A1118": "goal"
    },
    {
      "A1140": "goal"
    }
  ],
  "Steps": [
    {
      "conclusions": [
        "A1118_C2: Let A = {2,3,4,5,6,7}",
        "A1118_C10: Remaining rows R = {2,3,4,5,6,7}, |R| = 6",
        "A1118_C11: No column restrictions for rows in R"
      ],
      "id": "A1118_S1",
      "premises": [
        "A1118_C1: N = |{π ∈ S_8 | π(1) ∉ {1,8} ∧ π(8) ∉ {1,8}}|"
      ],
      "rule": "problem setup"
    },
    {
      "conclusions": [
        "A1118_C3: |A| = 6"
      ],
      "id": "A1118_S2",
      "premises": [
        "A1118_C2: Let A = {2,3,4,5,6,7}"
      ],
      "rule": "cardinality calculation"
    },
    {
      "conclusions": [
        "A1118_C4: π(1) ∈ A"
      ],
      "id": "A1118_S3",
      "premises": [
        "A1118_C1: N = |{π ∈ S_8 | π(1) ∉ {1,8} ∧ π(8) ∉ {1,8}}|",
        "A1118_C2: Let A = {2,3,4,5,6,7}"
      ],
      "rule": "choice restriction from problem"
    },
    {
      "conclusions": [
        "A1118_C5: Number of choices for π(1) = 6"
      ],
      "id": "A1118_S4",
      "premises": [
        "A1118_C3: |A| = 6",
        "A1118_C4: π(1) ∈ A"
      ],
      "rule": "counting choices"
    },
    {
      "conclusions": [
        "A1118_C6: Remaining columns after π(1): B = {1,2,3,4,5,6,7,8} \\ {π(1)}, |B| = 7"
      ],
      "id": "A1118_S5",
      "premises": [
        "A1118_C4: π(1) ∈ A"
      ],
      "rule": "set difference after selection"
    },
    {
      "conclusions": [
        "A1118_C7: Allowed columns for π(8): A ∩ B = A \\ {π(1)}"
      ],
      "id": "A1118_S6",
      "premises": [
        "A1118_C2: Let A = {2,3,4,5,6,7}",
        "A1118_C4: π(1) ∈ A",
        "A1118_C6: Remaining columns after π(1): B = {1,2,3,4,5,6,7,8} \\ {π(1)}, |B| = 7"
      ],
      "rule": "intersection for allowed"
    },
    {
      "conclusions": [
        "A1118_C8: |A \\ {π(1)}| = 5"
      ],
      "id": "A1118_S7",
      "premises": [
        "A1118_C3: |A| = 6",
        "A1118_C4: π(1) ∈ A"
      ],
      "rule": "cardinality of difference"
    },
    {
      "conclusions": [
        "A1118_C9: Number of choices for π(8) given π(1) = 5"
      ],
      "id": "A1118_S8",
      "premises": [
        "A1118_C8: |A \\ {π(1)}| = 5"
      ],
      "rule": "counting choices"
    },
    {
      "conclusions": [
        "A1118_C12: Remaining columns after π(1) and π(8): C = B \\ {π(8)}, |C| = 6"
      ],
      "id": "A1118_S9",
      "premises": [
        "A1118_C6: Remaining columns after π(1): B = {1,2,3,4,5,6,7,8} \\ {π(1)}, |B| = 7",
        "A1118_C9: Number of choices for π(8) given π(1) = 5"
      ],
      "rule": "set difference after second selection"
    },
    {
      "conclusions": [
        "A1118_C13: Assignments for R to C: any bijection, number = 6!"
      ],
      "id": "A1118_S10",
      "premises": [
        "A1118_C10: Remaining rows R = {2,3,4,5,6,7}, |R| = 6",
        "A1118_C11: No column restrictions for rows in R",
        "A1118_C12: Remaining columns after π(1) and π(8): C = B \\ {π(8)}, |C| = 6"
      ],
      "rule": "permutation count"
    },
    {
      "conclusions": [
        "A1118_C14: N = 6 × 5 × 6!"
      ],
      "id": "A1118_S11",
      "premises": [
        "A1118_C1: N = |{π ∈ S_8 | π(1) ∉ {1,8} ∧ π(8) ∉ {1,8}}|",
        "A1118_C5: Number of choices for π(1) = 6",
        "A1118_C9: Number of choices for π(8) given π(1) = 5",
        "A1118_C13: Assignments for R to C: any bijection, number = 6!"
      ],
      "rule": "total count composition"
    },
    {
      "conclusions": [
        "A1118_C15: 6 × 5 = 30"
      ],
      "id": "A1118_S12",
      "premises": [
        "A1118_C5: Number of choices for π(1) = 6",
        "A1118_C9: Number of choices for π(8) given π(1) = 5"
      ],
      "rule": "multiplication"
    },
    {
      "conclusions": [
        "A1118_C16: 6! = 720"
      ],
      "id": "A1118_S13",
      "premises": [
        "A1118_C10: Remaining rows R = {2,3,4,5,6,7}, |R| = 6"
      ],
      "rule": "factorial value"
    },
    {
      "conclusions": [
        "A1118_C17: N = 30 × 720 = 21600"
      ],
      "id": "A1118_S14",
      "premises": [
        "A1118_C15: 6 × 5 = 30",
        "A1118_C16: 6! = 720"
      ],
      "rule": "multiplication"
    },
    {
      "conclusions": [
        "A1140_C2: Grid points: (i,j) for 1 ≤ i ≤ 3, 1 ≤ j ≤ 24",
        "A1140_C3: Moves to adjacent points: |i-i'| + |j-j'| = 1",
        "A1140_C4: Path visits every point exactly once",
        "A1140_C5: Starts at (2,1)"
      ],
      "id": "A1140_S1",
      "premises": [
        "A1140_C1: P = number of Hamiltonian paths on 3×24 grid starting at (2,1)"
      ],
      "rule": "problem setup"
    },
    {
      "conclusions": [
        "A1140_C6: Hamiltonian paths start by moving to (1,1) or (3,1); 2 symmetric choices"
      ],
      "id": "A1140_S2",
      "premises": [
        "A1140_C2: Grid points: (i,j) for 1 ≤ i ≤ 3, 1 ≤ j ≤ 24",
        "A1140_C3: Moves to adjacent points: |i-i'| + |j-j'| = 1",
        "A1140_C4: Path visits every point exactly once",
        "A1140_C5: Starts at (2,1)"
      ],
      "rule": "initial move analysis"
    },
    {
      "conclusions": [
        "A1140_C7: P = 2 × g(24), where g(n) = # paths on 3×n starting (2,1) → (3,1)"
      ],
      "id": "A1140_S3",
      "premises": [
        "A1140_C6: Hamiltonian paths start by moving to (1,1) or (3,1); 2 symmetric choices"
      ],
      "rule": "symmetry application"
    },
    {
      "conclusions": [
        "A1140_C8: Paths counted in g(n) end at (1,1)"
      ],
      "id": "A1140_S4",
      "premises": [
        "A1140_C2: Grid points: (i,j) for 1 ≤ i ≤ 3, 1 ≤ j ≤ 24",
        "A1140_C7: P = 2 × g(24), where g(n) = # paths on 3×n starting (2,1) → (3,1)"
      ],
      "rule": "ending configuration analysis"
    },
    {
      "conclusions": [
        "A1140_C9: Path branches for start and end advance one column each, then center fills corner, reducing to g(n-2)"
      ],
      "id": "A1140_S5",
      "premises": [
        "A1140_C3: Moves to adjacent points: |i-i'| + |j-j'| = 1",
        "A1140_C4: Path visits every point exactly once",
        "A1140_C8: Paths counted in g(n) end at (1,1)"
      ],
      "rule": "path structure decomposition"
    },
    {
      "conclusions": [
        "A1140_C10: g(n) = 2 × g(n-2) for even n ≥ 4"
      ],
      "id": "A1140_S6",
      "premises": [
        "A1140_C9: Path branches for start and end advance one column each, then center fills corner, reducing to g(n-2)"
      ],
      "rule": "recurrence derivation"
    },
    {
      "conclusions": [
        "A1140_C11: g(2) = 1"
      ],
      "id": "A1140_S7",
      "premises": [
        "A1140_C2: Grid points: (i,j) for 1 ≤ i ≤ 3, 1 ≤ j ≤ 24",
        "A1140_C3: Moves to adjacent points: |i-i'| + |j-j'| = 1",
        "A1140_C4: Path visits every point exactly once",
        "A1140_C5: Starts at (2,1)",
        "A1140_C7: P = 2 × g(24), where g(n) = # paths on 3×n starting (2,1) → (3,1)"
      ],
      "rule": "base case enumeration"
    },
    {
      "conclusions": [
        "A1140_C12: g(2k) = 2^{k-1}"
      ],
      "id": "A1140_S8",
      "premises": [
        "A1140_C10: g(n) = 2 × g(n-2) for even n ≥ 4",
        "A1140_C11: g(2) = 1"
      ],
      "rule": "recurrence solution"
    },
    {
      "conclusions": [
        "A1140_C13: P = 2 × 2^{11} = 2^{12} = 4096"
      ],
      "id": "A1140_S9",
      "premises": [
        "A1140_C7: P = 2 × g(24), where g(n) = # paths on 3×n starting (2,1) → (3,1)",
        "A1140_C12: g(2k) = 2^{k-1}"
      ],
      "rule": "computation"
    },
    {
      "conclusions": [
        "A1140_C1: P = number of Hamiltonian paths on 3×24 grid starting at (2,1)"
      ],
      "id": "B468_S1",
      "premises": [
        "B468_C1: P = number of Hamiltonian paths on 3×24 grid starting at ((|C| - 4),1)",
        "A1118_C12: Remaining columns after π(1) and π(8): C = B \\ {π(8)}, |C| = 6"
      ],
      "rule": "problem connection"
    }
  ],
  "Sub_Class_ID": [
    {
      "A1118": "A1118_DG_3"
    },
    {
      "A1140": "A1140_DG_1"
    }
  ],
  "Synthesis_Status": "Continuable",
  "Synthesis_Trace": "DG-DG",
  "Synthesised_By": [
    {
      "A1118": "How many ways can you mark 8 squares of an $8 \\times 8$ chessboard so that no two marked squares are in the same row or column, and none of the four corner squares is marked? (Rotations and reflections are considered different.)"
    },
    {
      "A1140": "Sally the snail sits on the $3 \\times 24$ lattice of points $(i, j)$ for all $1 \\leq i \\leq 3$ and $1 \\leq j \\leq 24$. She wants to visit every point in the lattice exactly once. In a move, Sally can move to a point in the lattice exactly one unit away. Given that Sally starts at $(2,1)$, compute the number of possible paths Sally can take."
    }
  ],
  "Synthesised_Problem_Length": 859,
  "Total_Claims": [
    {
      "A1118": 17
    },
    {
      "A1140": 13
    }
  ],
  "Total_Delta": [
    {
      "A1118": 3
    },
    {
      "A1140": 1
    }
  ],
  "Total_Delta_Socket": [
    {
      "A1118": 1
    },
    {
      "A1140": 1
    }
  ],
  "Variable_Names": [
    {
      "A1118": []
    },
    {
      "A1140": [
        "i",
        "j"
      ]
    }
  ]
}
