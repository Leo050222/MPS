{
  "Chunk_Type": "T2",
  "Claims": [
    {
      "expr": "Find length(BC) given AB = AC, I incenter of triangle ABC, AI = 3, r = 2",
      "id": "A440_C1",
      "type": "goal"
    },
    {
      "expr": "AB = AC",
      "id": "A440_C2",
      "type": "context"
    },
    {
      "expr": "I is the incenter of triangle ABC",
      "id": "A440_C3",
      "type": "context"
    },
    {
      "expr": "AI = 3",
      "id": "A440_C4",
      "type": "context"
    },
    {
      "expr": "r = 2",
      "id": "A440_C5",
      "type": "context"
    },
    {
      "expr": "X touch point of incircle on AB, Y on BC; IX = IY = r = 2",
      "id": "A440_C6",
      "type": "derived"
    },
    {
      "expr": "IX perpendicular to AB",
      "id": "A440_C7",
      "type": "derived"
    },
    {
      "expr": "IY perpendicular to BC",
      "id": "A440_C8",
      "type": "derived"
    },
    {
      "expr": "triangle AXI is right-angled at X",
      "id": "A440_C9",
      "type": "derived"
    },
    {
      "expr": "AX^2 + IX^2 = AI^2",
      "id": "A440_C10",
      "type": "derived"
    },
    {
      "expr": "AX^2 + 4 = 9",
      "id": "A440_C11",
      "type": "derived"
    },
    {
      "expr": "AX^2 = 5",
      "id": "A440_C12",
      "type": "derived"
    },
    {
      "expr": "AX = sqrt(5)",
      "id": "A440_C13",
      "type": "derived"
    },
    {
      "expr": "angle bisector from A is altitude and median to BC",
      "id": "A440_C14",
      "type": "derived"
    },
    {
      "expr": "I lies on altitude AM from A to BC, M midpoint of BC",
      "id": "A440_C15",
      "type": "derived"
    },
    {
      "expr": "Y is midpoint of BC",
      "id": "A440_C16",
      "type": "derived"
    },
    {
      "expr": "BY = BC / 2",
      "id": "A440_C17",
      "type": "derived"
    },
    {
      "expr": "A, I, Y collinear with I between A and Y",
      "id": "A440_C18",
      "type": "derived"
    },
    {
      "expr": "AY = 5",
      "id": "A440_C19",
      "type": "derived"
    },
    {
      "expr": "triangle AYB is right-angled at Y",
      "id": "A440_C20",
      "type": "derived"
    },
    {
      "expr": "angle at A in triangle AXI = angle at A in triangle AYB",
      "id": "A440_C21",
      "type": "derived"
    },
    {
      "expr": "triangle AXI ~ triangle AYB",
      "id": "A440_C22",
      "type": "derived"
    },
    {
      "expr": "AY / AX = BY / IX",
      "id": "A440_C23",
      "type": "derived"
    },
    {
      "expr": "5 / sqrt(5) = BY / 2",
      "id": "A440_C24",
      "type": "derived"
    },
    {
      "expr": "BY = 2 sqrt(5)",
      "id": "A440_C25",
      "type": "derived"
    },
    {
      "expr": "BC = 4 sqrt(5)",
      "id": "A440_C26",
      "type": "final"
    },
    {
      "expr": "find n in N such that prime( sum_{k=1}^n (-1)^{n-k} k! )",
      "id": "A471_C1",
      "type": "derived"
    },
    {
      "expr": "S(n) = sum_{k=1}^n (-1)^{n-k} k!",
      "id": "A471_C2",
      "type": "context"
    },
    {
      "expr": "S(1) = 1",
      "id": "A471_C3",
      "type": "context"
    },
    {
      "expr": "S(n) = n! - S(n-1) for all n >= 2",
      "id": "A471_C4",
      "type": "derived"
    },
    {
      "expr": "S(2) = 1",
      "id": "A471_C5",
      "type": "derived"
    },
    {
      "expr": "S(3) = 5",
      "id": "A471_C6",
      "type": "derived"
    },
    {
      "expr": "5 is prime",
      "id": "A471_C7",
      "type": "derived"
    },
    {
      "expr": "S(4) = 19",
      "id": "A471_C8",
      "type": "derived"
    },
    {
      "expr": "19 is prime",
      "id": "A471_C9",
      "type": "derived"
    },
    {
      "expr": "S(5) = 101",
      "id": "A471_C10",
      "type": "derived"
    },
    {
      "expr": "101 is prime",
      "id": "A471_C11",
      "type": "derived"
    },
    {
      "expr": "S(6) = 619",
      "id": "A471_C12",
      "type": "derived"
    },
    {
      "expr": "619 is prime",
      "id": "A471_C13",
      "type": "derived"
    },
    {
      "expr": "S(7) = 4421",
      "id": "A471_C14",
      "type": "derived"
    },
    {
      "expr": "4421 is prime",
      "id": "A471_C15",
      "type": "derived"
    },
    {
      "expr": "S(8) = 35899",
      "id": "A471_C16",
      "type": "derived"
    },
    {
      "expr": "35899 is prime",
      "id": "A471_C17",
      "type": "derived"
    },
    {
      "expr": "S(9) = 326981",
      "id": "A471_C18",
      "type": "derived"
    },
    {
      "expr": "S(10) = 3301819",
      "id": "A471_C19",
      "type": "derived"
    },
    {
      "expr": "3301819 is prime",
      "id": "A471_C20",
      "type": "derived"
    },
    {
      "expr": "The n <=160 such that S(n) is prime are: 3,4,5,6,7,8,10,15,19,41,59,61,105,160",
      "id": "A471_C21",
      "type": "final"
    },
    {
      "expr": "find n in N such that prime( sum_{k=1}^n (-(AY - 4))^{n-k} k! )",
      "id": "B12843_C1",
      "type": "goal"
    }
  ],
  "Class_ID": "B12843",
  "Connecting_Point": [
    {
      "B12843": {
        "1": "(AY - 4)"
      }
    }
  ],
  "Delta_Depth": [
    {
      "A440": {
        "AY": 19
      }
    },
    {
      "A471": {
        "S(10)": 19
      }
    }
  ],
  "Delta_Factor": [
    {
      "A440": 0.73
    },
    {
      "A471": 0.9
    }
  ],
  "Delta_Socket": [
    {
      "A440": {
        "3": 3.0
      }
    },
    {
      "A471": {
        "1": 1.0
      }
    }
  ],
  "Delta_Socket_Order": [
    {
      "A440": 1
    },
    {
      "A471": 1
    }
  ],
  "Delta_Source": [
    {
      "A440": "derived"
    },
    {
      "A471": "derived"
    }
  ],
  "Delta_Value": [
    {
      "A440": {
        "AY": "5"
      }
    },
    {
      "A471": {
        "S(10)": "3301819"
      }
    }
  ],
  "Delta_Value_Order": [
    {
      "A440": 1
    },
    {
      "A471": 9
    }
  ],
  "Delta_Variable_Names": [
    {
      "A440": [
        "AY"
      ]
    },
    {
      "A471": [
        "S"
      ]
    }
  ],
  "Ground_Truth": [
    {
      "A440": "4\\sqrt{5}"
    },
    {
      "A471": "3, 4, 5, 6, 7, 8, 10, 15, 19, 41, 59, 61, 105, 160"
    }
  ],
  "Math_Problem": "Let $A B C$ be an isosceles triangle with apex $A$. Let $I$ be the incenter. If $A I=3$ and the distance from $I$ to $B C$ is 2 , then what is the length of $B C$ ? Instead of determining the length of the base $BC$, simply find $d = AY - 4$, where $AY$ is the length of the segment from $A$ to $Y$ along the angle bisector, and $Y$ is the point of tangency of the incircle with $BC$. Find an $n$ such that $n! + (-d)(n-1)! + (-d)^2 (n-2)! + (-d)^3 (n-3)! + \\cdots + (-d)^{n-1} \\cdot 1!$ is prime. Be prepared to justify your answer for $\\left\\{\\begin{array}{c}n, \\\\\\\\ \\left[\\frac{n+225}{10}\\right],\\\\ \\end{array} n \\leq 25\\right.$ points, where $[N]$ is the greatest integer less than $N$.",
  "Max_Delta_Depth": [
    {
      "A440": 19
    },
    {
      "A471": 19
    }
  ],
  "Max_Delta_Factor": [
    {
      "A440": 0.73
    },
    {
      "A471": 0.9
    }
  ],
  "Min_Delta_Depth": [
    {
      "A440": 19
    },
    {
      "A471": 5
    }
  ],
  "Min_Delta_Factor": [
    {
      "A440": 0.73
    },
    {
      "A471": 0.24
    }
  ],
  "Multiple_Synthesis_Class": "MP2",
  "Predicted_Answer": [
    {
      "A440": "4\\sqrt{5}"
    },
    {
      "A471": "3, 4, 5, 6, 7, 8, 10, 15, 19, 41, 59, 61, 105, 160"
    }
  ],
  "Problem_ID": 58,
  "Problem_Length": [
    {
      "A440": 164
    },
    {
      "A471": 262
    }
  ],
  "Problem_Level": [
    {
      "A440": "KbsdJames_Omni-MATH_3.5"
    },
    {
      "A471": "KbsdJames_Omni-MATH_3.5"
    }
  ],
  "Problem_Source": [
    {
      "A440": "HMMT_2"
    },
    {
      "A471": "HMMT_2"
    }
  ],
  "Problem_Type": [
    {
      "A440": [
        "Mathematics -> Geometry -> Plane Geometry -> Triangulations"
      ]
    },
    {
      "A471": [
        "Mathematics -> Number Theory -> Factorization"
      ]
    }
  ],
  "Source_Delta_Socket": [
    {
      "A440": "goal"
    },
    {
      "A471": "goal"
    }
  ],
  "Steps": [
    {
      "conclusions": [
        "A440_C2: AB = AC",
        "A440_C3: I is the incenter of triangle ABC",
        "A440_C4: AI = 3",
        "A440_C5: r = 2"
      ],
      "id": "A440_S1",
      "premises": [
        "A440_C1: Find length(BC) given AB = AC, I incenter of triangle ABC, AI = 3, r = 2"
      ],
      "rule": "problem setup"
    },
    {
      "conclusions": [
        "A440_C6: X touch point of incircle on AB, Y on BC; IX = IY = r = 2"
      ],
      "id": "A440_S2",
      "premises": [
        "A440_C3: I is the incenter of triangle ABC",
        "A440_C5: r = 2"
      ],
      "rule": "incircle touch points and radii"
    },
    {
      "conclusions": [
        "A440_C7: IX perpendicular to AB"
      ],
      "id": "A440_S3",
      "premises": [
        "A440_C6: X touch point of incircle on AB, Y on BC; IX = IY = r = 2"
      ],
      "rule": "radius perpendicular to tangent"
    },
    {
      "conclusions": [
        "A440_C8: IY perpendicular to BC"
      ],
      "id": "A440_S4",
      "premises": [
        "A440_C6: X touch point of incircle on AB, Y on BC; IX = IY = r = 2"
      ],
      "rule": "radius perpendicular to tangent"
    },
    {
      "conclusions": [
        "A440_C9: triangle AXI is right-angled at X"
      ],
      "id": "A440_S5",
      "premises": [
        "A440_C7: IX perpendicular to AB"
      ],
      "rule": "right angle from perpendicular"
    },
    {
      "conclusions": [
        "A440_C10: AX^2 + IX^2 = AI^2"
      ],
      "id": "A440_S6",
      "premises": [
        "A440_C9: triangle AXI is right-angled at X"
      ],
      "rule": "Pythagorean theorem"
    },
    {
      "conclusions": [
        "A440_C11: AX^2 + 4 = 9"
      ],
      "id": "A440_S7",
      "premises": [
        "A440_C10: AX^2 + IX^2 = AI^2",
        "A440_C4: AI = 3",
        "A440_C6: X touch point of incircle on AB, Y on BC; IX = IY = r = 2"
      ],
      "rule": "substitution of known lengths"
    },
    {
      "conclusions": [
        "A440_C12: AX^2 = 5"
      ],
      "id": "A440_S8",
      "premises": [
        "A440_C11: AX^2 + 4 = 9"
      ],
      "rule": "algebraic simplification"
    },
    {
      "conclusions": [
        "A440_C13: AX = sqrt(5)"
      ],
      "id": "A440_S9",
      "premises": [
        "A440_C12: AX^2 = 5"
      ],
      "rule": "positive square root for length"
    },
    {
      "conclusions": [
        "A440_C14: angle bisector from A is altitude and median to BC"
      ],
      "id": "A440_S10",
      "premises": [
        "A440_C2: AB = AC"
      ],
      "rule": "properties of isosceles triangle"
    },
    {
      "conclusions": [
        "A440_C15: I lies on altitude AM from A to BC, M midpoint of BC"
      ],
      "id": "A440_S11",
      "premises": [
        "A440_C3: I is the incenter of triangle ABC",
        "A440_C14: angle bisector from A is altitude and median to BC"
      ],
      "rule": "incenter on angle bisector"
    },
    {
      "conclusions": [
        "A440_C16: Y is midpoint of BC"
      ],
      "id": "A440_S12",
      "premises": [
        "A440_C2: AB = AC",
        "A440_C3: I is the incenter of triangle ABC"
      ],
      "rule": "symmetry in isosceles triangle"
    },
    {
      "conclusions": [
        "A440_C17: BY = BC / 2"
      ],
      "id": "A440_S13",
      "premises": [
        "A440_C16: Y is midpoint of BC"
      ],
      "rule": "midpoint definition"
    },
    {
      "conclusions": [
        "A440_C18: A, I, Y collinear with I between A and Y"
      ],
      "id": "A440_S14",
      "premises": [
        "A440_C15: I lies on altitude AM from A to BC, M midpoint of BC",
        "A440_C16: Y is midpoint of BC"
      ],
      "rule": "collinearity on altitude"
    },
    {
      "conclusions": [
        "A440_C19: AY = 5"
      ],
      "id": "A440_S15",
      "premises": [
        "A440_C18: A, I, Y collinear with I between A and Y",
        "A440_C4: AI = 3",
        "A440_C6: X touch point of incircle on AB, Y on BC; IX = IY = r = 2"
      ],
      "rule": "addition of segments"
    },
    {
      "conclusions": [
        "A440_C20: triangle AYB is right-angled at Y"
      ],
      "id": "A440_S16",
      "premises": [
        "A440_C14: angle bisector from A is altitude and median to BC",
        "A440_C8: IY perpendicular to BC"
      ],
      "rule": "altitude perpendicular to base"
    },
    {
      "conclusions": [
        "A440_C21: angle at A in triangle AXI = angle at A in triangle AYB"
      ],
      "id": "A440_S17",
      "premises": [
        "A440_C15: I lies on altitude AM from A to BC, M midpoint of BC",
        "A440_C18: A, I, Y collinear with I between A and Y"
      ],
      "rule": "common angle from bisector alignment"
    },
    {
      "conclusions": [
        "A440_C22: triangle AXI ~ triangle AYB"
      ],
      "id": "A440_S18",
      "premises": [
        "A440_C9: triangle AXI is right-angled at X",
        "A440_C20: triangle AYB is right-angled at Y",
        "A440_C21: angle at A in triangle AXI = angle at A in triangle AYB"
      ],
      "rule": "AA similarity criterion"
    },
    {
      "conclusions": [
        "A440_C23: AY / AX = BY / IX"
      ],
      "id": "A440_S19",
      "premises": [
        "A440_C22: triangle AXI ~ triangle AYB"
      ],
      "rule": "corresponding sides in similar triangles"
    },
    {
      "conclusions": [
        "A440_C24: 5 / sqrt(5) = BY / 2"
      ],
      "id": "A440_S20",
      "premises": [
        "A440_C23: AY / AX = BY / IX",
        "A440_C19: AY = 5",
        "A440_C13: AX = sqrt(5)",
        "A440_C6: X touch point of incircle on AB, Y on BC; IX = IY = r = 2"
      ],
      "rule": "substitution in similarity ratio"
    },
    {
      "conclusions": [
        "A440_C25: BY = 2 sqrt(5)"
      ],
      "id": "A440_S21",
      "premises": [
        "A440_C24: 5 / sqrt(5) = BY / 2"
      ],
      "rule": "solve for BY"
    },
    {
      "conclusions": [
        "A440_C26: BC = 4 sqrt(5)"
      ],
      "id": "A440_S22",
      "premises": [
        "A440_C17: BY = BC / 2",
        "A440_C25: BY = 2 sqrt(5)"
      ],
      "rule": "double the half-length"
    },
    {
      "conclusions": [
        "A471_C2: S(n) = sum_{k=1}^n (-1)^{n-k} k!",
        "A471_C3: S(1) = 1"
      ],
      "id": "A471_S1",
      "premises": [
        "A471_C1: find n in N such that prime( sum_{k=1}^n (-1)^{n-k} k! )"
      ],
      "rule": "problem setup"
    },
    {
      "conclusions": [
        "A471_C4: S(n) = n! - S(n-1) for all n >= 2"
      ],
      "id": "A471_S2",
      "premises": [
        "A471_C2: S(n) = sum_{k=1}^n (-1)^{n-k} k!"
      ],
      "rule": "recurrence derivation from definition"
    },
    {
      "conclusions": [
        "A471_C5: S(2) = 1"
      ],
      "id": "A471_S3",
      "premises": [
        "A471_C4: S(n) = n! - S(n-1) for all n >= 2",
        "A471_C3: S(1) = 1"
      ],
      "rule": "recurrence application"
    },
    {
      "conclusions": [
        "A471_C6: S(3) = 5"
      ],
      "id": "A471_S4",
      "premises": [
        "A471_C4: S(n) = n! - S(n-1) for all n >= 2",
        "A471_C5: S(2) = 1"
      ],
      "rule": "recurrence application"
    },
    {
      "conclusions": [
        "A471_C7: 5 is prime"
      ],
      "id": "A471_S5",
      "premises": [
        "A471_C6: S(3) = 5"
      ],
      "rule": "primality verification"
    },
    {
      "conclusions": [
        "A471_C8: S(4) = 19"
      ],
      "id": "A471_S6",
      "premises": [
        "A471_C4: S(n) = n! - S(n-1) for all n >= 2",
        "A471_C6: S(3) = 5"
      ],
      "rule": "recurrence application"
    },
    {
      "conclusions": [
        "A471_C9: 19 is prime"
      ],
      "id": "A471_S7",
      "premises": [
        "A471_C8: S(4) = 19"
      ],
      "rule": "primality verification"
    },
    {
      "conclusions": [
        "A471_C10: S(5) = 101"
      ],
      "id": "A471_S8",
      "premises": [
        "A471_C4: S(n) = n! - S(n-1) for all n >= 2",
        "A471_C8: S(4) = 19"
      ],
      "rule": "recurrence application"
    },
    {
      "conclusions": [
        "A471_C11: 101 is prime"
      ],
      "id": "A471_S9",
      "premises": [
        "A471_C10: S(5) = 101"
      ],
      "rule": "primality verification"
    },
    {
      "conclusions": [
        "A471_C12: S(6) = 619"
      ],
      "id": "A471_S10",
      "premises": [
        "A471_C4: S(n) = n! - S(n-1) for all n >= 2",
        "A471_C10: S(5) = 101"
      ],
      "rule": "recurrence application"
    },
    {
      "conclusions": [
        "A471_C13: 619 is prime"
      ],
      "id": "A471_S11",
      "premises": [
        "A471_C12: S(6) = 619"
      ],
      "rule": "primality verification"
    },
    {
      "conclusions": [
        "A471_C14: S(7) = 4421"
      ],
      "id": "A471_S12",
      "premises": [
        "A471_C4: S(n) = n! - S(n-1) for all n >= 2",
        "A471_C12: S(6) = 619"
      ],
      "rule": "recurrence application"
    },
    {
      "conclusions": [
        "A471_C15: 4421 is prime"
      ],
      "id": "A471_S13",
      "premises": [
        "A471_C14: S(7) = 4421"
      ],
      "rule": "primality verification"
    },
    {
      "conclusions": [
        "A471_C16: S(8) = 35899"
      ],
      "id": "A471_S14",
      "premises": [
        "A471_C4: S(n) = n! - S(n-1) for all n >= 2",
        "A471_C14: S(7) = 4421"
      ],
      "rule": "recurrence application"
    },
    {
      "conclusions": [
        "A471_C17: 35899 is prime"
      ],
      "id": "A471_S15",
      "premises": [
        "A471_C16: S(8) = 35899"
      ],
      "rule": "primality verification"
    },
    {
      "conclusions": [
        "A471_C18: S(9) = 326981"
      ],
      "id": "A471_S16",
      "premises": [
        "A471_C4: S(n) = n! - S(n-1) for all n >= 2",
        "A471_C16: S(8) = 35899"
      ],
      "rule": "recurrence application"
    },
    {
      "conclusions": [
        "A471_C19: S(10) = 3301819"
      ],
      "id": "A471_S17",
      "premises": [
        "A471_C4: S(n) = n! - S(n-1) for all n >= 2",
        "A471_C18: S(9) = 326981"
      ],
      "rule": "recurrence application"
    },
    {
      "conclusions": [
        "A471_C20: 3301819 is prime"
      ],
      "id": "A471_S18",
      "premises": [
        "A471_C19: S(10) = 3301819"
      ],
      "rule": "primality verification"
    },
    {
      "conclusions": [
        "A471_C21: The n <=160 such that S(n) is prime are: 3,4,5,6,7,8,10,15,19,41,59,61,105,160"
      ],
      "id": "A471_S19",
      "premises": [
        "A471_C4: S(n) = n! - S(n-1) for all n >= 2",
        "A471_C20: 3301819 is prime"
      ],
      "rule": "extended numerical computation and primality testing"
    },
    {
      "conclusions": [
        "A471_C1: find n in N such that prime( sum_{k=1}^n (-1)^{n-k} k! )"
      ],
      "id": "B12843_S1",
      "premises": [
        "B12843_C1: find n in N such that prime( sum_{k=1}^n (-(AY - 4))^{n-k} k! )",
        "A440_C19: AY = 5"
      ],
      "rule": "problem connection"
    }
  ],
  "Sub_Class_ID": [
    {
      "A440": "A440_DG_1"
    },
    {
      "A471": "A471_DG_9"
    }
  ],
  "Synthesis_Status": "Continuable",
  "Synthesis_Trace": "DG-DG",
  "Synthesised_By": [
    {
      "A440": "Let $A B C$ be an isosceles triangle with apex $A$. Let $I$ be the incenter. If $A I=3$ and the distance from $I$ to $B C$ is 2 , then what is the length of $B C$ ?"
    },
    {
      "A471": "Find an $n$ such that $n!-(n-1)!+(n-2)!-(n-3)!+\\cdots \\pm 1$ ! is prime. Be prepared to justify your answer for $\\left\\{\\begin{array}{c}n, \\\\ {\\left[\\frac{n+225}{10}\\right],}\\end{array} n \\leq 25\\right.$ points, where $[N]$ is the greatest integer less than $N$."
    }
  ],
  "Synthesised_Problem_Length": 690,
  "Total_Claims": [
    {
      "A440": 26
    },
    {
      "A471": 21
    }
  ],
  "Total_Delta": [
    {
      "A440": 1
    },
    {
      "A471": 9
    }
  ],
  "Total_Delta_Socket": [
    {
      "A440": 1
    },
    {
      "A471": 1
    }
  ],
  "Variable_Names": [
    {
      "A440": [
        "C",
        "B",
        "A",
        "I"
      ]
    },
    {
      "A471": [
        "n",
        "c",
        "N"
      ]
    }
  ]
}
