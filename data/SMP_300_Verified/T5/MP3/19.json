{
  "Chunk_Type": "T5",
  "Claims": [
    {
      "expr": "Find all f: [0,∞) -> [0,∞) s.t. f(2)=0, f(x)≠0 for 0≤x<2, f(x f(y)) f(y) = f(x+y) ∀x,y≥0",
      "id": "A3820_C1",
      "type": "goal"
    },
    {
      "expr": "f(2)=0",
      "id": "A3820_C2",
      "type": "context"
    },
    {
      "expr": "f(x)≠0 ∀ 0≤x<2",
      "id": "A3820_C3",
      "type": "context"
    },
    {
      "expr": "f(x f(y)) f(y) = f(x+y) ∀x,y≥0",
      "id": "A3820_C4",
      "type": "context"
    },
    {
      "expr": "f: [0,∞) -> [0,∞)",
      "id": "A3820_C5",
      "type": "context"
    },
    {
      "expr": "f(x)=0 ∀x≥2",
      "id": "A3820_C6",
      "type": "derived"
    },
    {
      "expr": "f(0)=1",
      "id": "A3820_C7",
      "type": "derived"
    },
    {
      "expr": "f(x)=0 ⇔ x≥2",
      "id": "A3820_C8",
      "type": "derived"
    },
    {
      "expr": "(2-y) f(y) ≥ 2 ∀ 0≤y<2",
      "id": "A3820_C9",
      "type": "derived"
    },
    {
      "expr": "f(y) ≥ 2/(2-y) ∀ 0≤y<2",
      "id": "A3820_C10",
      "type": "derived"
    },
    {
      "expr": "g(x) = 1/f(x) for 0≤x<2, g(0)=1, g(x)>0 ∀ 0≤x<2",
      "id": "A3820_C11",
      "type": "derived"
    },
    {
      "expr": "Assume g(x) = 1 + k x for 0≤x<2",
      "id": "A3820_C12",
      "type": "derived"
    },
    {
      "expr": "1 + k y ≤ (2-y)/2 ∀ 0≤y<2",
      "id": "A3820_C13",
      "type": "derived"
    },
    {
      "expr": "k ≤ -1/2",
      "id": "A3820_C14",
      "type": "derived"
    },
    {
      "expr": "1 + 2k ≥ 0 (positivity of g)",
      "id": "A3820_C15",
      "type": "derived"
    },
    {
      "expr": "k = -1/2",
      "id": "A3820_C16",
      "type": "derived"
    },
    {
      "expr": "g(x) = (2 - x)/2 for 0≤x<2",
      "id": "A3820_C17",
      "type": "derived"
    },
    {
      "expr": "f(x) = 2/(2 - x) for 0≤x<2",
      "id": "A3820_C18",
      "type": "derived"
    },
    {
      "expr": "f(x) = 2/(2 - x) if 0 ≤ x < 2, f(x) = 0 if x ≥ 2",
      "id": "A3820_C19",
      "type": "final"
    },
    {
      "expr": "determine all f : R -> R s.t. f(x^2 + f(x)f(y)) = x f(x + y) for all real x,y",
      "id": "A3698_C1",
      "type": "derived"
    },
    {
      "expr": "f(x^2 + f(x)f(y)) = x f(x + y) for all real x,y",
      "id": "A3698_C2",
      "type": "context"
    },
    {
      "expr": "f(0) = 0",
      "id": "A3698_C3",
      "type": "derived"
    },
    {
      "expr": "f(x^2) = x f(x) for all real x",
      "id": "A3698_C4",
      "type": "derived"
    },
    {
      "expr": "consider f(x) = k x for some constant k",
      "id": "A3698_C5",
      "type": "derived"
    },
    {
      "expr": "left side becomes k x^2 + k^3 x y",
      "id": "A3698_C6",
      "type": "derived"
    },
    {
      "expr": "right side becomes k x^2 + k x y",
      "id": "A3698_C7",
      "type": "derived"
    },
    {
      "expr": "k x^2 + k^3 x y = k x^2 + k x y for all real x,y",
      "id": "A3698_C8",
      "type": "derived"
    },
    {
      "expr": "k^3 x y = k x y for all real x,y",
      "id": "A3698_C9",
      "type": "derived"
    },
    {
      "expr": "k^3 = k",
      "id": "A3698_C10",
      "type": "derived"
    },
    {
      "expr": "k^3 - k = 0",
      "id": "A3698_C11",
      "type": "derived"
    },
    {
      "expr": "k(k-1)(k+1) = 0",
      "id": "A3698_C12",
      "type": "derived"
    },
    {
      "expr": "k = 0 or k = 1 or k = -1",
      "id": "A3698_C13",
      "type": "derived"
    },
    {
      "expr": "f(x) = 0, f(x) = x, f(x) = -x",
      "id": "A3698_C14",
      "type": "final"
    },
    {
      "expr": "determine all f : R -> R s.t. f(x^(k + 5/2) + f(x)f(y)) = x f(x + y) for all real x,y",
      "id": "B1259_C1",
      "type": "goal"
    },
    {
      "expr": "∀ n ∈ ℕ⁺, ∀ a,b,c ∈ ℕ⁺ ≤ 3n² + 4n, ∃ x,y,z ∈ ℤ, |x|≤2n, |y|≤2n, |z|≤2n, (x,y,z)≠(0,0,0), ax + by + cz = 0",
      "id": "A304_C1",
      "type": "derived"
    },
    {
      "expr": "n ∈ ℕ⁺ fixed",
      "id": "A304_C2",
      "type": "context"
    },
    {
      "expr": "a,b,c ∈ ℕ⁺, a ≤ 3n² + 4n, b ≤ 3n² + 4n, c ≤ 3n² + 4n",
      "id": "A304_C3",
      "type": "context"
    },
    {
      "expr": "c = max(a,b,c)",
      "id": "A304_C4",
      "type": "derived"
    },
    {
      "expr": "S = {(x,y) ∈ ℤ² | 0 ≤ x ≤ 2n, -2n ≤ y ≤ 0} \\ {(0,0)}",
      "id": "A304_C5",
      "type": "derived"
    },
    {
      "expr": "|S| = 4n² + 4n",
      "id": "A304_C6",
      "type": "derived"
    },
    {
      "expr": "∀(x,y)∈S, ax + by ≤ 2n c",
      "id": "A304_C7",
      "type": "derived"
    },
    {
      "expr": "∀(x,y)∈S, ax + by ≥ -2n c",
      "id": "A304_C8",
      "type": "derived"
    },
    {
      "expr": "∀(x,y)∈S, |ax + by| ≤ 2n c",
      "id": "A304_C9",
      "type": "derived"
    },
    {
      "expr": "∃(x,y)∈S, ax + by ≡ 0 (mod c) ⇒ ∃ z, |z|≤2n, ax + by + cz = 0, not all zero",
      "id": "A304_C10",
      "type": "derived"
    },
    {
      "expr": "Assume ∀(x,y)∈S, ax + by ≢ 0 (mod c)",
      "id": "A304_C11",
      "type": "derived"
    },
    {
      "expr": "ax + by mod c ∈ {1,...,c-1} ∀(x,y)∈S",
      "id": "A304_C12",
      "type": "derived"
    },
    {
      "expr": "c - 1 ≤ 3n² + 4n - 1",
      "id": "A304_C13",
      "type": "derived"
    },
    {
      "expr": "∃ distinct (x₁,y₁),(x₂,y₂)∈S, ax₁ + by₁ ≡ ax₂ + by₂ (mod c)",
      "id": "A304_C14",
      "type": "derived"
    },
    {
      "expr": "a δx + b δy ≡ 0 (mod c), δx = x₁ - x₂, δy = y₁ - y₂",
      "id": "A304_C15",
      "type": "derived"
    },
    {
      "expr": "|δx| ≤ 2n, |δy| ≤ 2n, (δx,δy) ≠ (0,0)",
      "id": "A304_C16",
      "type": "derived"
    },
    {
      "expr": "If δx δy ≤ 0, |a δx + b δy| ≤ 2n c",
      "id": "A304_C17",
      "type": "derived"
    },
    {
      "expr": "δx δy ≤ 0 ⇒ ∃ solution with |z| ≤ 2n",
      "id": "A304_C18",
      "type": "derived"
    },
    {
      "expr": "All colliding pairs have δx, δy same sign >0 or <0",
      "id": "A304_C19",
      "type": "derived"
    },
    {
      "expr": "Consider pairs with x₂ > x₁, y₂ > y₁, δx >0, δy >0",
      "id": "A304_C20",
      "type": "derived"
    },
    {
      "expr": "δx + δy ≤ 2n ⇒ 0 < a δx + b δy ≤ 2n c ⇒ solution",
      "id": "A304_C21",
      "type": "derived"
    },
    {
      "expr": "All increasing pairs have δx + δy > 2n",
      "id": "A304_C22",
      "type": "derived"
    },
    {
      "expr": "s(x,y) = x + y, -2n ≤ s(x,y) ≤ 2n ∀(x,y)∈S",
      "id": "A304_C23",
      "type": "derived"
    },
    {
      "expr": "If ≥3 preimages for r, order by s: s₁ < s₂ < ... < s_k, k≥3",
      "id": "A304_C24",
      "type": "derived"
    },
    {
      "expr": "Consecutive: δs = δx + δy > 2n, both δx>0, δy>0",
      "id": "A304_C25",
      "type": "derived"
    },
    {
      "expr": "s_k - s₁ > 4n",
      "id": "A304_C26",
      "type": "derived"
    },
    {
      "expr": "s_k - s₁ ≤ 4n, contradiction",
      "id": "A304_C27",
      "type": "derived"
    },
    {
      "expr": "≤2 preimages per r",
      "id": "A304_C28",
      "type": "derived"
    },
    {
      "expr": "Let d = # r with 2 preimages, s = # with 1",
      "id": "A304_C29",
      "type": "derived"
    },
    {
      "expr": "4n² + 4n = s + 2d",
      "id": "A304_C30",
      "type": "derived"
    },
    {
      "expr": "s + d ≤ 3n² + 4n - 1",
      "id": "A304_C31",
      "type": "derived"
    },
    {
      "expr": "d ≥ n² + 1",
      "id": "A304_C32",
      "type": "derived"
    },
    {
      "expr": "# increasing pairs ≥ n² + 1",
      "id": "A304_C33",
      "type": "derived"
    },
    {
      "expr": "∃ ≥ n² + 1 vectors v_i = (Δx_i, Δy_i), a Δx_i + b Δy_i ≡ 0 (mod c), Δx_i + Δy_i > 2n",
      "id": "A304_C34",
      "type": "derived"
    },
    {
      "expr": "For i≠j, Δx' = Δx_i - Δx_j, Δy' = Δy_i - Δy_j, a Δx' + b Δy' ≡ 0 (mod c)",
      "id": "A304_C35",
      "type": "derived"
    },
    {
      "expr": "|Δx'| ≤ 2n, |Δy'| ≤ 2n",
      "id": "A304_C36",
      "type": "derived"
    },
    {
      "expr": "v_i ≠ v_j ⇒ |a Δx' + b Δy'| ≤ 2n c ⇒ solution",
      "id": "A304_C37",
      "type": "derived"
    },
    {
      "expr": "Not all v_i equal ⇒ solution",
      "id": "A304_C38",
      "type": "derived"
    },
    {
      "expr": "Assume all v_i = (A,B), A>0, B>0, A+B > 2n",
      "id": "A304_C39",
      "type": "derived"
    },
    {
      "expr": "# such pairs ≤ (2n+1 - A)(2n+1 - B)",
      "id": "A304_C40",
      "type": "derived"
    },
    {
      "expr": "If A+B ≥ 2n+2, (2n+1 - A)(2n+1 - B) ≤ n² < n² + 1 ≤ d, contradiction",
      "id": "A304_C41",
      "type": "derived"
    },
    {
      "expr": "A + B = 2n + 1",
      "id": "A304_C42",
      "type": "derived"
    },
    {
      "expr": "a A + b B = m c, 1 ≤ m ≤ 2n + 1",
      "id": "A304_C43",
      "type": "derived"
    },
    {
      "expr": "x=A, y=B, z=-m ⇒ ax + by + cz = 0, |x|,|y| ≤ 2n, |z| ≤ 2n + 1",
      "id": "A304_C44",
      "type": "derived"
    },
    {
      "expr": "m ≤ 2n ⇒ solution",
      "id": "A304_C45",
      "type": "derived"
    },
    {
      "expr": "m = 2n + 1 ⇒ a A + b B = (2n + 1) c ⇒ (c - a) A + (c - b) B = 0",
      "id": "A304_C46",
      "type": "derived"
    },
    {
      "expr": "(c - a) A + (c - b) B = 0, A,B > 0, c ≥ a,b ⇒ a = c, b = c",
      "id": "A304_C47",
      "type": "derived"
    },
    {
      "expr": "a = b = c ⇒ x + y + z = 0, e.g. x=1, y=0, z=-1 solution",
      "id": "A304_C48",
      "type": "derived"
    },
    {
      "expr": "In all cases, existence holds",
      "id": "A304_C49",
      "type": "final"
    },
    {
      "expr": "∀ n ∈ ℕ⁺, ∀ a,b,c ∈ ℕ⁺ ≤ 3n² + 4n, ∃ x,y,z ∈ ℤ, |x|≤2n, |y|≤2n, |z|≤2n, (x,y,z)≠((f(0) + 0),(f(0) + 0),(f(0) + 0)), ax + by + cz = (f(0) + 0)",
      "id": "B508_C1",
      "type": "goal"
    }
  ],
  "Class_ID": [
    "B1259",
    "B508"
  ],
  "Connecting_Point": [
    {
      "B1259": {
        "2": "(k + 5/2)"
      }
    },
    {
      "B508": {
        "0": "(f(0) + 0)"
      }
    }
  ],
  "Delta_Depth": [
    {
      "A3820": {
        "k": 16
      }
    },
    {
      "A3698": {
        "f(0)": 3
      }
    },
    {
      "A304": 0
    }
  ],
  "Delta_Factor": [
    {
      "A3820": 0.84
    },
    {
      "A3698": 0.21
    },
    {
      "A304": 0
    }
  ],
  "Delta_Socket": [
    {
      "A3820": {
        "0": 0.0
      }
    },
    {
      "A3698": {
        "2": 2.0
      }
    },
    {
      "A304": {
        "0": 0.0
      }
    }
  ],
  "Delta_Socket_Order": [
    {
      "A3820": 1
    },
    {
      "A3698": 1
    },
    {
      "A304": 1
    }
  ],
  "Delta_Source": [
    {
      "A3820": "derived"
    },
    {
      "A3698": "derived"
    },
    {
      "A304": ""
    }
  ],
  "Delta_Value": [
    {
      "A3820": {
        "k": "-1/2"
      }
    },
    {
      "A3698": {
        "f(0)": "0"
      }
    },
    {
      "A304": {}
    }
  ],
  "Delta_Value_Order": [
    {
      "A3820": 2
    },
    {
      "A3698": 1
    },
    {
      "A304": 0
    }
  ],
  "Delta_Variable_Names": [
    {
      "A3820": [
        "k"
      ]
    },
    {
      "A3698": [
        "f"
      ]
    },
    {
      "A304": []
    }
  ],
  "Ground_Truth": [
    {
      "A3820": "f(x) = \\begin{cases}\n\\frac{2}{2 - x}, & 0 \\leq x < 2, \\\\\n0, & x \\geq 2.\n\\end{cases}"
    },
    {
      "A3698": "f(x) = 0, \\quad f(x) = x, \\quad \\text{and} \\quad f(x) = -x."
    },
    {
      "A304": "0"
    }
  ],
  "Math_Problem": "Find all functions $f$ defined on the non-negative reals and taking non-negative real values such that: $f(2)=0,f(x)\\ne0$ for $0\\le x<2$, and $f(xf(y))f(y)=f(x+y)$ for all $x,y$. Instead of finding all functions $f$ satisfying the given conditions, simply find $\\alpha = k + \\frac{5}{2}$, where $k$ is the coefficient in the linear expression for the reciprocal of $f$ on $[0,2)$. Determine all functions $f : \\mathbb{R} \\to \\mathbb{R}$ satisfying\n$$f(x^\\alpha + f(x)f(y)) = x f(x + y)$$\nfor all real numbers $x$ and $y$. Instead of determining all functions satisfying the functional equation, simply find $k = f(0)$, where $f(0)$ is the value of the function at zero for any function satisfying the equation. Fix positive integer $n$. Prove: For any positive integers $a,b,c$ not exceeding $3n^2+4n$, there exist integers $x,y,z$ with absolute value not exceeding $2n$ and $(x,y,z) \\neq (k,k,k)$, such that $ax+by+cz=k$.",
  "Max_Delta_Depth": [
    {
      "A3820": 16
    },
    {
      "A3698": 3
    },
    {
      "A304": 0
    }
  ],
  "Max_Delta_Factor": [
    {
      "A3820": 0.84
    },
    {
      "A3698": 0.21
    },
    {
      "A304": 0
    }
  ],
  "Min_Delta_Depth": [
    {
      "A3820": 7
    },
    {
      "A3698": 3
    },
    {
      "A304": 0
    }
  ],
  "Min_Delta_Factor": [
    {
      "A3820": 0.37
    },
    {
      "A3698": 0.21
    },
    {
      "A304": 0
    }
  ],
  "Multiple_Synthesis_Class": "MP3",
  "Predicted_Answer": [
    {
      "A3820": "f(x) = { 2/(2 - x) if 0 ≤ x < 2; 0 if x ≥ 2 }"
    },
    {
      "A3698": "f(x) = 0, f(x) = x, and f(x) = -x"
    },
    {
      "A304": "0"
    }
  ],
  "Problem_ID": 19,
  "Problem_Length": [
    {
      "A3820": 178
    },
    {
      "A3698": 134
    },
    {
      "A304": 199
    }
  ],
  "Problem_Level": [
    {
      "A3820": "KbsdJames_Omni-MATH_8.0"
    },
    {
      "A3698": "KbsdJames_Omni-MATH_7.5"
    },
    {
      "A304": "KbsdJames_Omni-MATH_9.0"
    }
  ],
  "Problem_Source": [
    {
      "A3820": "imo"
    },
    {
      "A3698": "middle_european_mathematical_olympiad"
    },
    {
      "A304": "china_team_selection_test"
    }
  ],
  "Problem_Type": [
    {
      "A3820": [
        "Mathematics -> Algebra -> Abstract Algebra -> Field Theory"
      ]
    },
    {
      "A3698": [
        "Mathematics -> Precalculus -> Functions"
      ]
    },
    {
      "A304": [
        "Mathematics -> Algebra -> Linear Algebra -> Linear Transformations"
      ]
    }
  ],
  "Source_Delta_Socket": [
    {
      "A3820": "goal"
    },
    {
      "A3698": "goal"
    },
    {
      "A304": "goal"
    }
  ],
  "Steps": [
    {
      "conclusions": [
        "A3820_C2: f(2)=0",
        "A3820_C3: f(x)≠0 ∀ 0≤x<2",
        "A3820_C4: f(x f(y)) f(y) = f(x+y) ∀x,y≥0",
        "A3820_C5: f: [0,∞) -> [0,∞)"
      ],
      "id": "A3820_S1",
      "premises": [
        "A3820_C1: Find all f: [0,∞) -> [0,∞) s.t. f(2)=0, f(x)≠0 for 0≤x<2, f(x f(y)) f(y) = f(x+y) ∀x,y≥0"
      ],
      "rule": "problem setup"
    },
    {
      "conclusions": [
        "A3820_C6: f(x)=0 ∀x≥2"
      ],
      "id": "A3820_S2",
      "premises": [
        "A3820_C2: f(2)=0",
        "A3820_C4: f(x f(y)) f(y) = f(x+y) ∀x,y≥0"
      ],
      "rule": "substitute y=2 into functional equation"
    },
    {
      "conclusions": [
        "A3820_C7: f(0)=1"
      ],
      "id": "A3820_S3",
      "premises": [
        "A3820_C3: f(x)≠0 ∀ 0≤x<2",
        "A3820_C4: f(x f(y)) f(y) = f(x+y) ∀x,y≥0"
      ],
      "rule": "substitute x=0 into functional equation"
    },
    {
      "conclusions": [
        "A3820_C8: f(x)=0 ⇔ x≥2"
      ],
      "id": "A3820_S4",
      "premises": [
        "A3820_C3: f(x)≠0 ∀ 0≤x<2",
        "A3820_C6: f(x)=0 ∀x≥2"
      ],
      "rule": "combine zero conditions"
    },
    {
      "conclusions": [
        "A3820_C9: (2-y) f(y) ≥ 2 ∀ 0≤y<2"
      ],
      "id": "A3820_S5",
      "premises": [
        "A3820_C2: f(2)=0",
        "A3820_C3: f(x)≠0 ∀ 0≤x<2",
        "A3820_C4: f(x f(y)) f(y) = f(x+y) ∀x,y≥0"
      ],
      "rule": "substitute x=2-y (0≤y<2) into functional equation"
    },
    {
      "conclusions": [
        "A3820_C10: f(y) ≥ 2/(2-y) ∀ 0≤y<2"
      ],
      "id": "A3820_S6",
      "premises": [
        "A3820_C9: (2-y) f(y) ≥ 2 ∀ 0≤y<2"
      ],
      "rule": "rearrange boundary inequality"
    },
    {
      "conclusions": [
        "A3820_C11: g(x) = 1/f(x) for 0≤x<2, g(0)=1, g(x)>0 ∀ 0≤x<2"
      ],
      "id": "A3820_S7",
      "premises": [
        "A3820_C3: f(x)≠0 ∀ 0≤x<2",
        "A3820_C7: f(0)=1",
        "A3820_C8: f(x)=0 ⇔ x≥2"
      ],
      "rule": "define reciprocal g"
    },
    {
      "conclusions": [
        "A3820_C12: Assume g(x) = 1 + k x for 0≤x<2"
      ],
      "id": "A3820_S8",
      "premises": [
        "A3820_C11: g(x) = 1/f(x) for 0≤x<2, g(0)=1, g(x)>0 ∀ 0≤x<2"
      ],
      "rule": "assume linear form for g"
    },
    {
      "conclusions": [
        "A3820_C13: 1 + k y ≤ (2-y)/2 ∀ 0≤y<2"
      ],
      "id": "A3820_S9",
      "premises": [
        "A3820_C10: f(y) ≥ 2/(2-y) ∀ 0≤y<2",
        "A3820_C12: Assume g(x) = 1 + k x for 0≤x<2"
      ],
      "rule": "apply boundary inequality to g"
    },
    {
      "conclusions": [
        "A3820_C14: k ≤ -1/2"
      ],
      "id": "A3820_S10",
      "premises": [
        "A3820_C13: 1 + k y ≤ (2-y)/2 ∀ 0≤y<2"
      ],
      "rule": "solve inequality for k"
    },
    {
      "conclusions": [
        "A3820_C15: 1 + 2k ≥ 0 (positivity of g)"
      ],
      "id": "A3820_S11",
      "premises": [
        "A3820_C11: g(x) = 1/f(x) for 0≤x<2, g(0)=1, g(x)>0 ∀ 0≤x<2",
        "A3820_C12: Assume g(x) = 1 + k x for 0≤x<2"
      ],
      "rule": "positivity requires k ≥ -1/2"
    },
    {
      "conclusions": [
        "A3820_C16: k = -1/2"
      ],
      "id": "A3820_S12",
      "premises": [
        "A3820_C14: k ≤ -1/2",
        "A3820_C15: 1 + 2k ≥ 0 (positivity of g)"
      ],
      "rule": "equality from combined inequalities"
    },
    {
      "conclusions": [
        "A3820_C17: g(x) = (2 - x)/2 for 0≤x<2"
      ],
      "id": "A3820_S13",
      "premises": [
        "A3820_C12: Assume g(x) = 1 + k x for 0≤x<2",
        "A3820_C16: k = -1/2"
      ],
      "rule": "substitute k into g"
    },
    {
      "conclusions": [
        "A3820_C18: f(x) = 2/(2 - x) for 0≤x<2"
      ],
      "id": "A3820_S14",
      "premises": [
        "A3820_C17: g(x) = (2 - x)/2 for 0≤x<2"
      ],
      "rule": "take reciprocal for f"
    },
    {
      "conclusions": [
        "A3820_C19: f(x) = 2/(2 - x) if 0 ≤ x < 2, f(x) = 0 if x ≥ 2"
      ],
      "id": "A3820_S15",
      "premises": [
        "A3820_C6: f(x)=0 ∀x≥2",
        "A3820_C18: f(x) = 2/(2 - x) for 0≤x<2"
      ],
      "rule": "piecewise function definition"
    },
    {
      "conclusions": [
        "A3698_C2: f(x^2 + f(x)f(y)) = x f(x + y) for all real x,y"
      ],
      "id": "A3698_S1",
      "premises": [
        "A3698_C1: determine all f : R -> R s.t. f(x^2 + f(x)f(y)) = x f(x + y) for all real x,y"
      ],
      "rule": "problem setup"
    },
    {
      "conclusions": [
        "A3698_C3: f(0) = 0"
      ],
      "id": "A3698_S2",
      "premises": [
        "A3698_C2: f(x^2 + f(x)f(y)) = x f(x + y) for all real x,y"
      ],
      "rule": "derive f(0)=0 from special cases"
    },
    {
      "conclusions": [
        "A3698_C4: f(x^2) = x f(x) for all real x"
      ],
      "id": "A3698_S3",
      "premises": [
        "A3698_C2: f(x^2 + f(x)f(y)) = x f(x + y) for all real x,y",
        "A3698_C3: f(0) = 0"
      ],
      "rule": "substitute y=0 using f(0)=0"
    },
    {
      "conclusions": [
        "A3698_C5: consider f(x) = k x for some constant k"
      ],
      "id": "A3698_S4",
      "premises": [
        "A3698_C2: f(x^2 + f(x)f(y)) = x f(x + y) for all real x,y"
      ],
      "rule": "assume linear form f(x)=kx"
    },
    {
      "conclusions": [
        "A3698_C6: left side becomes k x^2 + k^3 x y"
      ],
      "id": "A3698_S5",
      "premises": [
        "A3698_C5: consider f(x) = k x for some constant k"
      ],
      "rule": "compute left side under assumption"
    },
    {
      "conclusions": [
        "A3698_C7: right side becomes k x^2 + k x y"
      ],
      "id": "A3698_S6",
      "premises": [
        "A3698_C5: consider f(x) = k x for some constant k"
      ],
      "rule": "compute right side under assumption"
    },
    {
      "conclusions": [
        "A3698_C8: k x^2 + k^3 x y = k x^2 + k x y for all real x,y"
      ],
      "id": "A3698_S7",
      "premises": [
        "A3698_C6: left side becomes k x^2 + k^3 x y",
        "A3698_C7: right side becomes k x^2 + k x y"
      ],
      "rule": "equate both sides"
    },
    {
      "conclusions": [
        "A3698_C9: k^3 x y = k x y for all real x,y"
      ],
      "id": "A3698_S8",
      "premises": [
        "A3698_C8: k x^2 + k^3 x y = k x^2 + k x y for all real x,y"
      ],
      "rule": "simplify by subtracting common term"
    },
    {
      "conclusions": [
        "A3698_C10: k^3 = k"
      ],
      "id": "A3698_S9",
      "premises": [
        "A3698_C9: k^3 x y = k x y for all real x,y"
      ],
      "rule": "compare coefficients of x y"
    },
    {
      "conclusions": [
        "A3698_C11: k^3 - k = 0"
      ],
      "id": "A3698_S10",
      "premises": [
        "A3698_C10: k^3 = k"
      ],
      "rule": "rearrange"
    },
    {
      "conclusions": [
        "A3698_C12: k(k-1)(k+1) = 0"
      ],
      "id": "A3698_S11",
      "premises": [
        "A3698_C11: k^3 - k = 0"
      ],
      "rule": "factor the polynomial"
    },
    {
      "conclusions": [
        "A3698_C13: k = 0 or k = 1 or k = -1"
      ],
      "id": "A3698_S12",
      "premises": [
        "A3698_C12: k(k-1)(k+1) = 0"
      ],
      "rule": "solve for k"
    },
    {
      "conclusions": [
        "A3698_C14: f(x) = 0, f(x) = x, f(x) = -x"
      ],
      "id": "A3698_S13",
      "premises": [
        "A3698_C13: k = 0 or k = 1 or k = -1"
      ],
      "rule": "interpret as functions"
    },
    {
      "conclusions": [
        "A3698_C1: determine all f : R -> R s.t. f(x^2 + f(x)f(y)) = x f(x + y) for all real x,y"
      ],
      "id": "B1259_S1",
      "premises": [
        "B1259_C1: determine all f : R -> R s.t. f(x^(k + 5/2) + f(x)f(y)) = x f(x + y) for all real x,y",
        "A3820_C16: k = -1/2"
      ],
      "rule": "problem connection"
    },
    {
      "conclusions": [
        "A304_C2: n ∈ ℕ⁺ fixed",
        "A304_C3: a,b,c ∈ ℕ⁺, a ≤ 3n² + 4n, b ≤ 3n² + 4n, c ≤ 3n² + 4n",
        "A304_C4: c = max(a,b,c)"
      ],
      "id": "A304_S1",
      "premises": [
        "A304_C1: ∀ n ∈ ℕ⁺, ∀ a,b,c ∈ ℕ⁺ ≤ 3n² + 4n, ∃ x,y,z ∈ ℤ, |x|≤2n, |y|≤2n, |z|≤2n, (x,y,z)≠(0,0,0), ax + by + cz = 0"
      ],
      "rule": "problem setup"
    },
    {
      "conclusions": [
        "A304_C5: S = {(x,y) ∈ ℤ² | 0 ≤ x ≤ 2n, -2n ≤ y ≤ 0} \\ {(0,0)}",
        "A304_C6: |S| = 4n² + 4n"
      ],
      "id": "A304_S2",
      "premises": [
        "A304_C2: n ∈ ℕ⁺ fixed"
      ],
      "rule": "define set S"
    },
    {
      "conclusions": [
        "A304_C7: ∀(x,y)∈S, ax + by ≤ 2n c",
        "A304_C8: ∀(x,y)∈S, ax + by ≥ -2n c",
        "A304_C9: ∀(x,y)∈S, |ax + by| ≤ 2n c"
      ],
      "id": "A304_S3",
      "premises": [
        "A304_C3: a,b,c ∈ ℕ⁺, a ≤ 3n² + 4n, b ≤ 3n² + 4n, c ≤ 3n² + 4n",
        "A304_C4: c = max(a,b,c)",
        "A304_C5: S = {(x,y) ∈ ℤ² | 0 ≤ x ≤ 2n, -2n ≤ y ≤ 0} \\ {(0,0)}"
      ],
      "rule": "bound linear form"
    },
    {
      "conclusions": [
        "A304_C10: ∃(x,y)∈S, ax + by ≡ 0 (mod c) ⇒ ∃ z, |z|≤2n, ax + by + cz = 0, not all zero"
      ],
      "id": "A304_S4",
      "premises": [
        "A304_C9: ∀(x,y)∈S, |ax + by| ≤ 2n c",
        "A304_C5: S = {(x,y) ∈ ℤ² | 0 ≤ x ≤ 2n, -2n ≤ y ≤ 0} \\ {(0,0)}"
      ],
      "rule": "zero modulus case"
    },
    {
      "conclusions": [
        "A304_C11: Assume ∀(x,y)∈S, ax + by ≢ 0 (mod c)",
        "A304_C12: ax + by mod c ∈ {1,...,c-1} ∀(x,y)∈S"
      ],
      "id": "A304_S5",
      "premises": [
        "A304_C10: ∃(x,y)∈S, ax + by ≡ 0 (mod c) ⇒ ∃ z, |z|≤2n, ax + by + cz = 0, not all zero"
      ],
      "rule": "case assumption no zero"
    },
    {
      "conclusions": [
        "A304_C14: ∃ distinct (x₁,y₁),(x₂,y₂)∈S, ax₁ + by₁ ≡ ax₂ + by₂ (mod c)"
      ],
      "id": "A304_S6",
      "premises": [
        "A304_C6: |S| = 4n² + 4n",
        "A304_C12: ax + by mod c ∈ {1,...,c-1} ∀(x,y)∈S",
        "A304_C13: c - 1 ≤ 3n² + 4n - 1"
      ],
      "rule": "pigeonhole principle"
    },
    {
      "conclusions": [
        "A304_C15: a δx + b δy ≡ 0 (mod c), δx = x₁ - x₂, δy = y₁ - y₂",
        "A304_C16: |δx| ≤ 2n, |δy| ≤ 2n, (δx,δy) ≠ (0,0)"
      ],
      "id": "A304_S7",
      "premises": [
        "A304_C14: ∃ distinct (x₁,y₁),(x₂,y₂)∈S, ax₁ + by₁ ≡ ax₂ + by₂ (mod c)"
      ],
      "rule": "difference congruence"
    },
    {
      "conclusions": [
        "A304_C17: If δx δy ≤ 0, |a δx + b δy| ≤ 2n c",
        "A304_C18: δx δy ≤ 0 ⇒ ∃ solution with |z| ≤ 2n"
      ],
      "id": "A304_S8",
      "premises": [
        "A304_C15: a δx + b δy ≡ 0 (mod c), δx = x₁ - x₂, δy = y₁ - y₂",
        "A304_C16: |δx| ≤ 2n, |δy| ≤ 2n, (δx,δy) ≠ (0,0)",
        "A304_C3: a,b,c ∈ ℕ⁺, a ≤ 3n² + 4n, b ≤ 3n² + 4n, c ≤ 3n² + 4n",
        "A304_C4: c = max(a,b,c)"
      ],
      "rule": "mixed sign bound"
    },
    {
      "conclusions": [
        "A304_C19: All colliding pairs have δx, δy same sign >0 or <0"
      ],
      "id": "A304_S9",
      "premises": [
        "A304_C18: δx δy ≤ 0 ⇒ ∃ solution with |z| ≤ 2n",
        "A304_C11: Assume ∀(x,y)∈S, ax + by ≢ 0 (mod c)"
      ],
      "rule": "same sign assumption"
    },
    {
      "conclusions": [
        "A304_C20: Consider pairs with x₂ > x₁, y₂ > y₁, δx >0, δy >0"
      ],
      "id": "A304_S10",
      "premises": [
        "A304_C19: All colliding pairs have δx, δy same sign >0 or <0",
        "A304_C2: n ∈ ℕ⁺ fixed"
      ],
      "rule": "focus on increasing pairs"
    },
    {
      "conclusions": [
        "A304_C21: δx + δy ≤ 2n ⇒ 0 < a δx + b δy ≤ 2n c ⇒ solution"
      ],
      "id": "A304_S11",
      "premises": [
        "A304_C20: Consider pairs with x₂ > x₁, y₂ > y₁, δx >0, δy >0",
        "A304_C3: a,b,c ∈ ℕ⁺, a ≤ 3n² + 4n, b ≤ 3n² + 4n, c ≤ 3n² + 4n",
        "A304_C4: c = max(a,b,c)"
      ],
      "rule": "small sum case"
    },
    {
      "conclusions": [
        "A304_C22: All increasing pairs have δx + δy > 2n"
      ],
      "id": "A304_S12",
      "premises": [
        "A304_C21: δx + δy ≤ 2n ⇒ 0 < a δx + b δy ≤ 2n c ⇒ solution",
        "A304_C11: Assume ∀(x,y)∈S, ax + by ≢ 0 (mod c)"
      ],
      "rule": "large sum assumption"
    },
    {
      "conclusions": [
        "A304_C23: s(x,y) = x + y, -2n ≤ s(x,y) ≤ 2n ∀(x,y)∈S"
      ],
      "id": "A304_S13",
      "premises": [
        "A304_C5: S = {(x,y) ∈ ℤ² | 0 ≤ x ≤ 2n, -2n ≤ y ≤ 0} \\ {(0,0)}"
      ],
      "rule": "define size function"
    },
    {
      "conclusions": [
        "A304_C24: If ≥3 preimages for r, order by s: s₁ < s₂ < ... < s_k, k≥3",
        "A304_C25: Consecutive: δs = δx + δy > 2n, both δx>0, δy>0"
      ],
      "id": "A304_S14",
      "premises": [
        "A304_C19: All colliding pairs have δx, δy same sign >0 or <0",
        "A304_C22: All increasing pairs have δx + δy > 2n"
      ],
      "rule": "consecutive differences"
    },
    {
      "conclusions": [
        "A304_C26: s_k - s₁ > 4n",
        "A304_C27: s_k - s₁ ≤ 4n, contradiction"
      ],
      "id": "A304_S15",
      "premises": [
        "A304_C23: s(x,y) = x + y, -2n ≤ s(x,y) ≤ 2n ∀(x,y)∈S",
        "A304_C25: Consecutive: δs = δx + δy > 2n, both δx>0, δy>0"
      ],
      "rule": "span contradiction"
    },
    {
      "conclusions": [
        "A304_C28: ≤2 preimages per r"
      ],
      "id": "A304_S16",
      "premises": [
        "A304_C24: If ≥3 preimages for r, order by s: s₁ < s₂ < ... < s_k, k≥3",
        "A304_C26: s_k - s₁ > 4n",
        "A304_C27: s_k - s₁ ≤ 4n, contradiction"
      ],
      "rule": "at most two preimages"
    },
    {
      "conclusions": [
        "A304_C29: Let d = # r with 2 preimages, s = # with 1",
        "A304_C30: 4n² + 4n = s + 2d",
        "A304_C31: s + d ≤ 3n² + 4n - 1"
      ],
      "id": "A304_S17",
      "premises": [
        "A304_C6: |S| = 4n² + 4n",
        "A304_C28: ≤2 preimages per r",
        "A304_C13: c - 1 ≤ 3n² + 4n - 1"
      ],
      "rule": "count multiples"
    },
    {
      "conclusions": [
        "A304_C32: d ≥ n² + 1"
      ],
      "id": "A304_S18",
      "premises": [
        "A304_C30: 4n² + 4n = s + 2d",
        "A304_C31: s + d ≤ 3n² + 4n - 1"
      ],
      "rule": "compute d lower bound"
    },
    {
      "conclusions": [
        "A304_C33: # increasing pairs ≥ n² + 1"
      ],
      "id": "A304_S19",
      "premises": [
        "A304_C28: ≤2 preimages per r",
        "A304_C22: All increasing pairs have δx + δy > 2n",
        "A304_C32: d ≥ n² + 1"
      ],
      "rule": "increasing pairs count"
    },
    {
      "conclusions": [
        "A304_C34: ∃ ≥ n² + 1 vectors v_i = (Δx_i, Δy_i), a Δx_i + b Δy_i ≡ 0 (mod c), Δx_i + Δy_i > 2n"
      ],
      "id": "A304_S20",
      "premises": [
        "A304_C33: # increasing pairs ≥ n² + 1"
      ],
      "rule": "exist many vectors"
    },
    {
      "conclusions": [
        "A304_C35: For i≠j, Δx' = Δx_i - Δx_j, Δy' = Δy_i - Δy_j, a Δx' + b Δy' ≡ 0 (mod c)"
      ],
      "id": "A304_S21",
      "premises": [
        "A304_C34: ∃ ≥ n² + 1 vectors v_i = (Δx_i, Δy_i), a Δx_i + b Δy_i ≡ 0 (mod c), Δx_i + Δy_i > 2n"
      ],
      "rule": "vector differences"
    },
    {
      "conclusions": [
        "A304_C36: |Δx'| ≤ 2n, |Δy'| ≤ 2n",
        "A304_C37: v_i ≠ v_j ⇒ |a Δx' + b Δy'| ≤ 2n c ⇒ solution"
      ],
      "id": "A304_S22",
      "premises": [
        "A304_C35: For i≠j, Δx' = Δx_i - Δx_j, Δy' = Δy_i - Δy_j, a Δx' + b Δy' ≡ 0 (mod c)",
        "A304_C3: a,b,c ∈ ℕ⁺, a ≤ 3n² + 4n, b ≤ 3n² + 4n, c ≤ 3n² + 4n",
        "A304_C4: c = max(a,b,c)"
      ],
      "rule": "difference bounds"
    },
    {
      "conclusions": [
        "A304_C38: Not all v_i equal ⇒ solution"
      ],
      "id": "A304_S23",
      "premises": [
        "A304_C36: |Δx'| ≤ 2n, |Δy'| ≤ 2n",
        "A304_C37: v_i ≠ v_j ⇒ |a Δx' + b Δy'| ≤ 2n c ⇒ solution"
      ],
      "rule": "difference solution"
    },
    {
      "conclusions": [
        "A304_C39: Assume all v_i = (A,B), A>0, B>0, A+B > 2n"
      ],
      "id": "A304_S24",
      "premises": [
        "A304_C38: Not all v_i equal ⇒ solution"
      ],
      "rule": "not all equal case"
    },
    {
      "conclusions": [
        "A304_C40: # such pairs ≤ (2n+1 - A)(2n+1 - B)"
      ],
      "id": "A304_S25",
      "premises": [
        "A304_C39: Assume all v_i = (A,B), A>0, B>0, A+B > 2n"
      ],
      "rule": "all equal assumption"
    },
    {
      "conclusions": [
        "A304_C41: If A+B ≥ 2n+2, (2n+1 - A)(2n+1 - B) ≤ n² < n² + 1 ≤ d, contradiction"
      ],
      "id": "A304_S26",
      "premises": [
        "A304_C5: S = {(x,y) ∈ ℤ² | 0 ≤ x ≤ 2n, -2n ≤ y ≤ 0} \\ {(0,0)}",
        "A304_C40: # such pairs ≤ (2n+1 - A)(2n+1 - B)"
      ],
      "rule": "possible starting points"
    },
    {
      "conclusions": [
        "A304_C42: A + B = 2n + 1"
      ],
      "id": "A304_S27",
      "premises": [
        "A304_C32: d ≥ n² + 1",
        "A304_C41: If A+B ≥ 2n+2, (2n+1 - A)(2n+1 - B) ≤ n² < n² + 1 ≤ d, contradiction",
        "A304_C2: n ∈ ℕ⁺ fixed"
      ],
      "rule": "product bound if large sum"
    },
    {
      "conclusions": [
        "A304_C43: a A + b B = m c, 1 ≤ m ≤ 2n + 1"
      ],
      "id": "A304_S28",
      "premises": [
        "A304_C41: If A+B ≥ 2n+2, (2n+1 - A)(2n+1 - B) ≤ n² < n² + 1 ≤ d, contradiction",
        "A304_C42: A + B = 2n + 1"
      ],
      "rule": "must be exact sum"
    },
    {
      "conclusions": [
        "A304_C44: x=A, y=B, z=-m ⇒ ax + by + cz = 0, |x|,|y| ≤ 2n, |z| ≤ 2n + 1"
      ],
      "id": "A304_S29",
      "premises": [
        "A304_C40: # such pairs ≤ (2n+1 - A)(2n+1 - B)",
        "A304_C43: a A + b B = m c, 1 ≤ m ≤ 2n + 1"
      ],
      "rule": "relation for (A,B)"
    },
    {
      "conclusions": [
        "A304_C45: m ≤ 2n ⇒ solution",
        "A304_C46: m = 2n + 1 ⇒ a A + b B = (2n + 1) c ⇒ (c - a) A + (c - b) B = 0"
      ],
      "id": "A304_S30",
      "premises": [
        "A304_C44: x=A, y=B, z=-m ⇒ ax + by + cz = 0, |x|,|y| ≤ 2n, |z| ≤ 2n + 1",
        "A304_C4: c = max(a,b,c)"
      ],
      "rule": "check m bound"
    },
    {
      "conclusions": [
        "A304_C47: (c - a) A + (c - b) B = 0, A,B > 0, c ≥ a,b ⇒ a = c, b = c"
      ],
      "id": "A304_S31",
      "premises": [
        "A304_C46: m = 2n + 1 ⇒ a A + b B = (2n + 1) c ⇒ (c - a) A + (c - b) B = 0"
      ],
      "rule": "equality case"
    },
    {
      "conclusions": [
        "A304_C48: a = b = c ⇒ x + y + z = 0, e.g. x=1, y=0, z=-1 solution"
      ],
      "id": "A304_S32",
      "premises": [
        "A304_C47: (c - a) A + (c - b) B = 0, A,B > 0, c ≥ a,b ⇒ a = c, b = c",
        "A304_C4: c = max(a,b,c)"
      ],
      "rule": "implies a=b=c"
    },
    {
      "conclusions": [
        "A304_C49: In all cases, existence holds"
      ],
      "id": "A304_S33",
      "premises": [
        "A304_C3: a,b,c ∈ ℕ⁺, a ≤ 3n² + 4n, b ≤ 3n² + 4n, c ≤ 3n² + 4n",
        "A304_C48: a = b = c ⇒ x + y + z = 0, e.g. x=1, y=0, z=-1 solution"
      ],
      "rule": "trivial solution"
    },
    {
      "conclusions": [],
      "id": "A304_S34",
      "premises": [
        "A304_C45: m ≤ 2n ⇒ solution",
        "A304_C49: In all cases, existence holds",
        "A304_C38: Not all v_i equal ⇒ solution",
        "A304_C18: δx δy ≤ 0 ⇒ ∃ solution with |z| ≤ 2n",
        "A304_C10: ∃(x,y)∈S, ax + by ≡ 0 (mod c) ⇒ ∃ z, |z|≤2n, ax + by + cz = 0, not all zero"
      ],
      "rule": "complete proof"
    },
    {
      "conclusions": [
        "A304_C1: ∀ n ∈ ℕ⁺, ∀ a,b,c ∈ ℕ⁺ ≤ 3n² + 4n, ∃ x,y,z ∈ ℤ, |x|≤2n, |y|≤2n, |z|≤2n, (x,y,z)≠(0,0,0), ax + by + cz = 0"
      ],
      "id": "B508_S1",
      "premises": [
        "B508_C1: ∀ n ∈ ℕ⁺, ∀ a,b,c ∈ ℕ⁺ ≤ 3n² + 4n, ∃ x,y,z ∈ ℤ, |x|≤2n, |y|≤2n, |z|≤2n, (x,y,z)≠((f(0) + 0),(f(0) + 0),(f(0) + 0)), ax + by + cz = (f(0) + 0)",
        "A3698_C3: f(0) = 0"
      ],
      "rule": "problem connection"
    }
  ],
  "Sub_Class_ID": [
    {
      "A3820": "A3820_DG_2"
    },
    {
      "A3698": "A3698_DG_1"
    },
    {
      "A304": "A304_OG_1"
    }
  ],
  "Synthesised_By": [
    {
      "A3820": "Find all functions $f$ defined on the non-negative reals and taking non-negative real values such that: $f(2)=0,f(x)\\ne0$ for $0\\le x<2$, and $f(xf(y))f(y)=f(x+y)$ for all $x,y$."
    },
    {
      "A3698": "Determine all functions $f : \\mathbb{R} \\to \\mathbb{R}$ satisfying\n$$f(x^2 + f(x)f(y)) = xf(x + y)$$\nfor all real numbers $x$ and $y$."
    },
    {
      "A304": "FIx positive integer $n$. Prove: For any positive integers $a,b,c$ not exceeding $3n^2+4n$, there exist integers $x,y,z$ with absolute value not exceeding $2n$ and not all $0$, such that $ax+by+cz=0$"
    }
  ],
  "Synthesised_Problem_Length": 922,
  "Synthesised_Status": "Stop",
  "Total_Claims": [
    {
      "A3820": 19
    },
    {
      "A3698": 14
    },
    {
      "A304": 49
    }
  ],
  "Total_Delta": [
    {
      "A3820": 2
    },
    {
      "A3698": 1
    },
    {
      "A304": 0
    }
  ],
  "Total_Delta_Socket": [
    {
      "A3820": 1
    },
    {
      "A3698": 1
    },
    {
      "A304": 1
    }
  ],
  "Variable_Names": [
    {
      "A3820": [
        "f",
        "x",
        "y"
      ]
    },
    {
      "A3698": [
        "f",
        "R",
        "x",
        "y"
      ]
    },
    {
      "A304": [
        "n",
        "a",
        "b",
        "c",
        "x",
        "y",
        "z"
      ]
    }
  ]
}
