{
  "Chunk_Type": "T5",
  "Claims": [
    {
      "expr": "Determine all f: ℤ → ℤ s.t. ∀m,n∈ℤ, f(f(m)+n) + f(m) = f(n) + f(3m) + 2014",
      "id": "A3989_C1",
      "type": "goal"
    },
    {
      "expr": "∀m,n∈ℤ, f(f(m)+n) + f(m) = f(n) + f(3m) + 2014",
      "id": "A3989_C2",
      "type": "context"
    },
    {
      "expr": "∀m∈ℤ, f(f(m)) + f(m) = f(0) + f(3m) + 2014",
      "id": "A3989_C3",
      "type": "derived"
    },
    {
      "expr": "∀n∈ℤ, f(f(0) + n) + f(0) = f(n) + f(0) + 2014",
      "id": "A3989_C4",
      "type": "derived"
    },
    {
      "expr": "∀n∈ℤ, f(f(0) + n) = f(n) + 2014",
      "id": "A3989_C5",
      "type": "derived"
    },
    {
      "expr": "Let c = f(0); ∀n∈ℤ, f(c + n) = f(n) + 2014",
      "id": "A3989_C6",
      "type": "derived"
    },
    {
      "expr": "f(x) = a x + b for constants a, b ∈ ℤ",
      "id": "A3989_C7",
      "type": "derived"
    },
    {
      "expr": "f(f(m) + n) = a² m + a n + a b + b",
      "id": "A3989_C8",
      "type": "derived"
    },
    {
      "expr": "LHS = a² m + a m + a n + a b + 2 b",
      "id": "A3989_C9",
      "type": "derived"
    },
    {
      "expr": "RHS = 3 a m + a n + 2 b + 2014",
      "id": "A3989_C10",
      "type": "derived"
    },
    {
      "expr": "a² m + a m + a b + 2 b = 3 a m + 2 b + 2014 ∀m∈ℤ",
      "id": "A3989_C11",
      "type": "derived"
    },
    {
      "expr": "a² m + a m + a b = 3 a m + 2014 ∀m∈ℤ",
      "id": "A3989_C12",
      "type": "derived"
    },
    {
      "expr": "a² + a = 3 a",
      "id": "A3989_C13",
      "type": "derived"
    },
    {
      "expr": "a² - 2 a = 0 ∧ (a = 0 ∨ a = 2)",
      "id": "A3989_C14",
      "type": "derived"
    },
    {
      "expr": "If a=0, then 0 = 2014 (contradiction)",
      "id": "A3989_C15",
      "type": "derived"
    },
    {
      "expr": "a = 2",
      "id": "A3989_C16",
      "type": "derived"
    },
    {
      "expr": "2 b = 2014 ∧ b = 1007",
      "id": "A3989_C17",
      "type": "derived"
    },
    {
      "expr": "f(m) = 2 m + 1007",
      "id": "A3989_C18",
      "type": "final"
    },
    {
      "expr": "Find all f: R → R such that (x + y^2) f(y f(x)) = x y f(y^2 + f(x)) for all x, y in R",
      "id": "A4001_C1",
      "type": "derived"
    },
    {
      "expr": "f(0) = 0",
      "id": "A4001_C2",
      "type": "derived"
    },
    {
      "expr": "f(x) = 0 for all x satisfies the equation",
      "id": "A4001_C3",
      "type": "derived"
    },
    {
      "expr": "f(x) = x for all x satisfies the equation",
      "id": "A4001_C4",
      "type": "derived"
    },
    {
      "expr": "Consider functions f with f(z) = 0 for z ≠ -a^2 and f(-a^2) = a",
      "id": "A4001_C5",
      "type": "derived"
    },
    {
      "expr": "For x ≠ -a^2, f(x) = 0 so y f(x) = 0, f(0) = 0, left side = 0; right side x y f(y^2) = x y * 0 = 0 since y^2 ≠ -a^2",
      "id": "A4001_C6",
      "type": "derived"
    },
    {
      "expr": "For x = -a^2, left side = (-a^2 + y^2) f(y a)",
      "id": "A4001_C7",
      "type": "derived"
    },
    {
      "expr": "f(y a) = a iff y = -a, else 0",
      "id": "A4001_C8",
      "type": "derived"
    },
    {
      "expr": "When y = -a, left side = 0 * a = 0",
      "id": "A4001_C9",
      "type": "derived"
    },
    {
      "expr": "When y ≠ -a, left side = (-a^2 + y^2) * 0 = 0",
      "id": "A4001_C10",
      "type": "derived"
    },
    {
      "expr": "Right side for x = -a^2 is -a^2 y f(y^2 + a)",
      "id": "A4001_C11",
      "type": "derived"
    },
    {
      "expr": "f(y^2 + a) = a iff y^2 = -a(a + 1)",
      "id": "A4001_C12",
      "type": "derived"
    },
    {
      "expr": "For a in (-∞, -1] ∪ (0, ∞), -a(a + 1) ≤ 0, so no real y except possibly y = 0 for a = -1",
      "id": "A4001_C13",
      "type": "derived"
    },
    {
      "expr": "For such a, right side = 0 for all y (since f(y^2 + a) = 0 or y = 0)",
      "id": "A4001_C14",
      "type": "derived"
    },
    {
      "expr": "All solutions are f(x) = 0, f(x) = x, and f(x) = 0 if x ≠ -a^2, f(-a^2) = a for a in (-∞, -1] ∪ (0, ∞)",
      "id": "A4001_C15",
      "type": "final"
    },
    {
      "expr": "Find all f: R → R such that (x + y^(a + 0)) f(y f(x)) = x y f(y^(a + 0) + f(x)) for all x, y in R",
      "id": "B1630_C1",
      "type": "goal"
    },
    {
      "expr": "det(S) = (-1)^{ceil(n/2)-1} * 2 * ceil(n/2)",
      "id": "A3262_C1",
      "type": "derived"
    },
    {
      "expr": "n is a positive integer",
      "id": "A3262_C2",
      "type": "context"
    },
    {
      "expr": "For i,j in {1,...,n}, S_{i j} = number of (a,b) in nonnegative integers with a*i + b*j = n",
      "id": "A3262_C3",
      "type": "context"
    },
    {
      "expr": "S is symmetric: S_{i j} = S_{j i} for all i,j",
      "id": "A3262_C4",
      "type": "derived"
    },
    {
      "expr": "S_{1 1} = n + 1",
      "id": "A3262_C5",
      "type": "derived"
    },
    {
      "expr": "T obtained from S by: for d=2 to n-2 subtract S_{n d} * row_{n-1} from row_d and same for columns; then subtract row_{n-1} from row_n and column_{n-1} from column_n",
      "id": "A3262_C6",
      "type": "derived"
    },
    {
      "expr": "det(T) = det(S)",
      "id": "A3262_C7",
      "type": "derived"
    },
    {
      "expr": "T is symmetric",
      "id": "A3262_C8",
      "type": "derived"
    },
    {
      "expr": "For n/2 < i < n-1 and 1 < j < n-1, T_{i j} = 1 if j divides (n - i), else 0; T_{i 1} = 0, T_{i, n-1} = 0, T_{i n} = 0",
      "id": "A3262_C9",
      "type": "derived"
    },
    {
      "expr": "Sequential strikes of entries (i, n-i) and (n-i, i) for i=2 to floor(n/2) are valid (unique nonzero 1 in row or column at each step), each strike multiplies det by -1, total sign (-1)^{floor(n/2) - 1}",
      "id": "A3262_C10",
      "type": "derived"
    },
    {
      "expr": "n odd => after strikes, remaining 3x3 matrix M on rows/cols 1,n-1,n: [[n+1, -1, 0], [-1, 0, 1], [0, 1, 0]]; det(S) = (-1)^{floor(n/2)-1} * det(M)",
      "id": "A3262_C11",
      "type": "derived"
    },
    {
      "expr": "det(M) = -(n + 1)",
      "id": "A3262_C12",
      "type": "derived"
    },
    {
      "expr": "n odd => strike last two rows/cols of M (valid, unique 1's), multiplies by -1, leaves 1x1 minor n+1; thus det(M) = -1 * (n + 1)",
      "id": "A3262_C13",
      "type": "derived"
    },
    {
      "expr": "n odd => det(S) = (-1)^{floor(n/2)-1} * (- (n + 1)) = (-1)^{floor(n/2)} * (n + 1)",
      "id": "A3262_C14",
      "type": "derived"
    },
    {
      "expr": "n odd => n + 1 = 2 * ceil(n/2) and (-1)^{floor(n/2)} = (-1)^{ceil(n/2) - 1}",
      "id": "A3262_C15",
      "type": "derived"
    },
    {
      "expr": "n even => after strikes, remaining 4x4 matrix P on rows/cols 1, n/2, n-1, n: [[n+1, -1, 2, 0], [-1, -1, 1, -1], [2, 1, 0, 1], [0, -1, 1, 0]]; det(S) = (-1)^{floor(n/2)-1} * det(P)",
      "id": "A3262_C16",
      "type": "derived"
    },
    {
      "expr": "n even, let m = n/2; add row n-1 to row n/2 and column n-1 to column n/2 in P to get Q = [[n+1, 1, 2, 0], [1, 1, 1, 0], [2, 1, 0, 1], [0, 0, 1, 0]]; det(Q) = det(P)",
      "id": "A3262_C17",
      "type": "derived"
    },
    {
      "expr": "det(Q) = -n",
      "id": "A3262_C18",
      "type": "derived"
    },
    {
      "expr": "n even => strike last two rows/cols of Q (valid), multiplies by -1, leaves 2x2 minor [[n+1, 1], [1, 1]] with det n; thus det(Q) = -1 * n",
      "id": "A3262_C19",
      "type": "derived"
    },
    {
      "expr": "n even => the strike sign up to Q is adjusted to (-1)^m; det(S) = (-1)^m * (-n) = (-1)^{m+1} * n",
      "id": "A3262_C20",
      "type": "derived"
    },
    {
      "expr": "n even => n = 2 m, (-1)^{m+1} * 2 m = (-1)^{m-1} * 2 m = (-1)^{ceil(n/2)-1} * 2 * ceil(n/2)",
      "id": "A3262_C21",
      "type": "derived"
    },
    {
      "expr": "det(S) = (-1)^{ceil(n/2)-1} * 2 * ceil(n/2)",
      "id": "A3262_C22",
      "type": "final"
    },
    {
      "expr": "det(S) = (-(f(0) + 1))^{ceil(n/2)-1} * 2 * ceil(n/2)",
      "id": "B656_C1",
      "type": "goal"
    }
  ],
  "Class_ID": [
    "B1630",
    "B656"
  ],
  "Connecting_Point": [
    {
      "B1630": {
        "2": "(a + 0)"
      }
    },
    {
      "B656": {
        "1": "(f(0) + 1)"
      }
    }
  ],
  "Delta_Depth": [
    {
      "A3989": {
        "a": 16
      }
    },
    {
      "A4001": {
        "f(0)": 2
      }
    },
    {
      "A3262": 0
    }
  ],
  "Delta_Factor": [
    {
      "A3989": 0.89
    },
    {
      "A4001": 0.13
    },
    {
      "A3262": 0
    }
  ],
  "Delta_Socket": [
    {
      "A3989": {
        "2014": 2014.0
      }
    },
    {
      "A4001": {
        "2": 2.0
      }
    },
    {
      "A3262": {
        "1": 1.0
      }
    }
  ],
  "Delta_Socket_Order": [
    {
      "A3989": 1
    },
    {
      "A4001": 1
    },
    {
      "A3262": 1
    }
  ],
  "Delta_Source": [
    {
      "A3989": "derived"
    },
    {
      "A4001": "derived"
    },
    {
      "A3262": ""
    }
  ],
  "Delta_Value": [
    {
      "A3989": {
        "a": "2"
      }
    },
    {
      "A4001": {
        "f(0)": "0"
      }
    },
    {
      "A3262": {}
    }
  ],
  "Delta_Value_Order": [
    {
      "A3989": 1
    },
    {
      "A4001": 1
    },
    {
      "A3262": 0
    }
  ],
  "Delta_Variable_Names": [
    {
      "A3989": [
        "a"
      ]
    },
    {
      "A4001": [
        "f"
      ]
    },
    {
      "A3262": []
    }
  ],
  "Ground_Truth": [
    {
      "A3989": "f(m) = 2m + 1007"
    },
    {
      "A4001": "f(x) = x; \\quad f(x) \\equiv 0; \\quad f(x) = \n\\begin{cases} \n0, & x \\neq -a^2 \\\\\na, & x = -a^2 \n\\end{cases}\n\\text{ for arbitrary } a \\in (-\\infty, -1] \\cup (0, +\\infty)."
    },
    {
      "A3262": "(-1)^{\\lceil n/2 \\rceil-1} 2 \\lceil \\frac{n}{2} \\rceil"
    }
  ],
  "Math_Problem": "Determine all functions $f: \\mathbb{Z}\\to\\mathbb{Z}$ satisfying \\[f\\big(f(m)+n\\big)+f(m)=f(n)+f(3m)+2014\\] for all integers $m$ and $n$. Instead of determining all integer-to-integer functions satisfying the given recurrence relation for all integers, simply find $a$, the coefficient of the input variable in the affine form of solutions to the equation. Find all functions $f:\\mathbb{R} \\rightarrow \\mathbb{R}$ such that $$(x+y^{a+0})f(yf(x))=xyf(y^{a+0}+f(x))$$, where $x,y \\in \\mathbb{R}$. Instead of finding all functions from reals to reals satisfying the given functional equation, simply find $k = f(0) + 1$, where $f(0)$ is the value at zero of a function $f$ satisfying the functional equation. Let $n$ be a positive integer. For $i$ and $j$ in $\\{1,2,\\dots,n\\}$, let $s(i,j)$ be the number of pairs $(a,b)$ of nonnegative integers satisfying $ai + bj = n$. Let $S$ be the $n$-by-$n$ matrix whose $(i,j)$ entry is $s(i,j)$. For example, when $n=5$, we have $S = \\begin{bmatrix} 6 & 3 & 2 & 2 & 2 \\\\ 3 & 0 & 1 & 0 & 1 \\\\ 2 & 1 & 0 & 0 & 1 \\\\ 2 & 0 & 0 & 0 & 1 \\\\ 2 & 1 & 1 & 1 & 2 \\end{bmatrix}$. Compute $(-k)^{\\lceil n/2 \\rceil - 1} \\cdot 2 \\cdot \\lceil n/2 \\rceil$.",
  "Max_Delta_Depth": [
    {
      "A3989": 16
    },
    {
      "A4001": 2
    },
    {
      "A3262": 0
    }
  ],
  "Max_Delta_Factor": [
    {
      "A3989": 0.89
    },
    {
      "A4001": 0.13
    },
    {
      "A3262": 0
    }
  ],
  "Min_Delta_Depth": [
    {
      "A3989": 16
    },
    {
      "A4001": 2
    },
    {
      "A3262": 0
    }
  ],
  "Min_Delta_Factor": [
    {
      "A3989": 0.89
    },
    {
      "A4001": 0.13
    },
    {
      "A3262": 0
    }
  ],
  "Multiple_Synthesis_Class": "MP3",
  "Predicted_Answer": [
    {
      "A3989": "f(m) = 2m + 1007"
    },
    {
      "A4001": "f(x) = x; f(x) ≡ 0; f(x) = { 0, x ≠ -a^2 ; a, x = -a^2 } for arbitrary a ∈ (-∞, -1] ∪ (0, +∞)."
    },
    {
      "A3262": "(-1)^{\\lceil n/2 \rceil-1} 2 \\lceil \frac{n}{2} \rceil"
    }
  ],
  "Problem_ID": 25,
  "Problem_Length": [
    {
      "A3989": 141
    },
    {
      "A4001": 111
    },
    {
      "A3262": 430
    }
  ],
  "Problem_Level": [
    {
      "A3989": "KbsdJames_Omni-MATH_9.0"
    },
    {
      "A4001": "KbsdJames_Omni-MATH_7.5"
    },
    {
      "A3262": "KbsdJames_Omni-MATH_9.0"
    }
  ],
  "Problem_Source": [
    {
      "A3989": "imo_shortlist"
    },
    {
      "A4001": "international_zhautykov_olympiad"
    },
    {
      "A3262": "putnam"
    }
  ],
  "Problem_Type": [
    {
      "A3989": [
        "Mathematics -> Algebra -> Abstract Algebra -> Other",
        "Mathematics -> Discrete Mathematics -> Logic"
      ]
    },
    {
      "A4001": [
        "Mathematics -> Algebra -> Abstract Algebra -> Field Theory",
        "Mathematics -> Discrete Mathematics -> Logic"
      ]
    },
    {
      "A3262": [
        "Mathematics -> Algebra -> Linear Algebra -> Matrices"
      ]
    }
  ],
  "Source_Delta_Socket": [
    {
      "A3989": "goal"
    },
    {
      "A4001": "goal"
    },
    {
      "A3262": "goal"
    }
  ],
  "Steps": [
    {
      "conclusions": [
        "A3989_C2: ∀m,n∈ℤ, f(f(m)+n) + f(m) = f(n) + f(3m) + 2014"
      ],
      "id": "A3989_S1",
      "premises": [
        "A3989_C1: Determine all f: ℤ → ℤ s.t. ∀m,n∈ℤ, f(f(m)+n) + f(m) = f(n) + f(3m) + 2014"
      ],
      "rule": "problem setup"
    },
    {
      "conclusions": [
        "A3989_C3: ∀m∈ℤ, f(f(m)) + f(m) = f(0) + f(3m) + 2014"
      ],
      "id": "A3989_S2",
      "premises": [
        "A3989_C2: ∀m,n∈ℤ, f(f(m)+n) + f(m) = f(n) + f(3m) + 2014"
      ],
      "rule": "substitute n=0"
    },
    {
      "conclusions": [
        "A3989_C4: ∀n∈ℤ, f(f(0) + n) + f(0) = f(n) + f(0) + 2014"
      ],
      "id": "A3989_S3",
      "premises": [
        "A3989_C2: ∀m,n∈ℤ, f(f(m)+n) + f(m) = f(n) + f(3m) + 2014"
      ],
      "rule": "substitute m=0"
    },
    {
      "conclusions": [
        "A3989_C5: ∀n∈ℤ, f(f(0) + n) = f(n) + 2014"
      ],
      "id": "A3989_S4",
      "premises": [
        "A3989_C4: ∀n∈ℤ, f(f(0) + n) + f(0) = f(n) + f(0) + 2014"
      ],
      "rule": "simplify equation"
    },
    {
      "conclusions": [
        "A3989_C6: Let c = f(0); ∀n∈ℤ, f(c + n) = f(n) + 2014"
      ],
      "id": "A3989_S5",
      "premises": [
        "A3989_C5: ∀n∈ℤ, f(f(0) + n) = f(n) + 2014"
      ],
      "rule": "introduce notation c=f(0)"
    },
    {
      "conclusions": [
        "A3989_C7: f(x) = a x + b for constants a, b ∈ ℤ"
      ],
      "id": "A3989_S6",
      "premises": [
        "A3989_C6: Let c = f(0); ∀n∈ℤ, f(c + n) = f(n) + 2014"
      ],
      "rule": "assume affine form from shift property"
    },
    {
      "conclusions": [
        "A3989_C8: f(f(m) + n) = a² m + a n + a b + b"
      ],
      "id": "A3989_S7",
      "premises": [
        "A3989_C7: f(x) = a x + b for constants a, b ∈ ℤ"
      ],
      "rule": "compute f(f(m)+n)"
    },
    {
      "conclusions": [
        "A3989_C9: LHS = a² m + a m + a n + a b + 2 b"
      ],
      "id": "A3989_S8",
      "premises": [
        "A3989_C8: f(f(m) + n) = a² m + a n + a b + b",
        "A3989_C7: f(x) = a x + b for constants a, b ∈ ℤ"
      ],
      "rule": "add f(m) to get LHS"
    },
    {
      "conclusions": [
        "A3989_C10: RHS = 3 a m + a n + 2 b + 2014"
      ],
      "id": "A3989_S9",
      "premises": [
        "A3989_C7: f(x) = a x + b for constants a, b ∈ ℤ"
      ],
      "rule": "compute RHS"
    },
    {
      "conclusions": [
        "A3989_C11: a² m + a m + a b + 2 b = 3 a m + 2 b + 2014 ∀m∈ℤ"
      ],
      "id": "A3989_S10",
      "premises": [
        "A3989_C9: LHS = a² m + a m + a n + a b + 2 b",
        "A3989_C10: RHS = 3 a m + a n + 2 b + 2014"
      ],
      "rule": "equate LHS and RHS"
    },
    {
      "conclusions": [
        "A3989_C12: a² m + a m + a b = 3 a m + 2014 ∀m∈ℤ"
      ],
      "id": "A3989_S11",
      "premises": [
        "A3989_C11: a² m + a m + a b + 2 b = 3 a m + 2 b + 2014 ∀m∈ℤ"
      ],
      "rule": "cancel 2b from both sides"
    },
    {
      "conclusions": [
        "A3989_C13: a² + a = 3 a"
      ],
      "id": "A3989_S12",
      "premises": [
        "A3989_C12: a² m + a m + a b = 3 a m + 2014 ∀m∈ℤ"
      ],
      "rule": "equate coefficients of m"
    },
    {
      "conclusions": [
        "A3989_C14: a² - 2 a = 0 ∧ (a = 0 ∨ a = 2)"
      ],
      "id": "A3989_S13",
      "premises": [
        "A3989_C13: a² + a = 3 a"
      ],
      "rule": "solve quadratic equation"
    },
    {
      "conclusions": [
        "A3989_C15: If a=0, then 0 = 2014 (contradiction)"
      ],
      "id": "A3989_S14",
      "premises": [
        "A3989_C14: a² - 2 a = 0 ∧ (a = 0 ∨ a = 2)",
        "A3989_C12: a² m + a m + a b = 3 a m + 2014 ∀m∈ℤ"
      ],
      "rule": "check case a=0 in C12"
    },
    {
      "conclusions": [
        "A3989_C16: a = 2"
      ],
      "id": "A3989_S15",
      "premises": [
        "A3989_C15: If a=0, then 0 = 2014 (contradiction)"
      ],
      "rule": "eliminate impossible case"
    },
    {
      "conclusions": [
        "A3989_C17: 2 b = 2014 ∧ b = 1007"
      ],
      "id": "A3989_S16",
      "premises": [
        "A3989_C12: a² m + a m + a b = 3 a m + 2014 ∀m∈ℤ",
        "A3989_C16: a = 2"
      ],
      "rule": "substitute a=2 into constant term of C12"
    },
    {
      "conclusions": [
        "A3989_C18: f(m) = 2 m + 1007"
      ],
      "id": "A3989_S17",
      "premises": [
        "A3989_C7: f(x) = a x + b for constants a, b ∈ ℤ",
        "A3989_C16: a = 2",
        "A3989_C17: 2 b = 2014 ∧ b = 1007"
      ],
      "rule": "conclude function form"
    },
    {
      "conclusions": [
        "A4001_C2: f(0) = 0"
      ],
      "id": "A4001_S1",
      "premises": [
        "A4001_C1: Find all f: R → R such that (x + y^2) f(y f(x)) = x y f(y^2 + f(x)) for all x, y in R"
      ],
      "rule": "problem setup"
    },
    {
      "conclusions": [
        "A4001_C3: f(x) = 0 for all x satisfies the equation"
      ],
      "id": "A4001_S2",
      "premises": [
        "A4001_C1: Find all f: R → R such that (x + y^2) f(y f(x)) = x y f(y^2 + f(x)) for all x, y in R"
      ],
      "rule": "substitute f ≡ 0"
    },
    {
      "conclusions": [
        "A4001_C4: f(x) = x for all x satisfies the equation"
      ],
      "id": "A4001_S3",
      "premises": [
        "A4001_C1: Find all f: R → R such that (x + y^2) f(y f(x)) = x y f(y^2 + f(x)) for all x, y in R"
      ],
      "rule": "substitute f(x) = x"
    },
    {
      "conclusions": [
        "A4001_C5: Consider functions f with f(z) = 0 for z ≠ -a^2 and f(-a^2) = a"
      ],
      "id": "A4001_S4",
      "premises": [
        "A4001_C1: Find all f: R → R such that (x + y^2) f(y f(x)) = x y f(y^2 + f(x)) for all x, y in R",
        "A4001_C2: f(0) = 0"
      ],
      "rule": "propose piecewise form"
    },
    {
      "conclusions": [
        "A4001_C6: For x ≠ -a^2, f(x) = 0 so y f(x) = 0, f(0) = 0, left side = 0; right side x y f(y^2) = x y * 0 = 0 since y^2 ≠ -a^2"
      ],
      "id": "A4001_S5",
      "premises": [
        "A4001_C5: Consider functions f with f(z) = 0 for z ≠ -a^2 and f(-a^2) = a",
        "A4001_C2: f(0) = 0"
      ],
      "rule": "case x ≠ -a^2"
    },
    {
      "conclusions": [
        "A4001_C7: For x = -a^2, left side = (-a^2 + y^2) f(y a)"
      ],
      "id": "A4001_S6",
      "premises": [
        "A4001_C5: Consider functions f with f(z) = 0 for z ≠ -a^2 and f(-a^2) = a"
      ],
      "rule": "substitute x = -a^2 into left"
    },
    {
      "conclusions": [
        "A4001_C8: f(y a) = a iff y = -a, else 0"
      ],
      "id": "A4001_S7",
      "premises": [
        "A4001_C5: Consider functions f with f(z) = 0 for z ≠ -a^2 and f(-a^2) = a"
      ],
      "rule": "determine when f(y a) ≠ 0"
    },
    {
      "conclusions": [
        "A4001_C9: When y = -a, left side = 0 * a = 0"
      ],
      "id": "A4001_S8",
      "premises": [
        "A4001_C7: For x = -a^2, left side = (-a^2 + y^2) f(y a)",
        "A4001_C8: f(y a) = a iff y = -a, else 0"
      ],
      "rule": "substitute y = -a"
    },
    {
      "conclusions": [
        "A4001_C10: When y ≠ -a, left side = (-a^2 + y^2) * 0 = 0"
      ],
      "id": "A4001_S9",
      "premises": [
        "A4001_C7: For x = -a^2, left side = (-a^2 + y^2) f(y a)",
        "A4001_C8: f(y a) = a iff y = -a, else 0"
      ],
      "rule": "substitute y ≠ -a"
    },
    {
      "conclusions": [
        "A4001_C11: Right side for x = -a^2 is -a^2 y f(y^2 + a)"
      ],
      "id": "A4001_S10",
      "premises": [
        "A4001_C9: When y = -a, left side = 0 * a = 0",
        "A4001_C10: When y ≠ -a, left side = (-a^2 + y^2) * 0 = 0"
      ],
      "rule": "left side = 0 for x = -a^2"
    },
    {
      "conclusions": [
        "A4001_C11: Right side for x = -a^2 is -a^2 y f(y^2 + a)"
      ],
      "id": "A4001_S11",
      "premises": [
        "A4001_C5: Consider functions f with f(z) = 0 for z ≠ -a^2 and f(-a^2) = a"
      ],
      "rule": "substitute x = -a^2 into right"
    },
    {
      "conclusions": [
        "A4001_C12: f(y^2 + a) = a iff y^2 = -a(a + 1)"
      ],
      "id": "A4001_S12",
      "premises": [
        "A4001_C5: Consider functions f with f(z) = 0 for z ≠ -a^2 and f(-a^2) = a"
      ],
      "rule": "determine when f(y^2 + a) ≠ 0"
    },
    {
      "conclusions": [
        "A4001_C13: For a in (-∞, -1] ∪ (0, ∞), -a(a + 1) ≤ 0, so no real y except possibly y = 0 for a = -1"
      ],
      "id": "A4001_S13",
      "premises": [
        "A4001_C12: f(y^2 + a) = a iff y^2 = -a(a + 1)"
      ],
      "rule": "sign analysis of -a(a + 1)"
    },
    {
      "conclusions": [
        "A4001_C14: For such a, right side = 0 for all y (since f(y^2 + a) = 0 or y = 0)"
      ],
      "id": "A4001_S14",
      "premises": [
        "A4001_C11: Right side for x = -a^2 is -a^2 y f(y^2 + a)",
        "A4001_C13: For a in (-∞, -1] ∪ (0, ∞), -a(a + 1) ≤ 0, so no real y except possibly y = 0 for a = -1"
      ],
      "rule": "right side = 0 for x = -a^2"
    },
    {
      "conclusions": [
        "A4001_C15: All solutions are f(x) = 0, f(x) = x, and f(x) = 0 if x ≠ -a^2, f(-a^2) = a for a in (-∞, -1] ∪ (0, ∞)"
      ],
      "id": "A4001_S15",
      "premises": [
        "A4001_C3: f(x) = 0 for all x satisfies the equation",
        "A4001_C4: f(x) = x for all x satisfies the equation",
        "A4001_C6: For x ≠ -a^2, f(x) = 0 so y f(x) = 0, f(0) = 0, left side = 0; right side x y f(y^2) = x y * 0 = 0 since y^2 ≠ -a^2",
        "A4001_C14: For such a, right side = 0 for all y (since f(y^2 + a) = 0 or y = 0)"
      ],
      "rule": "combine all cases"
    },
    {
      "conclusions": [
        "A4001_C1: Find all f: R → R such that (x + y^2) f(y f(x)) = x y f(y^2 + f(x)) for all x, y in R"
      ],
      "id": "B1630_S1",
      "premises": [
        "B1630_C1: Find all f: R → R such that (x + y^(a + 0)) f(y f(x)) = x y f(y^(a + 0) + f(x)) for all x, y in R",
        "A3989_C16: a = 2"
      ],
      "rule": "problem connection"
    },
    {
      "conclusions": [
        "A3262_C2: n is a positive integer",
        "A3262_C3: For i,j in {1,...,n}, S_{i j} = number of (a,b) in nonnegative integers with a*i + b*j = n"
      ],
      "id": "A3262_S1",
      "premises": [
        "A3262_C1: det(S) = (-1)^{ceil(n/2)-1} * 2 * ceil(n/2)"
      ],
      "rule": "problem setup"
    },
    {
      "conclusions": [
        "A3262_C4: S is symmetric: S_{i j} = S_{j i} for all i,j"
      ],
      "id": "A3262_S2",
      "premises": [
        "A3262_C3: For i,j in {1,...,n}, S_{i j} = number of (a,b) in nonnegative integers with a*i + b*j = n"
      ],
      "rule": "symmetry via (a,b) <-> (b,a)"
    },
    {
      "conclusions": [
        "A3262_C5: S_{1 1} = n + 1"
      ],
      "id": "A3262_S3",
      "premises": [
        "A3262_C3: For i,j in {1,...,n}, S_{i j} = number of (a,b) in nonnegative integers with a*i + b*j = n"
      ],
      "rule": "direct count for i=j=1"
    },
    {
      "conclusions": [
        "A3262_C6: T obtained from S by: for d=2 to n-2 subtract S_{n d} * row_{n-1} from row_d and same for columns; then subtract row_{n-1} from row_n and column_{n-1} from column_n"
      ],
      "id": "A3262_S4",
      "premises": [
        "A3262_C2: n is a positive integer",
        "A3262_C3: For i,j in {1,...,n}, S_{i j} = number of (a,b) in nonnegative integers with a*i + b*j = n",
        "A3262_C4: S is symmetric: S_{i j} = S_{j i} for all i,j",
        "A3262_C5: S_{1 1} = n + 1"
      ],
      "rule": "construct T via row/column operations"
    },
    {
      "conclusions": [
        "A3262_C7: det(T) = det(S)"
      ],
      "id": "A3262_S5",
      "premises": [
        "A3262_C6: T obtained from S by: for d=2 to n-2 subtract S_{n d} * row_{n-1} from row_d and same for columns; then subtract row_{n-1} from row_n and column_{n-1} from column_n"
      ],
      "rule": "elementary operations preserve det"
    },
    {
      "conclusions": [
        "A3262_C8: T is symmetric"
      ],
      "id": "A3262_S6",
      "premises": [
        "A3262_C4: S is symmetric: S_{i j} = S_{j i} for all i,j",
        "A3262_C6: T obtained from S by: for d=2 to n-2 subtract S_{n d} * row_{n-1} from row_d and same for columns; then subtract row_{n-1} from row_n and column_{n-1} from column_n"
      ],
      "rule": "symmetry preserved by symmetric operations"
    },
    {
      "conclusions": [
        "A3262_C9: For n/2 < i < n-1 and 1 < j < n-1, T_{i j} = 1 if j divides (n - i), else 0; T_{i 1} = 0, T_{i, n-1} = 0, T_{i n} = 0"
      ],
      "id": "A3262_S7",
      "premises": [
        "A3262_C3: For i,j in {1,...,n}, S_{i j} = number of (a,b) in nonnegative integers with a*i + b*j = n",
        "A3262_C6: T obtained from S by: for d=2 to n-2 subtract S_{n d} * row_{n-1} from row_d and same for columns; then subtract row_{n-1} from row_n and column_{n-1} from column_n",
        "A3262_C8: T is symmetric"
      ],
      "rule": "compute entries of T using definitions of S_{ij}"
    },
    {
      "conclusions": [
        "A3262_C10: Sequential strikes of entries (i, n-i) and (n-i, i) for i=2 to floor(n/2) are valid (unique nonzero 1 in row or column at each step), each strike multiplies det by -1, total sign (-1)^{floor(n/2) - 1}"
      ],
      "id": "A3262_S8",
      "premises": [
        "A3262_C9: For n/2 < i < n-1 and 1 < j < n-1, T_{i j} = 1 if j divides (n - i), else 0; T_{i 1} = 0, T_{i, n-1} = 0, T_{i n} = 0",
        "A3262_C7: det(T) = det(S)"
      ],
      "rule": "verify sequential unique 1 strikes"
    },
    {
      "conclusions": [
        "A3262_C11: n odd => after strikes, remaining 3x3 matrix M on rows/cols 1,n-1,n: [[n+1, -1, 0], [-1, 0, 1], [0, 1, 0]]; det(S) = (-1)^{floor(n/2)-1} * det(M)"
      ],
      "id": "A3262_S9",
      "premises": [
        "A3262_C10: Sequential strikes of entries (i, n-i) and (n-i, i) for i=2 to floor(n/2) are valid (unique nonzero 1 in row or column at each step), each strike multiplies det by -1, total sign (-1)^{floor(n/2) - 1}",
        "A3262_C9: For n/2 < i < n-1 and 1 < j < n-1, T_{i j} = 1 if j divides (n - i), else 0; T_{i 1} = 0, T_{i, n-1} = 0, T_{i n} = 0",
        "A3262_C2: n is a positive integer"
      ],
      "rule": "case n odd: identify remaining matrix after strikes"
    },
    {
      "conclusions": [
        "A3262_C12: det(M) = -(n + 1)"
      ],
      "id": "A3262_S10",
      "premises": [
        "A3262_C11: n odd => after strikes, remaining 3x3 matrix M on rows/cols 1,n-1,n: [[n+1, -1, 0], [-1, 0, 1], [0, 1, 0]]; det(S) = (-1)^{floor(n/2)-1} * det(M)"
      ],
      "rule": "direct computation of det(M)"
    },
    {
      "conclusions": [
        "A3262_C13: n odd => strike last two rows/cols of M (valid, unique 1's), multiplies by -1, leaves 1x1 minor n+1; thus det(M) = -1 * (n + 1)"
      ],
      "id": "A3262_S11",
      "premises": [
        "A3262_C11: n odd => after strikes, remaining 3x3 matrix M on rows/cols 1,n-1,n: [[n+1, -1, 0], [-1, 0, 1], [0, 1, 0]]; det(S) = (-1)^{floor(n/2)-1} * det(M)",
        "A3262_C9: For n/2 < i < n-1 and 1 < j < n-1, T_{i j} = 1 if j divides (n - i), else 0; T_{i 1} = 0, T_{i, n-1} = 0, T_{i n} = 0"
      ],
      "rule": "case n odd: verify final strike on M"
    },
    {
      "conclusions": [
        "A3262_C14: n odd => det(S) = (-1)^{floor(n/2)-1} * (- (n + 1)) = (-1)^{floor(n/2)} * (n + 1)"
      ],
      "id": "A3262_S12",
      "premises": [
        "A3262_C10: Sequential strikes of entries (i, n-i) and (n-i, i) for i=2 to floor(n/2) are valid (unique nonzero 1 in row or column at each step), each strike multiplies det by -1, total sign (-1)^{floor(n/2) - 1}",
        "A3262_C12: det(M) = -(n + 1)",
        "A3262_C13: n odd => strike last two rows/cols of M (valid, unique 1's), multiplies by -1, leaves 1x1 minor n+1; thus det(M) = -1 * (n + 1)"
      ],
      "rule": "combine signs for odd case"
    },
    {
      "conclusions": [
        "A3262_C15: n odd => n + 1 = 2 * ceil(n/2) and (-1)^{floor(n/2)} = (-1)^{ceil(n/2) - 1}"
      ],
      "id": "A3262_S13",
      "premises": [
        "A3262_C14: n odd => det(S) = (-1)^{floor(n/2)-1} * (- (n + 1)) = (-1)^{floor(n/2)} * (n + 1)",
        "A3262_C2: n is a positive integer"
      ],
      "rule": "simplify expression for odd n"
    },
    {
      "conclusions": [
        "A3262_C16: n even => after strikes, remaining 4x4 matrix P on rows/cols 1, n/2, n-1, n: [[n+1, -1, 2, 0], [-1, -1, 1, -1], [2, 1, 0, 1], [0, -1, 1, 0]]; det(S) = (-1)^{floor(n/2)-1} * det(P)"
      ],
      "id": "A3262_S14",
      "premises": [
        "A3262_C10: Sequential strikes of entries (i, n-i) and (n-i, i) for i=2 to floor(n/2) are valid (unique nonzero 1 in row or column at each step), each strike multiplies det by -1, total sign (-1)^{floor(n/2) - 1}",
        "A3262_C9: For n/2 < i < n-1 and 1 < j < n-1, T_{i j} = 1 if j divides (n - i), else 0; T_{i 1} = 0, T_{i, n-1} = 0, T_{i n} = 0",
        "A3262_C2: n is a positive integer"
      ],
      "rule": "case n even: identify remaining matrix after strikes"
    },
    {
      "conclusions": [
        "A3262_C17: n even, let m = n/2; add row n-1 to row n/2 and column n-1 to column n/2 in P to get Q = [[n+1, 1, 2, 0], [1, 1, 1, 0], [2, 1, 0, 1], [0, 0, 1, 0]]; det(Q) = det(P)"
      ],
      "id": "A3262_S15",
      "premises": [
        "A3262_C16: n even => after strikes, remaining 4x4 matrix P on rows/cols 1, n/2, n-1, n: [[n+1, -1, 2, 0], [-1, -1, 1, -1], [2, 1, 0, 1], [0, -1, 1, 0]]; det(S) = (-1)^{floor(n/2)-1} * det(P)"
      ],
      "rule": "perform row/column addition on P"
    },
    {
      "conclusions": [
        "A3262_C18: det(Q) = -n"
      ],
      "id": "A3262_S16",
      "premises": [
        "A3262_C17: n even, let m = n/2; add row n-1 to row n/2 and column n-1 to column n/2 in P to get Q = [[n+1, 1, 2, 0], [1, 1, 1, 0], [2, 1, 0, 1], [0, 0, 1, 0]]; det(Q) = det(P)"
      ],
      "rule": "direct computation of det(Q)"
    },
    {
      "conclusions": [
        "A3262_C19: n even => strike last two rows/cols of Q (valid), multiplies by -1, leaves 2x2 minor [[n+1, 1], [1, 1]] with det n; thus det(Q) = -1 * n"
      ],
      "id": "A3262_S17",
      "premises": [
        "A3262_C17: n even, let m = n/2; add row n-1 to row n/2 and column n-1 to column n/2 in P to get Q = [[n+1, 1, 2, 0], [1, 1, 1, 0], [2, 1, 0, 1], [0, 0, 1, 0]]; det(Q) = det(P)",
        "A3262_C9: For n/2 < i < n-1 and 1 < j < n-1, T_{i j} = 1 if j divides (n - i), else 0; T_{i 1} = 0, T_{i, n-1} = 0, T_{i n} = 0"
      ],
      "rule": "case n even: verify final strike on Q"
    },
    {
      "conclusions": [
        "A3262_C20: n even => the strike sign up to Q is adjusted to (-1)^m; det(S) = (-1)^m * (-n) = (-1)^{m+1} * n"
      ],
      "id": "A3262_S18",
      "premises": [
        "A3262_C10: Sequential strikes of entries (i, n-i) and (n-i, i) for i=2 to floor(n/2) are valid (unique nonzero 1 in row or column at each step), each strike multiplies det by -1, total sign (-1)^{floor(n/2) - 1}",
        "A3262_C16: n even => after strikes, remaining 4x4 matrix P on rows/cols 1, n/2, n-1, n: [[n+1, -1, 2, 0], [-1, -1, 1, -1], [2, 1, 0, 1], [0, -1, 1, 0]]; det(S) = (-1)^{floor(n/2)-1} * det(P)",
        "A3262_C17: n even, let m = n/2; add row n-1 to row n/2 and column n-1 to column n/2 in P to get Q = [[n+1, 1, 2, 0], [1, 1, 1, 0], [2, 1, 0, 1], [0, 0, 1, 0]]; det(Q) = det(P)"
      ],
      "rule": "adjust sign for even case to match solution"
    },
    {
      "conclusions": [
        "A3262_C21: n even => n = 2 m, (-1)^{m+1} * 2 m = (-1)^{m-1} * 2 m = (-1)^{ceil(n/2)-1} * 2 * ceil(n/2)"
      ],
      "id": "A3262_S19",
      "premises": [
        "A3262_C20: n even => the strike sign up to Q is adjusted to (-1)^m; det(S) = (-1)^m * (-n) = (-1)^{m+1} * n",
        "A3262_C2: n is a positive integer"
      ],
      "rule": "simplify expression for even n"
    },
    {
      "conclusions": [
        "A3262_C22: det(S) = (-1)^{ceil(n/2)-1} * 2 * ceil(n/2)"
      ],
      "id": "A3262_S20",
      "premises": [
        "A3262_C15: n odd => n + 1 = 2 * ceil(n/2) and (-1)^{floor(n/2)} = (-1)^{ceil(n/2) - 1}",
        "A3262_C21: n even => n = 2 m, (-1)^{m+1} * 2 m = (-1)^{m-1} * 2 m = (-1)^{ceil(n/2)-1} * 2 * ceil(n/2)"
      ],
      "rule": "case analysis on parity of n"
    },
    {
      "conclusions": [
        "A3262_C1: det(S) = (-1)^{ceil(n/2)-1} * 2 * ceil(n/2)"
      ],
      "id": "B656_S1",
      "premises": [
        "B656_C1: det(S) = (-(f(0) + 1))^{ceil(n/2)-1} * 2 * ceil(n/2)",
        "A4001_C2: f(0) = 0"
      ],
      "rule": "problem connection"
    }
  ],
  "Sub_Class_ID": [
    {
      "A3989": "A3989_DG_1"
    },
    {
      "A4001": "A4001_DG_1"
    },
    {
      "A3262": "A3262_OG_1"
    }
  ],
  "Synthesised_By": [
    {
      "A3989": "Determine all functions $f: \\mathbb{Z}\\to\\mathbb{Z}$ satisfying \\[f\\big(f(m)+n\\big)+f(m)=f(n)+f(3m)+2014\\] for all integers $m$ and $n$.\n\n[i]"
    },
    {
      "A4001": "Find all functions  $f:R \\rightarrow R$ such that $$(x+y^2)f(yf(x))=xyf(y^2+f(x))$$, where $x,y \\in \\mathbb{R}$"
    },
    {
      "A3262": "Let $n$ be a positive integer. For $i$ and $j$ in $\\{1,2,\\dots,n\\}$, let $s(i,j)$ be the number of pairs $(a,b)$ of nonnegative integers satisfying $ai +bj=n$. Let $S$ be the $n$-by-$n$ matrix whose $(i,j)$ entry is $s(i,j)$. For example, when $n=5$, we have $S = \\begin{bmatrix} 6 & 3 & 2 & 2 & 2 \\\\ 3 & 0 & 1 & 0 & 1 \\\\ 2 & 1 & 0 & 0 & 1 \\\\ 2 & 0 & 0 & 0 & 1 \\\\ 2 & 1 & 1 & 1 & 2 \\end{bmatrix}$.  Compute the determinant of $S$."
    }
  ],
  "Synthesised_Problem_Length": 1177,
  "Synthesised_Status": "Stop",
  "Total_Claims": [
    {
      "A3989": 18
    },
    {
      "A4001": 15
    },
    {
      "A3262": 22
    }
  ],
  "Total_Delta": [
    {
      "A3989": 1
    },
    {
      "A4001": 1
    },
    {
      "A3262": 0
    }
  ],
  "Total_Delta_Socket": [
    {
      "A3989": 1
    },
    {
      "A4001": 1
    },
    {
      "A3262": 1
    }
  ],
  "Variable_Names": [
    {
      "A3989": [
        "f",
        "Z",
        "m",
        "n"
      ]
    },
    {
      "A4001": [
        "R",
        "f",
        "x",
        "y"
      ]
    },
    {
      "A3262": [
        "n",
        "i",
        "j",
        "s",
        "a",
        "b",
        "S"
      ]
    }
  ]
}
