{
  "Chunk_Type": "T4",
  "Claims": [
    {
      "expr": "Find all positive integers a, b, c such that ab + 1, bc + 1, ca + 1 are factorials of positive integers",
      "id": "A4064_C1",
      "type": "goal"
    },
    {
      "expr": "ab + 1 = x! for positive integer x",
      "id": "A4064_C2",
      "type": "context"
    },
    {
      "expr": "bc + 1 = y! for positive integer y",
      "id": "A4064_C3",
      "type": "context"
    },
    {
      "expr": "ca + 1 = z! for positive integer z",
      "id": "A4064_C4",
      "type": "context"
    },
    {
      "expr": "a, b, c positive integers",
      "id": "A4064_C5",
      "type": "context"
    },
    {
      "expr": "b = 1",
      "id": "A4064_C6",
      "type": "derived"
    },
    {
      "expr": "a = x! - 1",
      "id": "A4064_C7",
      "type": "derived"
    },
    {
      "expr": "c = y! - 1",
      "id": "A4064_C8",
      "type": "derived"
    },
    {
      "expr": "c = 1",
      "id": "A4064_C9",
      "type": "derived"
    },
    {
      "expr": "y! = 1 * 1 + 1 = 2",
      "id": "A4064_C10",
      "type": "derived"
    },
    {
      "expr": "y = 2",
      "id": "A4064_C11",
      "type": "derived"
    },
    {
      "expr": "ca + 1 = 1 * a + 1 = a + 1",
      "id": "A4064_C12",
      "type": "derived"
    },
    {
      "expr": "a + 1 = (x! - 1) + 1 = x!",
      "id": "A4064_C13",
      "type": "derived"
    },
    {
      "expr": "ca + 1 = x! so z = x",
      "id": "A4064_C14",
      "type": "derived"
    },
    {
      "expr": "b=1, c=1, a = k! - 1 for k > 1 satisfies ab + 1 = k!, bc + 1 = 2!, ca + 1 = k!",
      "id": "A4064_C15",
      "type": "derived"
    },
    {
      "expr": "Permutations where any two variables are 1 and the third is k! - 1 for k > 1 also satisfy the conditions",
      "id": "A4064_C16",
      "type": "derived"
    },
    {
      "expr": "All solutions are (k! - 1, 1, 1) and its permutations for k ∈ ℕ>1",
      "id": "A4064_C17",
      "type": "final"
    },
    {
      "expr": "all integers n > 1 s.t. n^2 | 2^n + 1",
      "id": "A4088_C1",
      "type": "derived"
    },
    {
      "expr": "n integer > 1",
      "id": "A4088_C2",
      "type": "context"
    },
    {
      "expr": "n^2 | 2^n + 1",
      "id": "A4088_C3",
      "type": "context"
    },
    {
      "expr": "if n even then n^2 even >1",
      "id": "A4088_C4",
      "type": "derived"
    },
    {
      "expr": "if n even then 2^n + 1 odd",
      "id": "A4088_C5",
      "type": "derived"
    },
    {
      "expr": "even >1 cannot divide odd",
      "id": "A4088_C6",
      "type": "derived"
    },
    {
      "expr": "no even n >1 satisfies condition",
      "id": "A4088_C7",
      "type": "derived"
    },
    {
      "expr": "n must be odd >1",
      "id": "A4088_C8",
      "type": "derived"
    },
    {
      "expr": "let p odd prime | n",
      "id": "A4088_C9",
      "type": "derived"
    },
    {
      "expr": "p^2 | 2^n + 1",
      "id": "A4088_C10",
      "type": "derived"
    },
    {
      "expr": "n odd",
      "id": "A4088_C11",
      "type": "derived"
    },
    {
      "expr": "LTE: if p odd prime | 2+1=3, p \nmid 2,1, n odd, then v_p(2^n + 1) = v_p(3) + v_p(n) = 1 + v_p(n)",
      "id": "A4088_C12",
      "type": "derived"
    },
    {
      "expr": "thus p=3, v_3(2^n + 1) = 1 + v_3(n)",
      "id": "A4088_C13",
      "type": "derived"
    },
    {
      "expr": "if p \nmid 3, i.e. p >3, then LTE base condition fails, v_p(2^n + 1) < 2",
      "id": "A4088_C14",
      "type": "derived"
    },
    {
      "expr": "but p^2 | 2^n + 1 requires v_p >=2, contradiction",
      "id": "A4088_C15",
      "type": "derived"
    },
    {
      "expr": "n has only prime factor 3, n=3^k, k>=1",
      "id": "A4088_C16",
      "type": "derived"
    },
    {
      "expr": "n=3^k, k>=1",
      "id": "A4088_C17",
      "type": "derived"
    },
    {
      "expr": "v_3(2^{3^k} + 1) = 1 + k",
      "id": "A4088_C18",
      "type": "derived"
    },
    {
      "expr": "v_3(n^2) = 2k",
      "id": "A4088_C19",
      "type": "derived"
    },
    {
      "expr": "2k <= 1 + k",
      "id": "A4088_C20",
      "type": "derived"
    },
    {
      "expr": "k <=1",
      "id": "A4088_C21",
      "type": "derived"
    },
    {
      "expr": "k=1, n=3",
      "id": "A4088_C22",
      "type": "derived"
    },
    {
      "expr": "for n=3, 2^3 +1=9, 3^2=9, 9|9",
      "id": "A4088_C23",
      "type": "derived"
    },
    {
      "expr": "only n=3",
      "id": "A4088_C24",
      "type": "final"
    },
    {
      "expr": "all integers n > (y - 1) s.t. n^2 | 2^n + (y - 1)",
      "id": "B12099_C1",
      "type": "goal"
    }
  ],
  "Class_ID": "B12099",
  "Connecting_Point": [
    {
      "B12099": {
        "1": "(y - 1)"
      }
    }
  ],
  "Delta_Depth": [
    {
      "A4064": {
        "y": 11
      }
    },
    {
      "A4088": {
        "n": 22
      }
    }
  ],
  "Delta_Factor": [
    {
      "A4064": 0.65
    },
    {
      "A4088": 0.92
    }
  ],
  "Delta_Socket": [
    {
      "A4064": {
        "1": 1.0
      }
    },
    {
      "A4088": {
        "1": 1.0
      }
    }
  ],
  "Delta_Socket_Order": [
    {
      "A4064": 1
    },
    {
      "A4088": 1
    }
  ],
  "Delta_Source": [
    {
      "A4064": "derived"
    },
    {
      "A4088": "derived"
    }
  ],
  "Delta_Value": [
    {
      "A4064": {
        "y": "2"
      }
    },
    {
      "A4088": {
        "n": "3"
      }
    }
  ],
  "Delta_Value_Order": [
    {
      "A4064": 3
    },
    {
      "A4088": 1
    }
  ],
  "Delta_Variable_Names": [
    {
      "A4064": [
        "y"
      ]
    },
    {
      "A4088": [
        "n"
      ]
    }
  ],
  "Ground_Truth": [
    {
      "A4064": "\\boxed{(k!-1,1,1)}\\text{ (and its permutations), where }k\\in\\mathbb{N}_{>1}"
    },
    {
      "A4088": "n=\\boxed {1,3}"
    }
  ],
  "Math_Problem": "Find all positive integers $a, b, c$ such that $ab + 1$, $bc + 1$, and $ca + 1$ are all equal to factorials of some positive integers. Instead of finding all positive integers $a, b, c$ such that $ab + 1$, $bc + 1$, and $ca + 1$ are all factorials of positive integers, simply find $k = y - 1$, where $y$ is the positive integer such that $bc + 1 = y!$ in any such triple $(a, b, c)$. Determine all integers $n > k$ such that\n\\[\n\\frac{2^n + k}{n^2}\n\\]\nis an integer.",
  "Max_Delta_Depth": [
    {
      "A4064": 11
    },
    {
      "A4088": 22
    }
  ],
  "Max_Delta_Factor": [
    {
      "A4064": 0.65
    },
    {
      "A4088": 0.92
    }
  ],
  "Min_Delta_Depth": [
    {
      "A4064": 6
    },
    {
      "A4088": 22
    }
  ],
  "Min_Delta_Factor": [
    {
      "A4064": 0.35
    },
    {
      "A4088": 0.92
    }
  ],
  "Multiple_Synthesis_Class": "MP2",
  "Predicted_Answer": [
    {
      "A4064": "(k! - 1, 1, 1) (and its permutations), where k ∈ ℕ>1"
    },
    {
      "A4088": "3"
    }
  ],
  "Problem_ID": 59,
  "Problem_Length": [
    {
      "A4064": 134
    },
    {
      "A4088": 89
    }
  ],
  "Problem_Level": [
    {
      "A4064": "KbsdJames_Omni-MATH_6.0"
    },
    {
      "A4088": "KbsdJames_Omni-MATH_6.0"
    }
  ],
  "Problem_Source": [
    {
      "A4064": "jbmo_shortlist"
    },
    {
      "A4088": "imo"
    }
  ],
  "Problem_Type": [
    {
      "A4064": [
        "Mathematics -> Number Theory -> Factorization",
        "Mathematics -> Algebra -> Algebra -> Equations and Inequalities"
      ]
    },
    {
      "A4088": [
        "Mathematics -> Number Theory -> Prime Numbers",
        "Mathematics -> Number Theory -> Congruences"
      ]
    }
  ],
  "Source_Delta_Socket": [
    {
      "A4064": "goal"
    },
    {
      "A4088": "goal"
    }
  ],
  "Steps": [
    {
      "conclusions": [
        "A4064_C2: ab + 1 = x! for positive integer x",
        "A4064_C3: bc + 1 = y! for positive integer y",
        "A4064_C4: ca + 1 = z! for positive integer z",
        "A4064_C5: a, b, c positive integers"
      ],
      "id": "A4064_S1",
      "premises": [
        "A4064_C1: Find all positive integers a, b, c such that ab + 1, bc + 1, ca + 1 are factorials of positive integers"
      ],
      "rule": "problem setup"
    },
    {
      "conclusions": [
        "A4064_C6: b = 1"
      ],
      "id": "A4064_S2",
      "premises": [
        "A4064_C5: a, b, c positive integers"
      ],
      "rule": "case assumption"
    },
    {
      "conclusions": [
        "A4064_C7: a = x! - 1"
      ],
      "id": "A4064_S3",
      "premises": [
        "A4064_C2: ab + 1 = x! for positive integer x",
        "A4064_C6: b = 1"
      ],
      "rule": "solve for a"
    },
    {
      "conclusions": [
        "A4064_C8: c = y! - 1"
      ],
      "id": "A4064_S4",
      "premises": [
        "A4064_C3: bc + 1 = y! for positive integer y",
        "A4064_C6: b = 1"
      ],
      "rule": "solve for c"
    },
    {
      "conclusions": [
        "A4064_C9: c = 1"
      ],
      "id": "A4064_S5",
      "premises": [
        "A4064_C8: c = y! - 1"
      ],
      "rule": "subcase assumption"
    },
    {
      "conclusions": [
        "A4064_C10: y! = 1 * 1 + 1 = 2"
      ],
      "id": "A4064_S6",
      "premises": [
        "A4064_C3: bc + 1 = y! for positive integer y",
        "A4064_C6: b = 1",
        "A4064_C9: c = 1"
      ],
      "rule": "substitution"
    },
    {
      "conclusions": [
        "A4064_C11: y = 2"
      ],
      "id": "A4064_S7",
      "premises": [
        "A4064_C10: y! = 1 * 1 + 1 = 2"
      ],
      "rule": "factorial identification"
    },
    {
      "conclusions": [
        "A4064_C12: ca + 1 = 1 * a + 1 = a + 1"
      ],
      "id": "A4064_S8",
      "premises": [
        "A4064_C4: ca + 1 = z! for positive integer z",
        "A4064_C9: c = 1"
      ],
      "rule": "substitution"
    },
    {
      "conclusions": [
        "A4064_C13: a + 1 = (x! - 1) + 1 = x!"
      ],
      "id": "A4064_S9",
      "premises": [
        "A4064_C7: a = x! - 1"
      ],
      "rule": "algebraic simplification"
    },
    {
      "conclusions": [
        "A4064_C14: ca + 1 = x! so z = x"
      ],
      "id": "A4064_S10",
      "premises": [
        "A4064_C12: ca + 1 = 1 * a + 1 = a + 1",
        "A4064_C13: a + 1 = (x! - 1) + 1 = x!",
        "A4064_C4: ca + 1 = z! for positive integer z"
      ],
      "rule": "equality to z!"
    },
    {
      "conclusions": [
        "A4064_C15: b=1, c=1, a = k! - 1 for k > 1 satisfies ab + 1 = k!, bc + 1 = 2!, ca + 1 = k!"
      ],
      "id": "A4064_S11",
      "premises": [
        "A4064_C7: a = x! - 1",
        "A4064_C11: y = 2",
        "A4064_C14: ca + 1 = x! so z = x",
        "A4064_C2: ab + 1 = x! for positive integer x",
        "A4064_C3: bc + 1 = y! for positive integer y",
        "A4064_C4: ca + 1 = z! for positive integer z"
      ],
      "rule": "verification"
    },
    {
      "conclusions": [
        "A4064_C16: Permutations where any two variables are 1 and the third is k! - 1 for k > 1 also satisfy the conditions"
      ],
      "id": "A4064_S12",
      "premises": [
        "A4064_C15: b=1, c=1, a = k! - 1 for k > 1 satisfies ab + 1 = k!, bc + 1 = 2!, ca + 1 = k!"
      ],
      "rule": "symmetry"
    },
    {
      "conclusions": [
        "A4064_C17: All solutions are (k! - 1, 1, 1) and its permutations for k ∈ ℕ>1"
      ],
      "id": "A4064_S13",
      "premises": [
        "A4064_C16: Permutations where any two variables are 1 and the third is k! - 1 for k > 1 also satisfy the conditions"
      ],
      "rule": "complete solution"
    },
    {
      "conclusions": [
        "A4088_C2: n integer > 1",
        "A4088_C3: n^2 | 2^n + 1"
      ],
      "id": "A4088_S1",
      "premises": [
        "A4088_C1: all integers n > 1 s.t. n^2 | 2^n + 1"
      ],
      "rule": "problem setup"
    },
    {
      "conclusions": [
        "A4088_C4: if n even then n^2 even >1",
        "A4088_C5: if n even then 2^n + 1 odd",
        "A4088_C6: even >1 cannot divide odd",
        "A4088_C7: no even n >1 satisfies condition",
        "A4088_C8: n must be odd >1"
      ],
      "id": "A4088_S2",
      "premises": [
        "A4088_C2: n integer > 1",
        "A4088_C3: n^2 | 2^n + 1"
      ],
      "rule": "parity argument"
    },
    {
      "conclusions": [
        "A4088_C11: n odd"
      ],
      "id": "A4088_S3",
      "premises": [
        "A4088_C8: n must be odd >1"
      ],
      "rule": "candidate restriction"
    },
    {
      "conclusions": [
        "A4088_C9: let p odd prime | n",
        "A4088_C10: p^2 | 2^n + 1"
      ],
      "id": "A4088_S4",
      "premises": [
        "A4088_C8: n must be odd >1",
        "A4088_C3: n^2 | 2^n + 1"
      ],
      "rule": "prime divisor extraction"
    },
    {
      "conclusions": [
        "A4088_C12: LTE: if p odd prime | 2+1=3, p \nmid 2,1, n odd, then v_p(2^n + 1) = v_p(3) + v_p(n) = 1 + v_p(n)",
        "A4088_C13: thus p=3, v_3(2^n + 1) = 1 + v_3(n)"
      ],
      "id": "A4088_S5",
      "premises": [
        "A4088_C10: p^2 | 2^n + 1",
        "A4088_C11: n odd"
      ],
      "rule": "apply LTE lemma"
    },
    {
      "conclusions": [
        "A4088_C14: if p \nmid 3, i.e. p >3, then LTE base condition fails, v_p(2^n + 1) < 2",
        "A4088_C15: but p^2 | 2^n + 1 requires v_p >=2, contradiction",
        "A4088_C16: n has only prime factor 3, n=3^k, k>=1"
      ],
      "id": "A4088_S6",
      "premises": [
        "A4088_C9: let p odd prime | n",
        "A4088_C10: p^2 | 2^n + 1",
        "A4088_C12: LTE: if p odd prime | 2+1=3, p \nmid 2,1, n odd, then v_p(2^n + 1) = v_p(3) + v_p(n) = 1 + v_p(n)"
      ],
      "rule": "analysis for p≠3"
    },
    {
      "conclusions": [
        "A4088_C17: n=3^k, k>=1",
        "A4088_C18: v_3(2^{3^k} + 1) = 1 + k",
        "A4088_C19: v_3(n^2) = 2k",
        "A4088_C20: 2k <= 1 + k",
        "A4088_C21: k <=1",
        "A4088_C22: k=1, n=3",
        "A4088_C23: for n=3, 2^3 +1=9, 3^2=9, 9|9"
      ],
      "id": "A4088_S7",
      "premises": [
        "A4088_C16: n has only prime factor 3, n=3^k, k>=1",
        "A4088_C13: thus p=3, v_3(2^n + 1) = 1 + v_3(n)",
        "A4088_C3: n^2 | 2^n + 1"
      ],
      "rule": "powers of 3 valuation"
    },
    {
      "conclusions": [
        "A4088_C24: only n=3"
      ],
      "id": "A4088_S8",
      "premises": [
        "A4088_C7: no even n >1 satisfies condition",
        "A4088_C22: k=1, n=3",
        "A4088_C23: for n=3, 2^3 +1=9, 3^2=9, 9|9"
      ],
      "rule": "final synthesis"
    },
    {
      "conclusions": [
        "A4088_C1: all integers n > 1 s.t. n^2 | 2^n + 1"
      ],
      "id": "B12099_S1",
      "premises": [
        "B12099_C1: all integers n > (y - 1) s.t. n^2 | 2^n + (y - 1)",
        "A4064_C11: y = 2"
      ],
      "rule": "problem connection"
    }
  ],
  "Sub_Class_ID": [
    {
      "A4064": "A4064_DG_3"
    },
    {
      "A4088": "A4088_DG_1"
    }
  ],
  "Synthesis_Status": "Continuable",
  "Synthesis_Trace": "DG-DG",
  "Synthesised_By": [
    {
      "A4064": "Find all positive integers $a, b, c$ such that $ab + 1$, $bc + 1$, and $ca + 1$ are all equal to\nfactorials of some positive integers."
    },
    {
      "A4088": "Determine all integers $ n > 1$ such that\n\\[ \\frac {2^n \\plus{} 1}{n^2}\n\\]\nis an integer."
    }
  ],
  "Synthesised_Problem_Length": 466,
  "Total_Claims": [
    {
      "A4064": 17
    },
    {
      "A4088": 24
    }
  ],
  "Total_Delta": [
    {
      "A4064": 3
    },
    {
      "A4088": 1
    }
  ],
  "Total_Delta_Socket": [
    {
      "A4064": 1
    },
    {
      "A4088": 1
    }
  ],
  "Variable_Names": [
    {
      "A4064": [
        "a",
        "b",
        "c"
      ]
    },
    {
      "A4088": [
        "n"
      ]
    }
  ]
}
