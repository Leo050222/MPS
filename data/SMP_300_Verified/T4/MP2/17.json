{
  "Chunk_Type": "T4",
  "Claims": [
    {
      "expr": "determine P(n+1) where P is a polynomial of degree n with P(k) = k/(k+1) for k=0,1,...,n",
      "id": "A3610_C1",
      "type": "goal"
    },
    {
      "expr": "deg(P) = n",
      "id": "A3610_C2",
      "type": "context"
    },
    {
      "expr": "P(k) = k/(k+1) for k = 0,1,...,n",
      "id": "A3610_C3",
      "type": "context"
    },
    {
      "expr": "Q(x) = (x+1)P(x) - x",
      "id": "A3610_C4",
      "type": "derived"
    },
    {
      "expr": "Q(k) = 0 for k = 0,1,...,n",
      "id": "A3610_C5",
      "type": "derived"
    },
    {
      "expr": "deg(Q) = n+1",
      "id": "A3610_C6",
      "type": "derived"
    },
    {
      "expr": "Q has roots at 0,1,...,n",
      "id": "A3610_C7",
      "type": "derived"
    },
    {
      "expr": "Q(x) = c \\prod_{k=0}^n (x-k)",
      "id": "A3610_C8",
      "type": "derived"
    },
    {
      "expr": "Q(-1) = 1",
      "id": "A3610_C9",
      "type": "derived"
    },
    {
      "expr": "\\prod_{k=0}^n (-1-k) = (-1)^{n+1} (n+1)!",
      "id": "A3610_C10",
      "type": "derived"
    },
    {
      "expr": "Q(-1) = c \\prod_{k=0}^n (-1-k)",
      "id": "A3610_C11",
      "type": "derived"
    },
    {
      "expr": "1 = c (-1)^{n+1} (n+1)!",
      "id": "A3610_C12",
      "type": "derived"
    },
    {
      "expr": "c = (-1)^{n+1} / (n+1)!",
      "id": "A3610_C13",
      "type": "derived"
    },
    {
      "expr": "Q(n+1) = c \\prod_{k=0}^n (n+1-k)",
      "id": "A3610_C14",
      "type": "derived"
    },
    {
      "expr": "\\prod_{k=0}^n (n+1-k) = (n+1)!",
      "id": "A3610_C15",
      "type": "derived"
    },
    {
      "expr": "Q(n+1) = c (n+1)!",
      "id": "A3610_C16",
      "type": "derived"
    },
    {
      "expr": "Q(n+1) = (-1)^{n+1}",
      "id": "A3610_C17",
      "type": "derived"
    },
    {
      "expr": "Q(n+1) = (n+2) P(n+1) - (n+1)",
      "id": "A3610_C18",
      "type": "derived"
    },
    {
      "expr": "(n+2) P(n+1) - (n+1) = (-1)^{n+1}",
      "id": "A3610_C19",
      "type": "derived"
    },
    {
      "expr": "(n+2) P(n+1) = (n+1) + (-1)^{n+1}",
      "id": "A3610_C20",
      "type": "derived"
    },
    {
      "expr": "P(n+1) = [(n+1) + (-1)^{n+1}] / (n+2)",
      "id": "A3610_C21",
      "type": "final"
    },
    {
      "expr": "smallest positive integer n s.t. \\exists good sequence with a_n = 2014",
      "id": "A3618_C1",
      "type": "derived"
    },
    {
      "expr": "a_0 \\in \\mathbb{Z}_{>0}",
      "id": "A3618_C2",
      "type": "context"
    },
    {
      "expr": "\forall i \\geq 0, a_{i+1} = 2a_i + 1 \\lor a_{i+1} = \frac{a_i}{a_i + 2}",
      "id": "A3618_C3",
      "type": "context"
    },
    {
      "expr": "\\exists k \\geq 1, a_k = 2014",
      "id": "A3618_C4",
      "type": "context"
    },
    {
      "expr": "b_i = a_i + 1, b_0 \\in \\mathbb{Z}_{\\geq 2}, b_k = 2015",
      "id": "A3618_C5",
      "type": "derived"
    },
    {
      "expr": "b_{i+1} = 2 b_i \\lor b_{i+1} = \frac{2 b_i}{b_i + 1}",
      "id": "A3618_C6",
      "type": "derived"
    },
    {
      "expr": "Backward: b_i = \frac{b_{i+1}}{2} \\lor (b_{i+1} < 2 \\land b_i = \frac{b_{i+1}}{2 - b_{i+1}})",
      "id": "A3618_C7",
      "type": "derived"
    },
    {
      "expr": "Minimal n = min backward steps from 2015 to b_0 \\in \\mathbb{Z}_{\\geq 2}, n > 0",
      "id": "A3618_C8",
      "type": "derived"
    },
    {
      "expr": "2015 = 5 \times 13 \times 31",
      "id": "A3618_C9",
      "type": "derived"
    },
    {
      "expr": "Represent b = \frac{2015}{d}, d \\in \\mathbb{Z}_{>0}, initial d=1",
      "id": "A3618_C10",
      "type": "derived"
    },
    {
      "expr": "Greedy block: l = \floor{\\log_2 (2015/d)}, steps = l + 1, d' = 2^{l+1} d - 2015",
      "id": "A3618_C11",
      "type": "derived"
    },
    {
      "expr": "Process yields sequence of d: 1,33,97,1089,163,593,357,841,1349,683,717,853,1397,779,1101,187,977,1893,1771,1527,1039,63,1",
      "id": "A3618_C12",
      "type": "derived"
    },
    {
      "expr": "None of intermediate d divide 2015",
      "id": "A3618_C13",
      "type": "derived"
    },
    {
      "expr": "Steps per block: 11,6,5,1,4,2,3,2,1,2,2,2,1,2,1,4,2,1,1,1,1,5",
      "id": "A3618_C14",
      "type": "derived"
    },
    {
      "expr": "\\sum steps = 60",
      "id": "A3618_C15",
      "type": "derived"
    },
    {
      "expr": "n = 60",
      "id": "A3618_C16",
      "type": "final"
    },
    {
      "expr": "smallest positive integer n s.t. \\exists good sequence with a_n = (Q(-1) + 2013)",
      "id": "B3345_C1",
      "type": "goal"
    }
  ],
  "Class_ID": "B3345",
  "Connecting_Point": [
    {
      "B3345": {
        "2014": "(Q(-1) + 2013)"
      }
    }
  ],
  "Delta_Depth": [
    {
      "A3610": {
        "Q(-1)": 9
      }
    },
    {
      "A3618": {
        "b_k": 5
      }
    }
  ],
  "Delta_Factor": [
    {
      "A3610": 0.43
    },
    {
      "A3618": 0.31
    }
  ],
  "Delta_Socket": [
    {
      "A3610": {
        "1": 1.0
      }
    },
    {
      "A3618": {
        "2014": 2014.0
      }
    }
  ],
  "Delta_Socket_Order": [
    {
      "A3610": 1
    },
    {
      "A3618": 1
    }
  ],
  "Delta_Source": [
    {
      "A3610": "derived"
    },
    {
      "A3618": "derived"
    }
  ],
  "Delta_Value": [
    {
      "A3610": {
        "Q(-1)": "1"
      }
    },
    {
      "A3618": {
        "b_k": "2015"
      }
    }
  ],
  "Delta_Value_Order": [
    {
      "A3610": 1
    },
    {
      "A3618": 1
    }
  ],
  "Delta_Variable_Names": [
    {
      "A3610": [
        "Q"
      ]
    },
    {
      "A3618": [
        "b"
      ]
    }
  ],
  "Ground_Truth": [
    {
      "A3610": "\\frac{(-1)^{n+1} + (n+1)}{n+2}"
    },
    {
      "A3618": "60"
    }
  ],
  "Math_Problem": "If $ P(x)$ denotes a polynomial of degree $ n$ such that $ P(k)=\\frac{k}{k+1}$ for $ k=0,1,2,\\ldots,n$, determine $ P(n+1)$. Instead of determining the extrapolated value of the interpolating polynomial at the next successive integer, simply find $q_val$, where $q_val$ is the value at $x=-1$ of the expression $(x+1)P(x) - x$ with $P(x)$ the polynomial satisfying the given interpolation conditions. A sequence of real numbers $a_0, a_1, . . .$ is said to be good if the following three conditions hold.\n(i) The value of $a_0$ is a positive integer.\n(ii) For each non-negative integer $i$ we have $a_{i+1} = 2a_i + 1 $ or $a_{i+1} =\\frac{a_i}{a_i + 2} $\n(iii) There exists a positive integer $k$ such that $a_k = q_val + 2013$.\n\nFind the smallest positive integer $n$ such that there exists a good sequence $a_0, a_1, . . .$ of real numbers with the property that $a_n = q_val + 2013$.",
  "Max_Delta_Depth": [
    {
      "A3610": 9
    },
    {
      "A3618": 16
    }
  ],
  "Max_Delta_Factor": [
    {
      "A3610": 0.43
    },
    {
      "A3618": 1.0
    }
  ],
  "Min_Delta_Depth": [
    {
      "A3610": 9
    },
    {
      "A3618": 5
    }
  ],
  "Min_Delta_Factor": [
    {
      "A3610": 0.43
    },
    {
      "A3618": 0.31
    }
  ],
  "Multiple_Synthesis_Class": "MP2",
  "Predicted_Answer": [
    {
      "A3610": "\frac{(-1)^{n+1} + (n+1)}{n+2}"
    },
    {
      "A3618": "60"
    }
  ],
  "Problem_ID": 17,
  "Problem_Length": [
    {
      "A3610": 150
    },
    {
      "A3618": 469
    }
  ],
  "Problem_Level": [
    {
      "A3610": "KbsdJames_Omni-MATH_7.0"
    },
    {
      "A3618": "KbsdJames_Omni-MATH_7.0"
    }
  ],
  "Problem_Source": [
    {
      "A3610": "usamo"
    },
    {
      "A3618": "apmo"
    }
  ],
  "Problem_Type": [
    {
      "A3610": [
        "Mathematics -> Algebra -> Algebra -> Algebraic Expressions"
      ]
    },
    {
      "A3618": [
        "Mathematics -> Algebra -> Algebra -> Equations and Inequalities",
        "Mathematics -> Number Theory -> Other"
      ]
    }
  ],
  "Source_Delta_Socket": [
    {
      "A3610": "goal"
    },
    {
      "A3618": "goal"
    }
  ],
  "Steps": [
    {
      "conclusions": [
        "A3610_C2: deg(P) = n",
        "A3610_C3: P(k) = k/(k+1) for k = 0,1,...,n"
      ],
      "id": "A3610_S1",
      "premises": [
        "A3610_C1: determine P(n+1) where P is a polynomial of degree n with P(k) = k/(k+1) for k=0,1,...,n"
      ],
      "rule": "problem setup"
    },
    {
      "conclusions": [
        "A3610_C4: Q(x) = (x+1)P(x) - x"
      ],
      "id": "A3610_S2",
      "premises": [
        "A3610_C2: deg(P) = n"
      ],
      "rule": "define auxiliary polynomial"
    },
    {
      "conclusions": [
        "A3610_C5: Q(k) = 0 for k = 0,1,...,n"
      ],
      "id": "A3610_S3",
      "premises": [
        "A3610_C3: P(k) = k/(k+1) for k = 0,1,...,n",
        "A3610_C4: Q(x) = (x+1)P(x) - x"
      ],
      "rule": "substitution at roots"
    },
    {
      "conclusions": [
        "A3610_C6: deg(Q) = n+1"
      ],
      "id": "A3610_S4",
      "premises": [
        "A3610_C2: deg(P) = n",
        "A3610_C4: Q(x) = (x+1)P(x) - x"
      ],
      "rule": "degree computation"
    },
    {
      "conclusions": [
        "A3610_C7: Q has roots at 0,1,...,n"
      ],
      "id": "A3610_S5",
      "premises": [
        "A3610_C5: Q(k) = 0 for k = 0,1,...,n"
      ],
      "rule": "identify roots from zeros"
    },
    {
      "conclusions": [
        "A3610_C8: Q(x) = c \\prod_{k=0}^n (x-k)"
      ],
      "id": "A3610_S6",
      "premises": [
        "A3610_C6: deg(Q) = n+1",
        "A3610_C7: Q has roots at 0,1,...,n"
      ],
      "rule": "polynomial interpolation form"
    },
    {
      "conclusions": [
        "A3610_C9: Q(-1) = 1"
      ],
      "id": "A3610_S7",
      "premises": [
        "A3610_C4: Q(x) = (x+1)P(x) - x"
      ],
      "rule": "evaluation at x=-1"
    },
    {
      "conclusions": [
        "A3610_C10: \\prod_{k=0}^n (-1-k) = (-1)^{n+1} (n+1)!"
      ],
      "id": "A3610_S8",
      "premises": [
        "A3610_C8: Q(x) = c \\prod_{k=0}^n (x-k)"
      ],
      "rule": "product factorization"
    },
    {
      "conclusions": [
        "A3610_C11: Q(-1) = c \\prod_{k=0}^n (-1-k)"
      ],
      "id": "A3610_S9",
      "premises": [
        "A3610_C8: Q(x) = c \\prod_{k=0}^n (x-k)"
      ],
      "rule": "substitute x=-1"
    },
    {
      "conclusions": [
        "A3610_C12: 1 = c (-1)^{n+1} (n+1)!"
      ],
      "id": "A3610_S10",
      "premises": [
        "A3610_C10: \\prod_{k=0}^n (-1-k) = (-1)^{n+1} (n+1)!",
        "A3610_C11: Q(-1) = c \\prod_{k=0}^n (-1-k)"
      ],
      "rule": "replace product"
    },
    {
      "conclusions": [
        "A3610_C12: 1 = c (-1)^{n+1} (n+1)!"
      ],
      "id": "A3610_S11",
      "premises": [
        "A3610_C9: Q(-1) = 1",
        "A3610_C12: 1 = c (-1)^{n+1} (n+1)!"
      ],
      "rule": "equate evaluations"
    },
    {
      "conclusions": [
        "A3610_C13: c = (-1)^{n+1} / (n+1)!"
      ],
      "id": "A3610_S12",
      "premises": [
        "A3610_C12: 1 = c (-1)^{n+1} (n+1)!"
      ],
      "rule": "solve for constant"
    },
    {
      "conclusions": [
        "A3610_C14: Q(n+1) = c \\prod_{k=0}^n (n+1-k)"
      ],
      "id": "A3610_S13",
      "premises": [
        "A3610_C8: Q(x) = c \\prod_{k=0}^n (x-k)"
      ],
      "rule": "substitute x=n+1"
    },
    {
      "conclusions": [
        "A3610_C15: \\prod_{k=0}^n (n+1-k) = (n+1)!"
      ],
      "id": "A3610_S14",
      "premises": [
        "A3610_C14: Q(n+1) = c \\prod_{k=0}^n (n+1-k)"
      ],
      "rule": "product reindexing"
    },
    {
      "conclusions": [
        "A3610_C16: Q(n+1) = c (n+1)!"
      ],
      "id": "A3610_S15",
      "premises": [
        "A3610_C15: \\prod_{k=0}^n (n+1-k) = (n+1)!",
        "A3610_C14: Q(n+1) = c \\prod_{k=0}^n (n+1-k)"
      ],
      "rule": "replace product"
    },
    {
      "conclusions": [
        "A3610_C17: Q(n+1) = (-1)^{n+1}"
      ],
      "id": "A3610_S16",
      "premises": [
        "A3610_C13: c = (-1)^{n+1} / (n+1)!",
        "A3610_C16: Q(n+1) = c (n+1)!"
      ],
      "rule": "substitute c"
    },
    {
      "conclusions": [
        "A3610_C18: Q(n+1) = (n+2) P(n+1) - (n+1)"
      ],
      "id": "A3610_S17",
      "premises": [
        "A3610_C4: Q(x) = (x+1)P(x) - x"
      ],
      "rule": "evaluation at x=n+1"
    },
    {
      "conclusions": [
        "A3610_C19: (n+2) P(n+1) - (n+1) = (-1)^{n+1}"
      ],
      "id": "A3610_S18",
      "premises": [
        "A3610_C17: Q(n+1) = (-1)^{n+1}",
        "A3610_C18: Q(n+1) = (n+2) P(n+1) - (n+1)"
      ],
      "rule": "equate expressions for Q(n+1)"
    },
    {
      "conclusions": [
        "A3610_C20: (n+2) P(n+1) = (n+1) + (-1)^{n+1}"
      ],
      "id": "A3610_S19",
      "premises": [
        "A3610_C19: (n+2) P(n+1) - (n+1) = (-1)^{n+1}"
      ],
      "rule": "add (n+1) to both sides"
    },
    {
      "conclusions": [
        "A3610_C21: P(n+1) = [(n+1) + (-1)^{n+1}] / (n+2)"
      ],
      "id": "A3610_S20",
      "premises": [
        "A3610_C20: (n+2) P(n+1) = (n+1) + (-1)^{n+1}"
      ],
      "rule": "divide by (n+2)"
    },
    {
      "conclusions": [
        "A3618_C2: a_0 \\in \\mathbb{Z}_{>0}",
        "A3618_C3: \forall i \\geq 0, a_{i+1} = 2a_i + 1 \\lor a_{i+1} = \frac{a_i}{a_i + 2}",
        "A3618_C4: \\exists k \\geq 1, a_k = 2014"
      ],
      "id": "A3618_S1",
      "premises": [
        "A3618_C1: smallest positive integer n s.t. \\exists good sequence with a_n = 2014"
      ],
      "rule": "problem setup"
    },
    {
      "conclusions": [
        "A3618_C5: b_i = a_i + 1, b_0 \\in \\mathbb{Z}_{\\geq 2}, b_k = 2015",
        "A3618_C6: b_{i+1} = 2 b_i \\lor b_{i+1} = \frac{2 b_i}{b_i + 1}"
      ],
      "id": "A3618_S2",
      "premises": [
        "A3618_C2: a_0 \\in \\mathbb{Z}_{>0}",
        "A3618_C3: \forall i \\geq 0, a_{i+1} = 2a_i + 1 \\lor a_{i+1} = \frac{a_i}{a_i + 2}",
        "A3618_C4: \\exists k \\geq 1, a_k = 2014"
      ],
      "rule": "variable substitution"
    },
    {
      "conclusions": [
        "A3618_C7: Backward: b_i = \frac{b_{i+1}}{2} \\lor (b_{i+1} < 2 \\land b_i = \frac{b_{i+1}}{2 - b_{i+1}})"
      ],
      "id": "A3618_S3",
      "premises": [
        "A3618_C6: b_{i+1} = 2 b_i \\lor b_{i+1} = \frac{2 b_i}{b_i + 1}"
      ],
      "rule": "inverse functions"
    },
    {
      "conclusions": [
        "A3618_C9: 2015 = 5 \times 13 \times 31"
      ],
      "id": "A3618_S4",
      "premises": [
        "A3618_C7: Backward: b_i = \frac{b_{i+1}}{2} \\lor (b_{i+1} < 2 \\land b_i = \frac{b_{i+1}}{2 - b_{i+1}})",
        "A3618_C8: Minimal n = min backward steps from 2015 to b_0 \\in \\mathbb{Z}_{\\geq 2}, n > 0"
      ],
      "rule": "strategy for minimality"
    },
    {
      "conclusions": [
        "A3618_C10: Represent b = \frac{2015}{d}, d \\in \\mathbb{Z}_{>0}, initial d=1"
      ],
      "id": "A3618_S5",
      "premises": [
        "A3618_C7: Backward: b_i = \frac{b_{i+1}}{2} \\lor (b_{i+1} < 2 \\land b_i = \frac{b_{i+1}}{2 - b_{i+1}})"
      ],
      "rule": "fractional representation"
    },
    {
      "conclusions": [
        "A3618_C11: Greedy block: l = \floor{\\log_2 (2015/d)}, steps = l + 1, d' = 2^{l+1} d - 2015"
      ],
      "id": "A3618_S6",
      "premises": [
        "A3618_C8: Minimal n = min backward steps from 2015 to b_0 \\in \\mathbb{Z}_{\\geq 2}, n > 0",
        "A3618_C10: Represent b = \frac{2015}{d}, d \\in \\mathbb{Z}_{>0}, initial d=1"
      ],
      "rule": "greedy algorithm definition"
    },
    {
      "conclusions": [
        "A3618_C12: Process yields sequence of d: 1,33,97,1089,163,593,357,841,1349,683,717,853,1397,779,1101,187,977,1893,1771,1527,1039,63,1"
      ],
      "id": "A3618_S7",
      "premises": [
        "A3618_C9: 2015 = 5 \times 13 \times 31",
        "A3618_C11: Greedy block: l = \floor{\\log_2 (2015/d)}, steps = l + 1, d' = 2^{l+1} d - 2015"
      ],
      "rule": "computation of sequence"
    },
    {
      "conclusions": [
        "A3618_C13: None of intermediate d divide 2015"
      ],
      "id": "A3618_S8",
      "premises": [
        "A3618_C9: 2015 = 5 \times 13 \times 31",
        "A3618_C12: Process yields sequence of d: 1,33,97,1089,163,593,357,841,1349,683,717,853,1397,779,1101,187,977,1893,1771,1527,1039,63,1"
      ],
      "rule": "verification of non-divisibility"
    },
    {
      "conclusions": [
        "A3618_C14: Steps per block: 11,6,5,1,4,2,3,2,1,2,2,2,1,2,1,4,2,1,1,1,1,5"
      ],
      "id": "A3618_S9",
      "premises": [
        "A3618_C11: Greedy block: l = \floor{\\log_2 (2015/d)}, steps = l + 1, d' = 2^{l+1} d - 2015",
        "A3618_C12: Process yields sequence of d: 1,33,97,1089,163,593,357,841,1349,683,717,853,1397,779,1101,187,977,1893,1771,1527,1039,63,1"
      ],
      "rule": "computation of steps"
    },
    {
      "conclusions": [
        "A3618_C15: \\sum steps = 60"
      ],
      "id": "A3618_S10",
      "premises": [
        "A3618_C14: Steps per block: 11,6,5,1,4,2,3,2,1,2,2,2,1,2,1,4,2,1,1,1,1,5"
      ],
      "rule": "summation"
    },
    {
      "conclusions": [
        "A3618_C16: n = 60"
      ],
      "id": "A3618_S11",
      "premises": [
        "A3618_C13: None of intermediate d divide 2015",
        "A3618_C15: \\sum steps = 60"
      ],
      "rule": "conclusion from greedy minimality"
    },
    {
      "conclusions": [
        "A3618_C1: smallest positive integer n s.t. \\exists good sequence with a_n = 2014"
      ],
      "id": "B3345_S1",
      "premises": [
        "B3345_C1: smallest positive integer n s.t. \\exists good sequence with a_n = (Q(-1) + 2013)",
        "A3610_C9: Q(-1) = 1"
      ],
      "rule": "problem connection"
    }
  ],
  "Sub_Class_ID": [
    {
      "A3610": "A3610_DG_1"
    },
    {
      "A3618": "A3618_DG_1"
    }
  ],
  "Synthesis_Status": "Continuable",
  "Synthesis_Trace": "DG-DG",
  "Synthesised_By": [
    {
      "A3610": "If $ P(x)$ denotes a polynomial of degree $ n$ such that $ P(k)\\equal{}\\frac{k}{k\\plus{}1}$ for $ k\\equal{}0,1,2,\\ldots,n$, determine $ P(n\\plus{}1)$."
    },
    {
      "A3618": "A sequence of real numbers $a_0, a_1, . . .$ is said to be good if the following three conditions hold.\n(i) The value of $a_0$ is a positive integer.\n(ii) For each non-negative integer $i$ we have $a_{i+1} = 2a_i + 1 $ or $a_{i+1} =\\frac{a_i}{a_i + 2} $\n(iii) There exists a positive integer $k$ such that $a_k = 2014$.\n\nFind the smallest positive integer $n$ such that there exists a good sequence $a_0, a_1, . . .$ of real numbers with the property that $a_n = 2014$."
    }
  ],
  "Synthesised_Problem_Length": 886,
  "Total_Claims": [
    {
      "A3610": 21
    },
    {
      "A3618": 16
    }
  ],
  "Total_Delta": [
    {
      "A3610": 1
    },
    {
      "A3618": 2
    }
  ],
  "Total_Delta_Socket": [
    {
      "A3610": 1
    },
    {
      "A3618": 1
    }
  ],
  "Variable_Names": [
    {
      "A3610": [
        "x",
        "P",
        "n",
        "k"
      ]
    },
    {
      "A3618": [
        "a",
        "i",
        "k",
        "n"
      ]
    }
  ]
}
