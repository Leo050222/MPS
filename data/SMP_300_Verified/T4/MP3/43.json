{
  "Chunk_Type": "T4",
  "Claims": [
    {
      "expr": "all possible real x satisfying x^4 + a x^3 + b x^2 + c x + 1 = 0",
      "id": "A497_C1",
      "type": "goal"
    },
    {
      "expr": "radius R = 2",
      "id": "A497_C2",
      "type": "context"
    },
    {
      "expr": "∠ABC ≥ 90°",
      "id": "A497_C3",
      "type": "context"
    },
    {
      "expr": "a = BC > 0, b = CA > 0, c = AB > 0",
      "id": "A497_C4",
      "type": "context"
    },
    {
      "expr": "P(x) = x^4 + a x^3 + b x^2 + c x + 1",
      "id": "A497_C5",
      "type": "context"
    },
    {
      "expr": "b ≤ 4",
      "id": "A497_C6",
      "type": "derived"
    },
    {
      "expr": "b^2 ≥ a^2 + c^2",
      "id": "A497_C7",
      "type": "derived"
    },
    {
      "expr": "P(x) = (x^2 + (a/2) x)^2 + ((c/2) x + 1)^2 + (b - a^2/4 - c^2/4) x^2",
      "id": "A497_C8",
      "type": "derived"
    },
    {
      "expr": "if b > a^2/4 + c^2/4 then P(x) > 0 for all real x",
      "id": "A497_C9",
      "type": "derived"
    },
    {
      "expr": "b ≤ (a^2 + c^2)/4",
      "id": "A497_C10",
      "type": "derived"
    },
    {
      "expr": "a^2 + c^2 ≥ 4 b",
      "id": "A497_C11",
      "type": "derived"
    },
    {
      "expr": "4 b ≤ a^2 + c^2 ≤ b^2",
      "id": "A497_C12",
      "type": "derived"
    },
    {
      "expr": "4 b ≤ b^2",
      "id": "A497_C13",
      "type": "derived"
    },
    {
      "expr": "b ≥ 4",
      "id": "A497_C14",
      "type": "derived"
    },
    {
      "expr": "b = 4",
      "id": "A497_C15",
      "type": "derived"
    },
    {
      "expr": "a^2 + c^2 = 16",
      "id": "A497_C16",
      "type": "derived"
    },
    {
      "expr": "P(x) = (x^2 + (a/2) x)^2 + ((c/2) x + 1)^2",
      "id": "A497_C17",
      "type": "derived"
    },
    {
      "expr": "x^2 + (a/2) x = 0 and (c/2) x + 1 = 0",
      "id": "A497_C18",
      "type": "derived"
    },
    {
      "expr": "x = -2/c",
      "id": "A497_C19",
      "type": "derived"
    },
    {
      "expr": "x = 0 or x = -a/2",
      "id": "A497_C20",
      "type": "derived"
    },
    {
      "expr": "0 ≠ -2/c",
      "id": "A497_C21",
      "type": "derived"
    },
    {
      "expr": "-a/2 = -2/c",
      "id": "A497_C22",
      "type": "derived"
    },
    {
      "expr": "a c = 4",
      "id": "A497_C23",
      "type": "derived"
    },
    {
      "expr": "(a + c)^2 = 24",
      "id": "A497_C24",
      "type": "derived"
    },
    {
      "expr": "a + c = 2 √6",
      "id": "A497_C25",
      "type": "derived"
    },
    {
      "expr": "(a - c)^2 = 8",
      "id": "A497_C26",
      "type": "derived"
    },
    {
      "expr": "a - c = ± 2 √2",
      "id": "A497_C27",
      "type": "derived"
    },
    {
      "expr": "(a, c) = (√6 + √2, √6 - √2) or (√6 - √2, √6 + √2)",
      "id": "A497_C28",
      "type": "derived"
    },
    {
      "expr": "x = -a/2",
      "id": "A497_C29",
      "type": "derived"
    },
    {
      "expr": "x = - (√6 + √2)/2 or x = - (√6 - √2)/2",
      "id": "A497_C30",
      "type": "final"
    },
    {
      "expr": "Find the number of ordered arrays (x_1,...,x_100) with x_i ∈ {1,2,...,2017}, 2017 | ∑ x_i, 2017 | ∑ x_i^2",
      "id": "A60_C1",
      "type": "derived"
    },
    {
      "expr": "p = 2017 is prime",
      "id": "A60_C2",
      "type": "context"
    },
    {
      "expr": "x_i ∈ {1,2,...,p} for i=1,...,100",
      "id": "A60_C3",
      "type": "context"
    },
    {
      "expr": "∑_{i=1}^{100} x_i ≡ 0 (mod p)",
      "id": "A60_C4",
      "type": "context"
    },
    {
      "expr": "∑_{i=1}^{100} x_i^2 ≡ 0 (mod p)",
      "id": "A60_C5",
      "type": "context"
    },
    {
      "expr": "ω is a primitive p-th root of unity",
      "id": "A60_C6",
      "type": "derived"
    },
    {
      "expr": "∑_{k=0}^{p-1} ω^{k s} = p ⋅ 1_{s ≡ 0 mod p}",
      "id": "A60_C7",
      "type": "derived"
    },
    {
      "expr": "∑_{a=0}^{p-1} ∑_{b=0}^{p-1} ω^{a ∑ x_i^2 + b ∑ x_i} = p^2 ⋅ 1_{∑ x_i ≡ 0 mod p and ∑ x_i^2 ≡ 0 mod p}",
      "id": "A60_C8",
      "type": "derived"
    },
    {
      "expr": "p^2 N = ∑_{tuples} ∑_{a,b=0}^{p-1} ω^{a ∑ x_i^2 + b ∑ x_i}",
      "id": "A60_C9",
      "type": "derived"
    },
    {
      "expr": "p^2 N = ∑_{a=0}^{p-1} ∑_{b=0}^{p-1} (∑_{x=1}^p ω^{a x^2 + b x})^{100}",
      "id": "A60_C10",
      "type": "derived"
    },
    {
      "expr": "∑_{x=1}^p ω^{a x^2 + b x} = S(a,b) := ∑_{x=0}^{p-1} ω^{a x^2 + b x}",
      "id": "A60_C11",
      "type": "derived"
    },
    {
      "expr": "p^2 N = ∑_{a=0}^{p-1} ∑_{b=0}^{p-1} S(a,b)^{100}",
      "id": "A60_C12",
      "type": "derived"
    },
    {
      "expr": "S(0,b) = p if b=0, 0 otherwise",
      "id": "A60_C13",
      "type": "derived"
    },
    {
      "expr": "∑_{b=0}^{p-1} S(0,b)^{100} = p^{100}",
      "id": "A60_C14",
      "type": "derived"
    },
    {
      "expr": "For a ≠ 0, a x^2 + b x = a (x + b/(2a))^2 - b^2/(4a) mod p",
      "id": "A60_C15",
      "type": "derived"
    },
    {
      "expr": "For a ≠ 0, S(a,b) = ω^{-b^2/(4a)} G(a), G(a) = ∑_{x=0}^{p-1} ω^{a x^2}",
      "id": "A60_C16",
      "type": "derived"
    },
    {
      "expr": "G(a) = (a/p) G(1) for a ≠ 0",
      "id": "A60_C17",
      "type": "derived"
    },
    {
      "expr": "G(a)^{100} = G(1)^{100} for a ≠ 0",
      "id": "A60_C18",
      "type": "derived"
    },
    {
      "expr": "For a ≠ 0, S(a,b)^{100} = ω^{-25 b^2 / a} G(1)^{100}",
      "id": "A60_C19",
      "type": "derived"
    },
    {
      "expr": "∑_{a=1}^{p-1} ∑_{b=0}^{p-1} S(a,b)^{100} = G(1)^{100} ⋅ T, T = ∑_{a=1}^{p-1} ∑_{b=0}^{p-1} ω^{-25 b^2 / a}",
      "id": "A60_C20",
      "type": "derived"
    },
    {
      "expr": "T = ∑_{b=0}^{p-1} ∑_{a=1}^{p-1} ω^{c b^2 / a}, c ≡ -25 ≠ 0 mod p",
      "id": "A60_C21",
      "type": "derived"
    },
    {
      "expr": "b=0 contribution to T: p-1",
      "id": "A60_C22",
      "type": "derived"
    },
    {
      "expr": "For b ≠ 0, ∑_{a=1}^{p-1} ω^{(c b^2)/a} = -1",
      "id": "A60_C23",
      "type": "derived"
    },
    {
      "expr": "∑_{b=1}^{p-1} ∑_{a=1}^{p-1} ω^{c b^2 / a} = (p-1) (-1)",
      "id": "A60_C24",
      "type": "derived"
    },
    {
      "expr": "T = 0",
      "id": "A60_C25",
      "type": "derived"
    },
    {
      "expr": "∑_{a=1}^{p-1} ∑_{b=0}^{p-1} S(a,b)^{100} = 0",
      "id": "A60_C26",
      "type": "derived"
    },
    {
      "expr": "p^2 N = p^{100}",
      "id": "A60_C27",
      "type": "derived"
    },
    {
      "expr": "N = p^{98}",
      "id": "A60_C28",
      "type": "final"
    },
    {
      "expr": "Find the number of ordered arrays (x_1,...,x_100) with x_i ∈ {1,2,...,2017}, (b + 2013) | ∑ x_i, (b + 2013) | ∑ x_i^2",
      "id": "B8658_C1",
      "type": "goal"
    },
    {
      "expr": "E[number of local maxima] = (n + 1)/3",
      "id": "A3171_C1",
      "type": "derived"
    },
    {
      "expr": "S = {1, 2, ..., n}, n > 1 integer",
      "id": "A3171_C2",
      "type": "context"
    },
    {
      "expr": "π is uniform random permutation of S",
      "id": "A3171_C3",
      "type": "context"
    },
    {
      "expr": "local max at 1 iff π(1) > π(2)",
      "id": "A3171_C4",
      "type": "context"
    },
    {
      "expr": "local max at n iff π(n-1) < π(n)",
      "id": "A3171_C5",
      "type": "context"
    },
    {
      "expr": "local max at k (1 < k < n) iff π(k-1) < π(k) > π(k+1)",
      "id": "A3171_C6",
      "type": "context"
    },
    {
      "expr": "X_k = 1 if local max at k, else 0, for k = 1 to n",
      "id": "A3171_C7",
      "type": "derived"
    },
    {
      "expr": "X = sum_{k=1}^n X_k",
      "id": "A3171_C8",
      "type": "derived"
    },
    {
      "expr": "E[X] = sum_{k=1}^n P(X_k = 1)",
      "id": "A3171_C9",
      "type": "derived"
    },
    {
      "expr": "for distinct i, j: (π(i), π(j)) uniform random ordered pair of distinct elements from S",
      "id": "A3171_C10",
      "type": "derived"
    },
    {
      "expr": "P(π(i) > π(j)) = 1/2 for distinct i, j",
      "id": "A3171_C11",
      "type": "derived"
    },
    {
      "expr": "P(X_1 = 1) = 1/2",
      "id": "A3171_C12",
      "type": "derived"
    },
    {
      "expr": "P(X_n = 1) = 1/2",
      "id": "A3171_C13",
      "type": "derived"
    },
    {
      "expr": "for distinct i, j, l: (π(i), π(j), π(l)) uniform random ordered triple of distinct elements from S",
      "id": "A3171_C14",
      "type": "derived"
    },
    {
      "expr": "P(π(a) < π(b) > π(c)) = 1/3 for distinct a, b, c",
      "id": "A3171_C15",
      "type": "derived"
    },
    {
      "expr": "P(X_k = 1) = 1/3 for 1 < k < n",
      "id": "A3171_C16",
      "type": "derived"
    },
    {
      "expr": "sum_{k=1}^n P(X_k = 1) = 1/2 + (n-2) * (1/3) + 1/2",
      "id": "A3171_C17",
      "type": "derived"
    },
    {
      "expr": "1/2 + 1/2 + (n-2)/3 = (n + 1)/3",
      "id": "A3171_C18",
      "type": "derived"
    },
    {
      "expr": "E[X] = (n + 1)/3",
      "id": "A3171_C19",
      "type": "final"
    },
    {
      "expr": "E[number of local maxima] = (n + (T + 1))/3",
      "id": "B2259_C1",
      "type": "goal"
    }
  ],
  "Class_ID": [
    "B8658",
    "B2259"
  ],
  "Connecting_Point": [
    {
      "B8658": {
        "2017": "(b + 2013)"
      }
    },
    {
      "B2259": {
        "1": "(T + 1)"
      }
    }
  ],
  "Delta_Depth": [
    {
      "A497": {
        "b": 15
      }
    },
    {
      "A60": {
        "T": 25
      }
    },
    {
      "A3171": 0
    }
  ],
  "Delta_Factor": [
    {
      "A497": 0.5
    },
    {
      "A60": 0.89
    },
    {
      "A3171": 0
    }
  ],
  "Delta_Socket": [
    {
      "A497": {
        "4": 4.0
      }
    },
    {
      "A60": {
        "2017": 2017.0
      }
    },
    {
      "A3171": {
        "1": 1.0
      }
    }
  ],
  "Delta_Socket_Order": [
    {
      "A497": 1
    },
    {
      "A60": 1
    },
    {
      "A3171": 1
    }
  ],
  "Delta_Source": [
    {
      "A497": "derived"
    },
    {
      "A60": "derived"
    },
    {
      "A3171": ""
    }
  ],
  "Delta_Value": [
    {
      "A497": {
        "b": "4"
      }
    },
    {
      "A60": {
        "T": "0"
      }
    },
    {
      "A3171": {}
    }
  ],
  "Delta_Value_Order": [
    {
      "A497": 1
    },
    {
      "A60": 1
    },
    {
      "A3171": 0
    }
  ],
  "Delta_Variable_Names": [
    {
      "A497": [
        "b"
      ]
    },
    {
      "A60": [
        "T"
      ]
    },
    {
      "A3171": []
    }
  ],
  "Ground_Truth": [
    {
      "A497": "The possible values of \\( x \\) are:\n\n\\[ -\\frac{\\sqrt{6}+\\sqrt{2}}{2} \\quad \\text{and} \\quad -\\frac{\\sqrt{6}-\\sqrt{2}}{2} \\]"
    },
    {
      "A60": "2017^{98}"
    },
    {
      "A3171": "\\frac{n+1}{3}"
    }
  ],
  "Math_Problem": "Triangle $ABC$ is inscribed in a circle of radius $2$ with $\\angle ABC \\geq 90^\\circ$, and $x$ is a real number satisfying the equation $x^4 + a x^3 + b x^2 + c x + 1 = 0$, where $a=BC$, $b=CA$, $c=AB$. Find all possible values of $x$. Instead of determining all possible real roots of the quartic equation with coefficients given by the side lengths, simply find $k = b + 2013$, where $b$ is the length of side $CA$. Find the numbers of ordered array $(x_1,...,x_{100})$ that satisfies the following conditions: $(i)$ $x_1,...,x_{100} \\in \\{1,2,..,k\\}$; $(ii)$ $k | x_1 + \\dots + x_{100}$; $(iii)$ $k | x_1^2 + \\dots + x_{100}^2$. Instead of finding the number of ordered arrays satisfying the modular divisibility conditions on the sum and sum of squares, simply find $r = T + 1$, where $T$ is the total phase alignment factor from the quadratic and linear terms in the non-trivial character sums used in the roots-of-unity approach to counting the arrays. Let $S = \\{1, 2, \\dots, n\\}$ for some integer $n > 1$. Say a permutation $\\pi$ of $S$ has a \\emph{local maximum} at $k \\in S$ if \n\\begin{enumerate} \n\\item[(i)] $\\pi(k) > \\pi(k+1)$ for $k=1$; \n\\item[(ii)] $\\pi(k-1) < \\pi(k)$ and $\\pi(k) > \\pi(k+1)$ for $1 < k < n$; \n\\item[(iii)] $\\pi(k-1) < \\pi(k)$ for $k=n$. \n\\end{enumerate} \n(For example, if $n=5$ and $\\pi$ takes values at $1, 2, 3, 4, 5$ of $2, 1, 4, 5, 3$, then $\\pi$ has a local maximum of 2 at $k=1$, and a local maximum of 5 at $k=4$.) The expected number of local maxima at the two endpoint positions $k=1$ and $k=n$ sums to $r$. What is the average number of local maxima of a permutation of $S$, averaging over all permutations of $S$?",
  "Max_Delta_Depth": [
    {
      "A497": 15
    },
    {
      "A60": 25
    },
    {
      "A3171": 0
    }
  ],
  "Max_Delta_Factor": [
    {
      "A497": 0.5
    },
    {
      "A60": 0.89
    },
    {
      "A3171": 0
    }
  ],
  "Min_Delta_Depth": [
    {
      "A497": 15
    },
    {
      "A60": 25
    },
    {
      "A3171": 0
    }
  ],
  "Min_Delta_Factor": [
    {
      "A497": 0.5
    },
    {
      "A60": 0.89
    },
    {
      "A3171": 0
    }
  ],
  "Multiple_Synthesis_Class": "MP3",
  "Predicted_Answer": [
    {
      "A497": "-\frac{\\sqrt{6}+\\sqrt{2}}{2} and -\frac{\\sqrt{6}-\\sqrt{2}}{2}"
    },
    {
      "A60": "2017^{98}"
    },
    {
      "A3171": "(n+1)/3"
    }
  ],
  "Problem_ID": 43,
  "Problem_Length": [
    {
      "A497": 230
    },
    {
      "A60": 201
    },
    {
      "A3171": 596
    }
  ],
  "Problem_Level": [
    {
      "A497": "KbsdJames_Omni-MATH_6.5"
    },
    {
      "A60": "KbsdJames_Omni-MATH_6.5"
    },
    {
      "A3171": "KbsdJames_Omni-MATH_7.0"
    }
  ],
  "Problem_Source": [
    {
      "A497": "usajmo"
    },
    {
      "A60": "china_team_selection_test"
    },
    {
      "A3171": "putnam"
    }
  ],
  "Problem_Type": [
    {
      "A497": [
        "Mathematics -> Algebra -> Algebra -> Polynomial Operations",
        "Mathematics -> Geometry -> Plane Geometry -> Angles"
      ]
    },
    {
      "A60": [
        "Mathematics -> Number Theory -> Congruences",
        "Mathematics -> Applied Mathematics -> Statistics -> Probability -> Counting Methods -> Other"
      ]
    },
    {
      "A3171": [
        "Mathematics -> Discrete Mathematics -> Combinatorics",
        "Mathematics -> Applied Mathematics -> Statistics -> Probability -> Counting Methods -> Other"
      ]
    }
  ],
  "Source_Delta_Socket": [
    {
      "A497": "goal"
    },
    {
      "A60": "goal"
    },
    {
      "A3171": "goal"
    }
  ],
  "Steps": [
    {
      "conclusions": [
        "A497_C2: radius R = 2",
        "A497_C3: ∠ABC ≥ 90°",
        "A497_C4: a = BC > 0, b = CA > 0, c = AB > 0",
        "A497_C5: P(x) = x^4 + a x^3 + b x^2 + c x + 1"
      ],
      "id": "A497_S1",
      "premises": [
        "A497_C1: all possible real x satisfying x^4 + a x^3 + b x^2 + c x + 1 = 0"
      ],
      "rule": "problem setup"
    },
    {
      "conclusions": [
        "A497_C6: b ≤ 4"
      ],
      "id": "A497_S2",
      "premises": [
        "A497_C2: radius R = 2",
        "A497_C4: a = BC > 0, b = CA > 0, c = AB > 0"
      ],
      "rule": "diameter bound"
    },
    {
      "conclusions": [
        "A497_C7: b^2 ≥ a^2 + c^2"
      ],
      "id": "A497_S3",
      "premises": [
        "A497_C3: ∠ABC ≥ 90°",
        "A497_C4: a = BC > 0, b = CA > 0, c = AB > 0"
      ],
      "rule": "law of cosines with cos ∠B ≤ 0"
    },
    {
      "conclusions": [
        "A497_C8: P(x) = (x^2 + (a/2) x)^2 + ((c/2) x + 1)^2 + (b - a^2/4 - c^2/4) x^2"
      ],
      "id": "A497_S4",
      "premises": [
        "A497_C5: P(x) = x^4 + a x^3 + b x^2 + c x + 1"
      ],
      "rule": "polynomial rewriting"
    },
    {
      "conclusions": [
        "A497_C9: if b > a^2/4 + c^2/4 then P(x) > 0 for all real x"
      ],
      "id": "A497_S5",
      "premises": [
        "A497_C8: P(x) = (x^2 + (a/2) x)^2 + ((c/2) x + 1)^2 + (b - a^2/4 - c^2/4) x^2"
      ],
      "rule": "positivity analysis"
    },
    {
      "conclusions": [
        "A497_C10: b ≤ (a^2 + c^2)/4"
      ],
      "id": "A497_S6",
      "premises": [
        "A497_C9: if b > a^2/4 + c^2/4 then P(x) > 0 for all real x",
        "A497_C1: all possible real x satisfying x^4 + a x^3 + b x^2 + c x + 1 = 0"
      ],
      "rule": "necessary condition"
    },
    {
      "conclusions": [
        "A497_C11: a^2 + c^2 ≥ 4 b"
      ],
      "id": "A497_S7",
      "premises": [
        "A497_C10: b ≤ (a^2 + c^2)/4"
      ],
      "rule": "inequality rearrangement"
    },
    {
      "conclusions": [
        "A497_C12: 4 b ≤ a^2 + c^2 ≤ b^2"
      ],
      "id": "A497_S8",
      "premises": [
        "A497_C11: a^2 + c^2 ≥ 4 b",
        "A497_C7: b^2 ≥ a^2 + c^2"
      ],
      "rule": "combine inequalities"
    },
    {
      "conclusions": [
        "A497_C13: 4 b ≤ b^2"
      ],
      "id": "A497_S9",
      "premises": [
        "A497_C12: 4 b ≤ a^2 + c^2 ≤ b^2"
      ],
      "rule": "transitivity of inequality"
    },
    {
      "conclusions": [
        "A497_C14: b ≥ 4"
      ],
      "id": "A497_S10",
      "premises": [
        "A497_C13: 4 b ≤ b^2",
        "A497_C4: a = BC > 0, b = CA > 0, c = AB > 0"
      ],
      "rule": "solve b^2 - 4b ≥ 0 for b > 0"
    },
    {
      "conclusions": [
        "A497_C15: b = 4"
      ],
      "id": "A497_S11",
      "premises": [
        "A497_C14: b ≥ 4",
        "A497_C6: b ≤ 4"
      ],
      "rule": "equality from lower and upper bounds"
    },
    {
      "conclusions": [
        "A497_C16: a^2 + c^2 = 16"
      ],
      "id": "A497_S12",
      "premises": [
        "A497_C12: 4 b ≤ a^2 + c^2 ≤ b^2",
        "A497_C15: b = 4"
      ],
      "rule": "substitute b=4 into inequalities"
    },
    {
      "conclusions": [
        "A497_C17: P(x) = (x^2 + (a/2) x)^2 + ((c/2) x + 1)^2"
      ],
      "id": "A497_S13",
      "premises": [
        "A497_C8: P(x) = (x^2 + (a/2) x)^2 + ((c/2) x + 1)^2 + (b - a^2/4 - c^2/4) x^2",
        "A497_C15: b = 4",
        "A497_C16: a^2 + c^2 = 16"
      ],
      "rule": "set k=0 in rewriting"
    },
    {
      "conclusions": [
        "A497_C18: x^2 + (a/2) x = 0 and (c/2) x + 1 = 0"
      ],
      "id": "A497_S14",
      "premises": [
        "A497_C17: P(x) = (x^2 + (a/2) x)^2 + ((c/2) x + 1)^2",
        "A497_C1: all possible real x satisfying x^4 + a x^3 + b x^2 + c x + 1 = 0"
      ],
      "rule": "sum of squares zero implies each zero"
    },
    {
      "conclusions": [
        "A497_C19: x = -2/c"
      ],
      "id": "A497_S15",
      "premises": [
        "A497_C18: x^2 + (a/2) x = 0 and (c/2) x + 1 = 0"
      ],
      "rule": "solve linear equation"
    },
    {
      "conclusions": [
        "A497_C20: x = 0 or x = -a/2"
      ],
      "id": "A497_S16",
      "premises": [
        "A497_C18: x^2 + (a/2) x = 0 and (c/2) x + 1 = 0"
      ],
      "rule": "solve quadratic equation"
    },
    {
      "conclusions": [
        "A497_C21: 0 ≠ -2/c"
      ],
      "id": "A497_S17",
      "premises": [
        "A497_C19: x = -2/c",
        "A497_C4: a = BC > 0, b = CA > 0, c = AB > 0"
      ],
      "rule": "contradiction check"
    },
    {
      "conclusions": [
        "A497_C22: -a/2 = -2/c"
      ],
      "id": "A497_S18",
      "premises": [
        "A497_C19: x = -2/c",
        "A497_C20: x = 0 or x = -a/2",
        "A497_C21: 0 ≠ -2/c"
      ],
      "rule": "require common root excluding x=0"
    },
    {
      "conclusions": [
        "A497_C23: a c = 4"
      ],
      "id": "A497_S19",
      "premises": [
        "A497_C22: -a/2 = -2/c"
      ],
      "rule": "algebraic simplification"
    },
    {
      "conclusions": [
        "A497_C24: (a + c)^2 = 24"
      ],
      "id": "A497_S20",
      "premises": [
        "A497_C16: a^2 + c^2 = 16",
        "A497_C23: a c = 4"
      ],
      "rule": "expand (a+c)^2"
    },
    {
      "conclusions": [
        "A497_C25: a + c = 2 √6"
      ],
      "id": "A497_S21",
      "premises": [
        "A497_C24: (a + c)^2 = 24",
        "A497_C4: a = BC > 0, b = CA > 0, c = AB > 0"
      ],
      "rule": "positive root"
    },
    {
      "conclusions": [
        "A497_C26: (a - c)^2 = 8"
      ],
      "id": "A497_S22",
      "premises": [
        "A497_C16: a^2 + c^2 = 16",
        "A497_C23: a c = 4"
      ],
      "rule": "expand (a-c)^2"
    },
    {
      "conclusions": [
        "A497_C27: a - c = ± 2 √2"
      ],
      "id": "A497_S23",
      "premises": [
        "A497_C26: (a - c)^2 = 8"
      ],
      "rule": "square roots"
    },
    {
      "conclusions": [
        "A497_C28: (a, c) = (√6 + √2, √6 - √2) or (√6 - √2, √6 + √2)"
      ],
      "id": "A497_S24",
      "premises": [
        "A497_C25: a + c = 2 √6",
        "A497_C27: a - c = ± 2 √2",
        "A497_C4: a = BC > 0, b = CA > 0, c = AB > 0"
      ],
      "rule": "solve linear system for a, c > 0"
    },
    {
      "conclusions": [
        "A497_C29: x = -a/2"
      ],
      "id": "A497_S25",
      "premises": [
        "A497_C22: -a/2 = -2/c"
      ],
      "rule": "x from common root"
    },
    {
      "conclusions": [
        "A497_C30: x = - (√6 + √2)/2 or x = - (√6 - √2)/2"
      ],
      "id": "A497_S26",
      "premises": [
        "A497_C28: (a, c) = (√6 + √2, √6 - √2) or (√6 - √2, √6 + √2)",
        "A497_C29: x = -a/2"
      ],
      "rule": "substitute (a,c) pairs"
    },
    {
      "conclusions": [
        "A60_C2: p = 2017 is prime",
        "A60_C3: x_i ∈ {1,2,...,p} for i=1,...,100",
        "A60_C4: ∑_{i=1}^{100} x_i ≡ 0 (mod p)",
        "A60_C5: ∑_{i=1}^{100} x_i^2 ≡ 0 (mod p)"
      ],
      "id": "A60_S1",
      "premises": [
        "A60_C1: Find the number of ordered arrays (x_1,...,x_100) with x_i ∈ {1,2,...,2017}, 2017 | ∑ x_i, 2017 | ∑ x_i^2"
      ],
      "rule": "problem setup"
    },
    {
      "conclusions": [
        "A60_C6: ω is a primitive p-th root of unity"
      ],
      "id": "A60_S2",
      "premises": [
        "A60_C2: p = 2017 is prime"
      ],
      "rule": "define roots of unity"
    },
    {
      "conclusions": [
        "A60_C7: ∑_{k=0}^{p-1} ω^{k s} = p ⋅ 1_{s ≡ 0 mod p}"
      ],
      "id": "A60_S3",
      "premises": [
        "A60_C6: ω is a primitive p-th root of unity"
      ],
      "rule": "roots of unity filter one condition"
    },
    {
      "conclusions": [
        "A60_C8: ∑_{a=0}^{p-1} ∑_{b=0}^{p-1} ω^{a ∑ x_i^2 + b ∑ x_i} = p^2 ⋅ 1_{∑ x_i ≡ 0 mod p and ∑ x_i^2 ≡ 0 mod p}"
      ],
      "id": "A60_S4",
      "premises": [
        "A60_C7: ∑_{k=0}^{p-1} ω^{k s} = p ⋅ 1_{s ≡ 0 mod p}",
        "A60_C4: ∑_{i=1}^{100} x_i ≡ 0 (mod p)",
        "A60_C5: ∑_{i=1}^{100} x_i^2 ≡ 0 (mod p)"
      ],
      "rule": "roots of unity filter two conditions"
    },
    {
      "conclusions": [
        "A60_C9: p^2 N = ∑_{tuples} ∑_{a,b=0}^{p-1} ω^{a ∑ x_i^2 + b ∑ x_i}"
      ],
      "id": "A60_S5",
      "premises": [
        "A60_C8: ∑_{a=0}^{p-1} ∑_{b=0}^{p-1} ω^{a ∑ x_i^2 + b ∑ x_i} = p^2 ⋅ 1_{∑ x_i ≡ 0 mod p and ∑ x_i^2 ≡ 0 mod p}"
      ],
      "rule": "apply filter to count N"
    },
    {
      "conclusions": [
        "A60_C10: p^2 N = ∑_{a=0}^{p-1} ∑_{b=0}^{p-1} (∑_{x=1}^p ω^{a x^2 + b x})^{100}"
      ],
      "id": "A60_S6",
      "premises": [
        "A60_C9: p^2 N = ∑_{tuples} ∑_{a,b=0}^{p-1} ω^{a ∑ x_i^2 + b ∑ x_i}",
        "A60_C3: x_i ∈ {1,2,...,p} for i=1,...,100"
      ],
      "rule": "interchange sums"
    },
    {
      "conclusions": [
        "A60_C11: ∑_{x=1}^p ω^{a x^2 + b x} = S(a,b) := ∑_{x=0}^{p-1} ω^{a x^2 + b x}"
      ],
      "id": "A60_S7",
      "premises": [
        "A60_C10: p^2 N = ∑_{a=0}^{p-1} ∑_{b=0}^{p-1} (∑_{x=1}^p ω^{a x^2 + b x})^{100}",
        "A60_C2: p = 2017 is prime",
        "A60_C3: x_i ∈ {1,2,...,p} for i=1,...,100"
      ],
      "rule": "equivalence of sum ranges mod p"
    },
    {
      "conclusions": [
        "A60_C12: p^2 N = ∑_{a=0}^{p-1} ∑_{b=0}^{p-1} S(a,b)^{100}"
      ],
      "id": "A60_S8",
      "premises": [
        "A60_C10: p^2 N = ∑_{a=0}^{p-1} ∑_{b=0}^{p-1} (∑_{x=1}^p ω^{a x^2 + b x})^{100}",
        "A60_C11: ∑_{x=1}^p ω^{a x^2 + b x} = S(a,b) := ∑_{x=0}^{p-1} ω^{a x^2 + b x}"
      ],
      "rule": "define S(a,b) and substitute"
    },
    {
      "conclusions": [
        "A60_C13: S(0,b) = p if b=0, 0 otherwise"
      ],
      "id": "A60_S9",
      "premises": [
        "A60_C12: p^2 N = ∑_{a=0}^{p-1} ∑_{b=0}^{p-1} S(a,b)^{100}",
        "A60_C7: ∑_{k=0}^{p-1} ω^{k s} = p ⋅ 1_{s ≡ 0 mod p}"
      ],
      "rule": "evaluate S(0,b)"
    },
    {
      "conclusions": [
        "A60_C14: ∑_{b=0}^{p-1} S(0,b)^{100} = p^{100}"
      ],
      "id": "A60_S10",
      "premises": [
        "A60_C13: S(0,b) = p if b=0, 0 otherwise"
      ],
      "rule": "a=0 contribution"
    },
    {
      "conclusions": [
        "A60_C15: For a ≠ 0, a x^2 + b x = a (x + b/(2a))^2 - b^2/(4a) mod p"
      ],
      "id": "A60_S11",
      "premises": [
        "A60_C2: p = 2017 is prime"
      ],
      "rule": "complete the square"
    },
    {
      "conclusions": [
        "A60_C16: For a ≠ 0, S(a,b) = ω^{-b^2/(4a)} G(a), G(a) = ∑_{x=0}^{p-1} ω^{a x^2}"
      ],
      "id": "A60_S12",
      "premises": [
        "A60_C15: For a ≠ 0, a x^2 + b x = a (x + b/(2a))^2 - b^2/(4a) mod p",
        "A60_C11: ∑_{x=1}^p ω^{a x^2 + b x} = S(a,b) := ∑_{x=0}^{p-1} ω^{a x^2 + b x}"
      ],
      "rule": "apply completing the square to S(a,b)"
    },
    {
      "conclusions": [
        "A60_C17: G(a) = (a/p) G(1) for a ≠ 0"
      ],
      "id": "A60_S13",
      "premises": [
        "A60_C2: p = 2017 is prime"
      ],
      "rule": "Gauss sum scaling"
    },
    {
      "conclusions": [
        "A60_C18: G(a)^{100} = G(1)^{100} for a ≠ 0"
      ],
      "id": "A60_S14",
      "premises": [
        "A60_C17: G(a) = (a/p) G(1) for a ≠ 0"
      ],
      "rule": "even power on Legendre symbol"
    },
    {
      "conclusions": [
        "A60_C19: For a ≠ 0, S(a,b)^{100} = ω^{-25 b^2 / a} G(1)^{100}"
      ],
      "id": "A60_S15",
      "premises": [
        "A60_C16: For a ≠ 0, S(a,b) = ω^{-b^2/(4a)} G(a), G(a) = ∑_{x=0}^{p-1} ω^{a x^2}",
        "A60_C18: G(a)^{100} = G(1)^{100} for a ≠ 0"
      ],
      "rule": "raise S(a,b) to 100th power"
    },
    {
      "conclusions": [
        "A60_C20: ∑_{a=1}^{p-1} ∑_{b=0}^{p-1} S(a,b)^{100} = G(1)^{100} ⋅ T, T = ∑_{a=1}^{p-1} ∑_{b=0}^{p-1} ω^{-25 b^2 / a}"
      ],
      "id": "A60_S16",
      "premises": [
        "A60_C12: p^2 N = ∑_{a=0}^{p-1} ∑_{b=0}^{p-1} S(a,b)^{100}",
        "A60_C19: For a ≠ 0, S(a,b)^{100} = ω^{-25 b^2 / a} G(1)^{100}"
      ],
      "rule": "sum over a ≠ 0"
    },
    {
      "conclusions": [
        "A60_C21: T = ∑_{b=0}^{p-1} ∑_{a=1}^{p-1} ω^{c b^2 / a}, c ≡ -25 ≠ 0 mod p"
      ],
      "id": "A60_S17",
      "premises": [
        "A60_C20: ∑_{a=1}^{p-1} ∑_{b=0}^{p-1} S(a,b)^{100} = G(1)^{100} ⋅ T, T = ∑_{a=1}^{p-1} ∑_{b=0}^{p-1} ω^{-25 b^2 / a}"
      ],
      "rule": "define auxiliary sum T"
    },
    {
      "conclusions": [
        "A60_C22: b=0 contribution to T: p-1"
      ],
      "id": "A60_S18",
      "premises": [
        "A60_C21: T = ∑_{b=0}^{p-1} ∑_{a=1}^{p-1} ω^{c b^2 / a}, c ≡ -25 ≠ 0 mod p"
      ],
      "rule": "split T at b=0"
    },
    {
      "conclusions": [
        "A60_C23: For b ≠ 0, ∑_{a=1}^{p-1} ω^{(c b^2)/a} = -1"
      ],
      "id": "A60_S19",
      "premises": [
        "A60_C2: p = 2017 is prime",
        "A60_C21: T = ∑_{b=0}^{p-1} ∑_{a=1}^{p-1} ω^{c b^2 / a}, c ≡ -25 ≠ 0 mod p"
      ],
      "rule": "sum over a via inversion"
    },
    {
      "conclusions": [
        "A60_C24: ∑_{b=1}^{p-1} ∑_{a=1}^{p-1} ω^{c b^2 / a} = (p-1) (-1)"
      ],
      "id": "A60_S20",
      "premises": [
        "A60_C23: For b ≠ 0, ∑_{a=1}^{p-1} ω^{(c b^2)/a} = -1"
      ],
      "rule": "sum over b ≠ 0"
    },
    {
      "conclusions": [
        "A60_C25: T = 0"
      ],
      "id": "A60_S21",
      "premises": [
        "A60_C22: b=0 contribution to T: p-1",
        "A60_C24: ∑_{b=1}^{p-1} ∑_{a=1}^{p-1} ω^{c b^2 / a} = (p-1) (-1)"
      ],
      "rule": "evaluate T"
    },
    {
      "conclusions": [
        "A60_C26: ∑_{a=1}^{p-1} ∑_{b=0}^{p-1} S(a,b)^{100} = 0"
      ],
      "id": "A60_S22",
      "premises": [
        "A60_C20: ∑_{a=1}^{p-1} ∑_{b=0}^{p-1} S(a,b)^{100} = G(1)^{100} ⋅ T, T = ∑_{a=1}^{p-1} ∑_{b=0}^{p-1} ω^{-25 b^2 / a}",
        "A60_C25: T = 0"
      ],
      "rule": "a ≠ 0 total contribution"
    },
    {
      "conclusions": [
        "A60_C27: p^2 N = p^{100}"
      ],
      "id": "A60_S23",
      "premises": [
        "A60_C12: p^2 N = ∑_{a=0}^{p-1} ∑_{b=0}^{p-1} S(a,b)^{100}",
        "A60_C14: ∑_{b=0}^{p-1} S(0,b)^{100} = p^{100}",
        "A60_C26: ∑_{a=1}^{p-1} ∑_{b=0}^{p-1} S(a,b)^{100} = 0"
      ],
      "rule": "combine a=0 and a ≠ 0"
    },
    {
      "conclusions": [
        "A60_C28: N = p^{98}"
      ],
      "id": "A60_S24",
      "premises": [
        "A60_C27: p^2 N = p^{100}"
      ],
      "rule": "solve for N"
    },
    {
      "conclusions": [
        "A60_C1: Find the number of ordered arrays (x_1,...,x_100) with x_i ∈ {1,2,...,2017}, 2017 | ∑ x_i, 2017 | ∑ x_i^2"
      ],
      "id": "B8658_S1",
      "premises": [
        "B8658_C1: Find the number of ordered arrays (x_1,...,x_100) with x_i ∈ {1,2,...,2017}, (b + 2013) | ∑ x_i, (b + 2013) | ∑ x_i^2",
        "A497_C15: b = 4"
      ],
      "rule": "problem connection"
    },
    {
      "conclusions": [
        "A3171_C2: S = {1, 2, ..., n}, n > 1 integer",
        "A3171_C3: π is uniform random permutation of S",
        "A3171_C4: local max at 1 iff π(1) > π(2)",
        "A3171_C5: local max at n iff π(n-1) < π(n)",
        "A3171_C6: local max at k (1 < k < n) iff π(k-1) < π(k) > π(k+1)"
      ],
      "id": "A3171_S1",
      "premises": [
        "A3171_C1: E[number of local maxima] = (n + 1)/3"
      ],
      "rule": "problem setup"
    },
    {
      "conclusions": [
        "A3171_C7: X_k = 1 if local max at k, else 0, for k = 1 to n"
      ],
      "id": "A3171_S2",
      "premises": [
        "A3171_C4: local max at 1 iff π(1) > π(2)",
        "A3171_C5: local max at n iff π(n-1) < π(n)",
        "A3171_C6: local max at k (1 < k < n) iff π(k-1) < π(k) > π(k+1)"
      ],
      "rule": "define indicator variables"
    },
    {
      "conclusions": [
        "A3171_C8: X = sum_{k=1}^n X_k"
      ],
      "id": "A3171_S3",
      "premises": [
        "A3171_C7: X_k = 1 if local max at k, else 0, for k = 1 to n"
      ],
      "rule": "total number of local maxima"
    },
    {
      "conclusions": [
        "A3171_C9: E[X] = sum_{k=1}^n P(X_k = 1)"
      ],
      "id": "A3171_S4",
      "premises": [
        "A3171_C8: X = sum_{k=1}^n X_k"
      ],
      "rule": "linearity of expectation"
    },
    {
      "conclusions": [
        "A3171_C10: for distinct i, j: (π(i), π(j)) uniform random ordered pair of distinct elements from S"
      ],
      "id": "A3171_S5",
      "premises": [
        "A3171_C3: π is uniform random permutation of S"
      ],
      "rule": "uniformity over two positions"
    },
    {
      "conclusions": [
        "A3171_C11: P(π(i) > π(j)) = 1/2 for distinct i, j"
      ],
      "id": "A3171_S6",
      "premises": [
        "A3171_C10: for distinct i, j: (π(i), π(j)) uniform random ordered pair of distinct elements from S"
      ],
      "rule": "probability comparison for two values"
    },
    {
      "conclusions": [
        "A3171_C12: P(X_1 = 1) = 1/2"
      ],
      "id": "A3171_S7",
      "premises": [
        "A3171_C4: local max at 1 iff π(1) > π(2)",
        "A3171_C11: P(π(i) > π(j)) = 1/2 for distinct i, j"
      ],
      "rule": "apply to position 1"
    },
    {
      "conclusions": [
        "A3171_C13: P(X_n = 1) = 1/2"
      ],
      "id": "A3171_S8",
      "premises": [
        "A3171_C5: local max at n iff π(n-1) < π(n)",
        "A3171_C11: P(π(i) > π(j)) = 1/2 for distinct i, j"
      ],
      "rule": "apply to position n"
    },
    {
      "conclusions": [
        "A3171_C14: for distinct i, j, l: (π(i), π(j), π(l)) uniform random ordered triple of distinct elements from S"
      ],
      "id": "A3171_S9",
      "premises": [
        "A3171_C3: π is uniform random permutation of S"
      ],
      "rule": "uniformity over three positions"
    },
    {
      "conclusions": [
        "A3171_C15: P(π(a) < π(b) > π(c)) = 1/3 for distinct a, b, c"
      ],
      "id": "A3171_S10",
      "premises": [
        "A3171_C14: for distinct i, j, l: (π(i), π(j), π(l)) uniform random ordered triple of distinct elements from S"
      ],
      "rule": "probability middle is maximum in three values"
    },
    {
      "conclusions": [
        "A3171_C16: P(X_k = 1) = 1/3 for 1 < k < n"
      ],
      "id": "A3171_S11",
      "premises": [
        "A3171_C6: local max at k (1 < k < n) iff π(k-1) < π(k) > π(k+1)",
        "A3171_C15: P(π(a) < π(b) > π(c)) = 1/3 for distinct a, b, c"
      ],
      "rule": "apply to middle positions"
    },
    {
      "conclusions": [
        "A3171_C17: sum_{k=1}^n P(X_k = 1) = 1/2 + (n-2) * (1/3) + 1/2"
      ],
      "id": "A3171_S12",
      "premises": [
        "A3171_C9: E[X] = sum_{k=1}^n P(X_k = 1)",
        "A3171_C12: P(X_1 = 1) = 1/2",
        "A3171_C13: P(X_n = 1) = 1/2",
        "A3171_C16: P(X_k = 1) = 1/3 for 1 < k < n",
        "A3171_C2: S = {1, 2, ..., n}, n > 1 integer"
      ],
      "rule": "sum the probabilities"
    },
    {
      "conclusions": [
        "A3171_C18: 1/2 + 1/2 + (n-2)/3 = (n + 1)/3"
      ],
      "id": "A3171_S13",
      "premises": [
        "A3171_C17: sum_{k=1}^n P(X_k = 1) = 1/2 + (n-2) * (1/3) + 1/2"
      ],
      "rule": "algebraic simplification"
    },
    {
      "conclusions": [
        "A3171_C19: E[X] = (n + 1)/3"
      ],
      "id": "A3171_S14",
      "premises": [
        "A3171_C9: E[X] = sum_{k=1}^n P(X_k = 1)",
        "A3171_C18: 1/2 + 1/2 + (n-2)/3 = (n + 1)/3"
      ],
      "rule": "equate expectation to sum"
    },
    {
      "conclusions": [
        "A3171_C1: E[number of local maxima] = (n + 1)/3"
      ],
      "id": "B2259_S1",
      "premises": [
        "B2259_C1: E[number of local maxima] = (n + (T + 1))/3",
        "A60_C25: T = 0"
      ],
      "rule": "problem connection"
    }
  ],
  "Sub_Class_ID": [
    {
      "A497": "A497_DG_1"
    },
    {
      "A60": "A60_DG_1"
    },
    {
      "A3171": "A3171_OG_1"
    }
  ],
  "Synthesised_By": [
    {
      "A497": "Triangle $ABC$ is inscribed in a circle of radius $2$ with $\\angle ABC \\geq 90^\\circ$ , and $x$ is a real number satisfying the equation $x^4 + ax^3 + bx^2 + cx + 1 = 0$ , where $a=BC,b=CA,c=AB$ . Find all possible values of $x$ ."
    },
    {
      "A60": "Find the numbers of ordered array $(x_1,...,x_{100})$ that satisfies the following conditions:\n($i$)$x_1,...,x_{100}\\in\\{1,2,..,2017\\}$;\n($ii$)$2017|x_1+...+x_{100}$;\n($iii$)$2017|x_1^2+...+x_{100}^2$."
    },
    {
      "A3171": "Let $S = \\{1, 2, \\dots, n\\}$ for some integer $n > 1$. Say a permutation $\\pi$ of $S$ has a \\emph{local maximum} at $k \\in S$ if \\begin{enumerate} \\item[(i)] $\\pi(k) > \\pi(k+1)$ for $k=1$; \\item[(ii)] $\\pi(k-1) < \\pi(k)$ and $\\pi(k) > \\pi(k+1)$ for $1 < k < n$; \\item[(iii)] $\\pi(k-1) < \\pi(k)$ for $k=n$. \\end{enumerate} (For example, if $n=5$ and $\\pi$ takes values at $1, 2, 3, 4, 5$ of $2, 1, 4, 5, 3$, then $\\pi$ has a local maximum of 2 at $k=1$, and a local maximum of 5 at $k=4$.) What is the average number of local maxima of a permutation of $S$, averaging over all permutations of $S$?"
    }
  ],
  "Synthesised_Problem_Length": 1656,
  "Synthesised_Status": "Stop",
  "Total_Claims": [
    {
      "A497": 30
    },
    {
      "A60": 28
    },
    {
      "A3171": 19
    }
  ],
  "Total_Delta": [
    {
      "A497": 1
    },
    {
      "A60": 1
    },
    {
      "A3171": 0
    }
  ],
  "Total_Delta_Socket": [
    {
      "A497": 1
    },
    {
      "A60": 1
    },
    {
      "A3171": 1
    }
  ],
  "Variable_Names": [
    {
      "A497": [
        "A",
        "B",
        "C",
        "x",
        "c",
        "b",
        "a"
      ]
    },
    {
      "A60": [
        "x",
        "i"
      ]
    },
    {
      "A3171": [
        "S",
        "n",
        "k"
      ]
    }
  ]
}
