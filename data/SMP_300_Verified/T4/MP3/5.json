{
  "Chunk_Type": "T4",
  "Claims": [
    {
      "expr": "Find all integers n ≥ 2 such that σ(n)/(p(n)-1) = n",
      "id": "A1618_C1",
      "type": "goal"
    },
    {
      "expr": "n = ∏_{i=1}^k p_i^{a_i} with 2 ≤ p_1 < ... < p_k primes, a_i ≥ 1, p(n) = p_k",
      "id": "A1618_C2",
      "type": "context"
    },
    {
      "expr": "σ(n) = ∏_{i=1}^k (1 + p_i + ⋯ + p_i^{a_i})",
      "id": "A1618_C3",
      "type": "context"
    },
    {
      "expr": "p_k - 1 = σ(n)/n = ∏_{i=1}^k ∑_{j=0}^{a_i} p_i^{-j}",
      "id": "A1618_C4",
      "type": "derived"
    },
    {
      "expr": "∑_{j=0}^{a_i} p_i^{-j} < 1/(1 - 1/p_i) for each i",
      "id": "A1618_C5",
      "type": "derived"
    },
    {
      "expr": "p_k - 1 < ∏_{i=1}^k 1/(1 - 1/p_i)",
      "id": "A1618_C6",
      "type": "derived"
    },
    {
      "expr": "1/(1 - 1/p_i) = 1 + 1/(p_i - 1)",
      "id": "A1618_C7",
      "type": "derived"
    },
    {
      "expr": "∏_{i=1}^k 1/(1 - 1/p_i) = ∏_{i=1}^k (1 + 1/(p_i - 1))",
      "id": "A1618_C8",
      "type": "derived"
    },
    {
      "expr": "∏_{i=1}^k (1 + 1/(p_i - 1)) ≤ ∏_{i=1}^k (1 + 1/i) = k + 1",
      "id": "A1618_C9",
      "type": "derived"
    },
    {
      "expr": "p_k - 1 < k + 1",
      "id": "A1618_C10",
      "type": "derived"
    },
    {
      "expr": "p_k < k + 2",
      "id": "A1618_C11",
      "type": "derived"
    },
    {
      "expr": "For k ≥ 3, p_k - 1 ≥ 2k - 2",
      "id": "A1618_C12",
      "type": "derived"
    },
    {
      "expr": "For k ≥ 3, 2k - 2 ≥ k + 1",
      "id": "A1618_C13",
      "type": "derived"
    },
    {
      "expr": "For k ≥ 3, p_k - 1 ≥ k + 1",
      "id": "A1618_C14",
      "type": "derived"
    },
    {
      "expr": "k ≤ 2",
      "id": "A1618_C15",
      "type": "derived"
    },
    {
      "expr": "p_k ≤ 3",
      "id": "A1618_C16",
      "type": "derived"
    },
    {
      "expr": "For k = 1, n = p^a, σ(n) ≡ 1 mod p",
      "id": "A1618_C17",
      "type": "derived"
    },
    {
      "expr": "For k = 1, σ(n) = n(p - 1) ≡ 0 mod p",
      "id": "A1618_C18",
      "type": "derived"
    },
    {
      "expr": "No solutions for k = 1",
      "id": "A1618_C19",
      "type": "derived"
    },
    {
      "expr": "k = 2",
      "id": "A1618_C20",
      "type": "derived"
    },
    {
      "expr": "n = 2^α 3^β with α ≥ 1, β ≥ 1",
      "id": "A1618_C21",
      "type": "derived"
    },
    {
      "expr": "∑_{j=0}^α 2^{-j} ⋅ ∑_{j=0}^β 3^{-j} = 2",
      "id": "A1618_C22",
      "type": "derived"
    },
    {
      "expr": "∑_{j=0}^α 2^{-j} ≥ 1 + 1/2 = 3/2, = iff α = 1",
      "id": "A1618_C23",
      "type": "derived"
    },
    {
      "expr": "∑_{j=0}^β 3^{-j} ≥ 1 + 1/3 = 4/3, = iff β = 1",
      "id": "A1618_C24",
      "type": "derived"
    },
    {
      "expr": "σ(n)/n ≥ (3/2)(4/3) = 2, = iff α = β = 1",
      "id": "A1618_C25",
      "type": "derived"
    },
    {
      "expr": "The only solution is n = 6",
      "id": "A1618_C26",
      "type": "final"
    },
    {
      "expr": "Determine all integers n = a² + b² where a, b positive integers, gcd(a, b) = 1, and ∀ prime p ≤ √n, p | ab",
      "id": "A1647_C1",
      "type": "derived"
    },
    {
      "expr": "n = a² + b²",
      "id": "A1647_C2",
      "type": "context"
    },
    {
      "expr": "gcd(a, b) = 1",
      "id": "A1647_C3",
      "type": "context"
    },
    {
      "expr": "∀ prime p ≤ √n, p | ab",
      "id": "A1647_C4",
      "type": "context"
    },
    {
      "expr": "Assume a ≥ b ≥ 1",
      "id": "A1647_C5",
      "type": "derived"
    },
    {
      "expr": "If n composite, ∃ prime p ≤ √n, p | n",
      "id": "A1647_C6",
      "type": "derived"
    },
    {
      "expr": "p | n = a² + b² and p | ab",
      "id": "A1647_C7",
      "type": "derived"
    },
    {
      "expr": "If p | a, then p | b², so p | b",
      "id": "A1647_C8",
      "type": "derived"
    },
    {
      "expr": "p | a and p | b contradicts gcd(a, b) = 1",
      "id": "A1647_C9",
      "type": "derived"
    },
    {
      "expr": "If p | b, then p | a², so p | a",
      "id": "A1647_C10",
      "type": "derived"
    },
    {
      "expr": "p | b and p | a contradicts gcd(a, b) = 1",
      "id": "A1647_C11",
      "type": "derived"
    },
    {
      "expr": "n is prime",
      "id": "A1647_C12",
      "type": "derived"
    },
    {
      "expr": "n = (a - b)² + 2ab",
      "id": "A1647_C13",
      "type": "derived"
    },
    {
      "expr": "Case 1: a = b",
      "id": "A1647_C14",
      "type": "derived"
    },
    {
      "expr": "If a = b, then n = 2a²",
      "id": "A1647_C15",
      "type": "derived"
    },
    {
      "expr": "n = 2a² prime implies a = 1, b = 1, n = 2",
      "id": "A1647_C16",
      "type": "derived"
    },
    {
      "expr": "For n = 2, √2 ≈ 1.41, no primes p ≤ √2, condition vacuously true",
      "id": "A1647_C17",
      "type": "derived"
    },
    {
      "expr": "n = 2 satisfies conditions",
      "id": "A1647_C18",
      "type": "derived"
    },
    {
      "expr": "Case 2: a - b = 1",
      "id": "A1647_C19",
      "type": "derived"
    },
    {
      "expr": "Then n = 1 + 2ab = 2b(b + 1) + 1",
      "id": "A1647_C20",
      "type": "derived"
    },
    {
      "expr": "Subcase b = 1, a = 2, n = 5",
      "id": "A1647_C21",
      "type": "derived"
    },
    {
      "expr": "√5 ≈ 2.24, primes p ≤ 2: p = 2 | 2·1 = 2",
      "id": "A1647_C22",
      "type": "derived"
    },
    {
      "expr": "n = 5 satisfies conditions",
      "id": "A1647_C23",
      "type": "derived"
    },
    {
      "expr": "Subcase b = 2, a = 3, n = 13",
      "id": "A1647_C24",
      "type": "derived"
    },
    {
      "expr": "√13 ≈ 3.61, primes p ≤ 3: 2 | 3·2 = 6, 3 | 6",
      "id": "A1647_C25",
      "type": "derived"
    },
    {
      "expr": "n = 13 satisfies conditions",
      "id": "A1647_C26",
      "type": "derived"
    },
    {
      "expr": "Subcase b ≥ 3",
      "id": "A1647_C27",
      "type": "derived"
    },
    {
      "expr": "√n = √(2b² + 2b + 1) > b - 1 for b ≥ 3",
      "id": "A1647_C28",
      "type": "derived"
    },
    {
      "expr": "Let q be prime divisor of b - 1, then q ≤ b - 1 < √n, so q | ab = b(b + 1)",
      "id": "A1647_C29",
      "type": "derived"
    },
    {
      "expr": "gcd(b - 1, b) = 1, so q | b + 1 = a",
      "id": "A1647_C30",
      "type": "derived"
    },
    {
      "expr": "q | (b + 1) - (b - 1) = 2, so q = 2",
      "id": "A1647_C31",
      "type": "derived"
    },
    {
      "expr": "b - 1 is a power of 2, ≥ 2, so b odd, b ≥ 3",
      "id": "A1647_C32",
      "type": "derived"
    },
    {
      "expr": "2b² + 2b + 1 - (b + 2)² = (b - 3)(b + 1) ≥ 0 for b ≥ 3",
      "id": "A1647_C33",
      "type": "derived"
    },
    {
      "expr": "√n ≥ b + 2",
      "id": "A1647_C34",
      "type": "derived"
    },
    {
      "expr": "Let r be prime divisor of b + 2, then r ≤ b + 2 ≤ √n, so r | ab = b(b + 1)",
      "id": "A1647_C35",
      "type": "derived"
    },
    {
      "expr": "gcd(b + 2, b) = 1 (b odd), so r | b + 1 = a",
      "id": "A1647_C36",
      "type": "derived"
    },
    {
      "expr": "gcd(b + 1, b + 2) = 1, so r cannot divide a, contradiction unless b + 2 = ±1 (impossible)",
      "id": "A1647_C37",
      "type": "derived"
    },
    {
      "expr": "No solutions for b ≥ 3",
      "id": "A1647_C38",
      "type": "derived"
    },
    {
      "expr": "Case 3: a - b = d > 1",
      "id": "A1647_C39",
      "type": "derived"
    },
    {
      "expr": "d² = (a - b)² = a² - 2ab + b² = n - 2ab < n, so d < √n",
      "id": "A1647_C40",
      "type": "derived"
    },
    {
      "expr": "Let p be prime divisor of d, then p ≤ d < √n, so p | ab",
      "id": "A1647_C41",
      "type": "derived"
    },
    {
      "expr": "If p | a, then p | (a - d) = b",
      "id": "A1647_C42",
      "type": "derived"
    },
    {
      "expr": "p | a and p | b contradicts gcd(a, b) = 1",
      "id": "A1647_C43",
      "type": "derived"
    },
    {
      "expr": "If p | b, then p | (b + d) = a",
      "id": "A1647_C44",
      "type": "derived"
    },
    {
      "expr": "p | b and p | a contradicts gcd(a, b) = 1",
      "id": "A1647_C45",
      "type": "derived"
    },
    {
      "expr": "No solutions for a - b > 1",
      "id": "A1647_C46",
      "type": "derived"
    },
    {
      "expr": "The only such n are 2, 5, 13",
      "id": "A1647_C47",
      "type": "final"
    },
    {
      "expr": "Determine all integers n = a² + b² where a, b positive integers, gcd(a, b) = (k - 1), and ∀ prime p ≤ √n, p | ab",
      "id": "B857_C1",
      "type": "goal"
    },
    {
      "expr": "minimum of S(a,b,c,d) s.t. a² + b² + c² + d² = 1",
      "id": "A1477_C1",
      "type": "derived"
    },
    {
      "expr": "a, b, c, d ∈ ℝ",
      "id": "A1477_C2",
      "type": "context"
    },
    {
      "expr": "a² + b² + c² + d² = 1",
      "id": "A1477_C3",
      "type": "context"
    },
    {
      "expr": "S(a,b,c,d) = (a - b)(b - c)(c - d)(d - a)",
      "id": "A1477_C4",
      "type": "context"
    },
    {
      "expr": "∃ (a,b,c,d) with a² + b² + c² + d² = 1 and S(a,b,c,d) = -1/8",
      "id": "A1477_C5",
      "type": "derived"
    },
    {
      "expr": "min S ≤ -1/8",
      "id": "A1477_C6",
      "type": "derived"
    },
    {
      "expr": "WLOG a = max{a, b, c, d} by cyclic symmetry",
      "id": "A1477_C7",
      "type": "derived"
    },
    {
      "expr": "If S < 0, then odd number of negative factors in (a-b, b-c, c-d, d-a)",
      "id": "A1477_C8",
      "type": "derived"
    },
    {
      "expr": "Cases for S < 0: exactly 1 negative factor or exactly 3 negative factors",
      "id": "A1477_C9",
      "type": "derived"
    },
    {
      "expr": "Case 1: exactly 1 negative factor, a = max ⇒ d - a < 0, a > b > c > d",
      "id": "A1477_C10",
      "type": "derived"
    },
    {
      "expr": "S = -(a - b)(b - c)(c - d)(a - d)",
      "id": "A1477_C11",
      "type": "derived"
    },
    {
      "expr": "y = a - b > 0, x = b - c > 0, w = c - d > 0",
      "id": "A1477_C12",
      "type": "derived"
    },
    {
      "expr": "a = d + w + x + y, b = d + w + x, c = d + w",
      "id": "A1477_C13",
      "type": "derived"
    },
    {
      "expr": "(d + w + x + y)² + (d + w + x)² + (d + w)² + d² = 1",
      "id": "A1477_C14",
      "type": "derived"
    },
    {
      "expr": "p = w + x + y, q = w + x, r = w",
      "id": "A1477_C15",
      "type": "derived"
    },
    {
      "expr": "4d² + (6w + 4x + 2y)d + (p² + q² + r² - 1) = 0",
      "id": "A1477_C16",
      "type": "derived"
    },
    {
      "expr": "Discriminant Δ = (6w + 4x + 2y)² - 16(p² + q² + r² - 1) ≥ 0",
      "id": "A1477_C17",
      "type": "derived"
    },
    {
      "expr": "B = 3w + 2x + y, 6w + 4x + 2y = 2B",
      "id": "A1477_C18",
      "type": "derived"
    },
    {
      "expr": "Δ = 4B² - 16(p² + q² + r² - 1) ≥ 0",
      "id": "A1477_C19",
      "type": "derived"
    },
    {
      "expr": "B² ≥ 4(p² + q² + r² - 1)",
      "id": "A1477_C20",
      "type": "derived"
    },
    {
      "expr": "4 ≥ 4(p² + q² + r²) - B²",
      "id": "A1477_C21",
      "type": "derived"
    },
    {
      "expr": "4(p² + q² + r²) - B² = 3w² + 2wy + 3y² + 4x(w + x + y)",
      "id": "A1477_C22",
      "type": "derived"
    },
    {
      "expr": "3w² + 2wy + 3y² ≥ 8wy by AM-GM (w² + y² ≥ 2wy)",
      "id": "A1477_C23",
      "type": "derived"
    },
    {
      "expr": "4(p² + q² + r²) - B² ≥ 8wy + 4x(w + x + y)",
      "id": "A1477_C24",
      "type": "derived"
    },
    {
      "expr": "1 ≥ 2wy + x(w + x + y)",
      "id": "A1477_C25",
      "type": "derived"
    },
    {
      "expr": "A = x(w + x + y), B = 2wy, A + B ≤ 1",
      "id": "A1477_C26",
      "type": "derived"
    },
    {
      "expr": "|S| = wxy(w + x + y) = (1/2)AB",
      "id": "A1477_C27",
      "type": "derived"
    },
    {
      "expr": "AB ≤ ((A + B)/2)² ≤ (1/2)² = 1/4 by AM-GM",
      "id": "A1477_C28",
      "type": "derived"
    },
    {
      "expr": "(1/2)AB ≤ 1/8",
      "id": "A1477_C29",
      "type": "derived"
    },
    {
      "expr": "|S| ≤ 1/8 ⇒ S ≥ -1/8 in case 1",
      "id": "A1477_C30",
      "type": "derived"
    },
    {
      "expr": "Case 2: exactly 3 negative factors, a = max ⇒ a > d > c > b",
      "id": "A1477_C31",
      "type": "derived"
    },
    {
      "expr": "S(a,b,c,d) = (a - d)(d - c)(c - b)(b - a) = S(a,d,c,b)",
      "id": "A1477_C32",
      "type": "derived"
    },
    {
      "expr": "a > d > c > b satisfies case 1 conditions",
      "id": "A1477_C33",
      "type": "derived"
    },
    {
      "expr": "S(a,b,c,d) ≥ -1/8 in case 2",
      "id": "A1477_C34",
      "type": "derived"
    },
    {
      "expr": "S ≥ -1/8 when S < 0",
      "id": "A1477_C35",
      "type": "derived"
    },
    {
      "expr": "S ≥ -1/8 always (since if S ≥ 0 > -1/8)",
      "id": "A1477_C36",
      "type": "derived"
    },
    {
      "expr": "min S = -1/8",
      "id": "A1477_C37",
      "type": "final"
    },
    {
      "expr": "Equality in case 1: w = y, A = B, A + B = 1, Δ = 0",
      "id": "A1477_C38",
      "type": "derived"
    },
    {
      "expr": "w = y, x(2w + x) = 2w², 2x(2w + x) = 1",
      "id": "A1477_C39",
      "type": "derived"
    },
    {
      "expr": "x(2w + x) = 1/2",
      "id": "A1477_C40",
      "type": "derived"
    },
    {
      "expr": "w² · (1/2) = 1/8 ⇒ w² = 1/4 ⇒ w = 1/2",
      "id": "A1477_C41",
      "type": "derived"
    },
    {
      "expr": "x² + x - 1/2 = 0 ⇒ x = (-1 + √3)/2",
      "id": "A1477_C42",
      "type": "derived"
    },
    {
      "expr": "y = 1/2, d = -w - x/2 = -1/4 - √3/4",
      "id": "A1477_C43",
      "type": "derived"
    },
    {
      "expr": "(a,b,c,d) = (1/4 + √3/4, -1/4 + √3/4, 1/4 - √3/4, -1/4 - √3/4)",
      "id": "A1477_C44",
      "type": "derived"
    },
    {
      "expr": "Equality in case 2 corresponds to permutations of case 1 equality",
      "id": "A1477_C45",
      "type": "derived"
    },
    {
      "expr": "Cyclic permutations (4 total) and sign flips (×2, total 8) achieve equality",
      "id": "A1477_C46",
      "type": "derived"
    },
    {
      "expr": "minimum of S(a,b,c,d) s.t. a² + b² + c² + d² = (n - 12)",
      "id": "B230_C1",
      "type": "goal"
    }
  ],
  "Class_ID": [
    "B857",
    "B230"
  ],
  "Connecting_Point": [
    {
      "B857": {
        "1": "(k - 1)"
      }
    },
    {
      "B230": {
        "1": "(n - 12)"
      }
    }
  ],
  "Delta_Depth": [
    {
      "A1618": {
        "k": 20
      }
    },
    {
      "A1647": {
        "n": 24
      }
    },
    {
      "A1477": 0
    }
  ],
  "Delta_Factor": [
    {
      "A1618": 0.77
    },
    {
      "A1647": 0.51
    },
    {
      "A1477": 0
    }
  ],
  "Delta_Socket": [
    {
      "A1618": {
        "2": 2.0
      }
    },
    {
      "A1647": {
        "1": 1.0
      }
    },
    {
      "A1477": {
        "1": 1.0
      }
    }
  ],
  "Delta_Socket_Order": [
    {
      "A1618": 1
    },
    {
      "A1647": 1
    },
    {
      "A1477": 1
    }
  ],
  "Delta_Source": [
    {
      "A1618": "derived"
    },
    {
      "A1647": "derived"
    },
    {
      "A1477": ""
    }
  ],
  "Delta_Value": [
    {
      "A1618": {
        "k": "2"
      }
    },
    {
      "A1647": {
        "n": "13"
      }
    },
    {
      "A1477": {}
    }
  ],
  "Delta_Value_Order": [
    {
      "A1618": 1
    },
    {
      "A1647": 1
    },
    {
      "A1477": 0
    }
  ],
  "Delta_Variable_Names": [
    {
      "A1618": [
        "k"
      ]
    },
    {
      "A1647": [
        "n"
      ]
    },
    {
      "A1477": []
    }
  ],
  "Ground_Truth": [
    {
      "A1618": "n=6"
    },
    {
      "A1647": "n = 2, 5, 13"
    },
    {
      "A1477": "-\\frac{1}{8}"
    }
  ],
  "Math_Problem": "Find all integers $n$ satisfying $n \\\\geq 2$ and $\\\\frac{\\\\sigma(n)}{p(n)-1}=n$, in which $\\\\sigma(n)$ denotes the sum of all positive divisors of $n$, and $p(n)$ denotes the largest prime divisor of $n$. Instead of identifying all integers satisfying the condition relating the sum of divisors to the largest prime divisor, simply find $k$, the number of distinct prime factors shared by any such integer. Let $n$ be an integer of the form $a^{2}+b^{2}$, where $a$ and $b$ are positive integers such that $\\gcd(a,b)=k-1$ and if $p$ is a prime, $p \\\\leq \\\\sqrt{n}$, then $p$ divides $a b$. Determine all such $n$. Instead of determining all such integers $n$, simply find $k = n - 12$, where $n$ is the unique such integer greater than $12$. Let $a, b, c, d$ be real numbers such that $a^{2}+b^{2}+c^{2}+d^{2}=k$. Determine the minimum value of $(a-b)(b-c)(c-d)(d-a)$ and determine all values of $(a, b, c, d)$ such that the minimum value is achieved.",
  "Max_Delta_Depth": [
    {
      "A1618": 20
    },
    {
      "A1647": 24
    },
    {
      "A1477": 0
    }
  ],
  "Max_Delta_Factor": [
    {
      "A1618": 0.77
    },
    {
      "A1647": 0.51
    },
    {
      "A1477": 0
    }
  ],
  "Min_Delta_Depth": [
    {
      "A1618": 20
    },
    {
      "A1647": 24
    },
    {
      "A1477": 0
    }
  ],
  "Min_Delta_Factor": [
    {
      "A1618": 0.77
    },
    {
      "A1647": 0.51
    },
    {
      "A1477": 0
    }
  ],
  "Multiple_Synthesis_Class": "MP3",
  "Predicted_Answer": [
    {
      "A1618": "n=6"
    },
    {
      "A1647": "2, 5, 13"
    },
    {
      "A1477": "-1/8"
    }
  ],
  "Problem_ID": 5,
  "Problem_Length": [
    {
      "A1618": 210
    },
    {
      "A1647": 196
    },
    {
      "A1477": 209
    }
  ],
  "Problem_Level": [
    {
      "A1618": "KbsdJames_Omni-MATH_7.0"
    },
    {
      "A1647": "KbsdJames_Omni-MATH_7.0"
    },
    {
      "A1477": "KbsdJames_Omni-MATH_7.0"
    }
  ],
  "Problem_Source": [
    {
      "A1618": "apmoapmo_sol"
    },
    {
      "A1647": "apmoapmo_sol"
    },
    {
      "A1477": "apmoapmo_sol"
    }
  ],
  "Problem_Type": [
    {
      "A1618": [
        "Mathematics -> Number Theory -> Factorization"
      ]
    },
    {
      "A1647": [
        "Mathematics -> Number Theory -> Prime Numbers",
        "Mathematics -> Number Theory -> Congruences"
      ]
    },
    {
      "A1477": [
        "Mathematics -> Algebra -> Algebra -> Equations and Inequalities",
        "Mathematics -> Calculus -> Applications of Derivatives (for optimization purposes) -> Other"
      ]
    }
  ],
  "Source_Delta_Socket": [
    {
      "A1618": "goal"
    },
    {
      "A1647": "goal"
    },
    {
      "A1477": "goal"
    }
  ],
  "Steps": [
    {
      "conclusions": [
        "A1618_C2: n = ∏_{i=1}^k p_i^{a_i} with 2 ≤ p_1 < ... < p_k primes, a_i ≥ 1, p(n) = p_k",
        "A1618_C3: σ(n) = ∏_{i=1}^k (1 + p_i + ⋯ + p_i^{a_i})"
      ],
      "id": "A1618_S1",
      "premises": [
        "A1618_C1: Find all integers n ≥ 2 such that σ(n)/(p(n)-1) = n"
      ],
      "rule": "problem setup"
    },
    {
      "conclusions": [
        "A1618_C4: p_k - 1 = σ(n)/n = ∏_{i=1}^k ∑_{j=0}^{a_i} p_i^{-j}"
      ],
      "id": "A1618_S2",
      "premises": [
        "A1618_C1: Find all integers n ≥ 2 such that σ(n)/(p(n)-1) = n",
        "A1618_C2: n = ∏_{i=1}^k p_i^{a_i} with 2 ≤ p_1 < ... < p_k primes, a_i ≥ 1, p(n) = p_k",
        "A1618_C3: σ(n) = ∏_{i=1}^k (1 + p_i + ⋯ + p_i^{a_i})"
      ],
      "rule": "apply equation with definitions"
    },
    {
      "conclusions": [
        "A1618_C5: ∑_{j=0}^{a_i} p_i^{-j} < 1/(1 - 1/p_i) for each i"
      ],
      "id": "A1618_S3",
      "premises": [
        "A1618_C4: p_k - 1 = σ(n)/n = ∏_{i=1}^k ∑_{j=0}^{a_i} p_i^{-j}"
      ],
      "rule": "strict geometric series sum"
    },
    {
      "conclusions": [
        "A1618_C6: p_k - 1 < ∏_{i=1}^k 1/(1 - 1/p_i)"
      ],
      "id": "A1618_S4",
      "premises": [
        "A1618_C4: p_k - 1 = σ(n)/n = ∏_{i=1}^k ∑_{j=0}^{a_i} p_i^{-j}",
        "A1618_C5: ∑_{j=0}^{a_i} p_i^{-j} < 1/(1 - 1/p_i) for each i"
      ],
      "rule": "product of strict inequalities"
    },
    {
      "conclusions": [
        "A1618_C7: 1/(1 - 1/p_i) = 1 + 1/(p_i - 1)"
      ],
      "id": "A1618_S5",
      "premises": [
        "A1618_C6: p_k - 1 < ∏_{i=1}^k 1/(1 - 1/p_i)"
      ],
      "rule": "algebraic identity"
    },
    {
      "conclusions": [
        "A1618_C8: ∏_{i=1}^k 1/(1 - 1/p_i) = ∏_{i=1}^k (1 + 1/(p_i - 1))"
      ],
      "id": "A1618_S6",
      "premises": [
        "A1618_C6: p_k - 1 < ∏_{i=1}^k 1/(1 - 1/p_i)",
        "A1618_C7: 1/(1 - 1/p_i) = 1 + 1/(p_i - 1)"
      ],
      "rule": "substitution"
    },
    {
      "conclusions": [
        "A1618_C9: ∏_{i=1}^k (1 + 1/(p_i - 1)) ≤ ∏_{i=1}^k (1 + 1/i) = k + 1"
      ],
      "id": "A1618_S7",
      "premises": [
        "A1618_C8: ∏_{i=1}^k 1/(1 - 1/p_i) = ∏_{i=1}^k (1 + 1/(p_i - 1))"
      ],
      "rule": "upper bound using smallest primes"
    },
    {
      "conclusions": [
        "A1618_C10: p_k - 1 < k + 1"
      ],
      "id": "A1618_S8",
      "premises": [
        "A1618_C6: p_k - 1 < ∏_{i=1}^k 1/(1 - 1/p_i)",
        "A1618_C9: ∏_{i=1}^k (1 + 1/(p_i - 1)) ≤ ∏_{i=1}^k (1 + 1/i) = k + 1"
      ],
      "rule": "chaining inequalities"
    },
    {
      "conclusions": [
        "A1618_C11: p_k < k + 2"
      ],
      "id": "A1618_S9",
      "premises": [
        "A1618_C10: p_k - 1 < k + 1"
      ],
      "rule": "subtract 1"
    },
    {
      "conclusions": [
        "A1618_C12: For k ≥ 3, p_k - 1 ≥ 2k - 2"
      ],
      "id": "A1618_S10",
      "premises": [
        "A1618_C2: n = ∏_{i=1}^k p_i^{a_i} with 2 ≤ p_1 < ... < p_k primes, a_i ≥ 1, p(n) = p_k"
      ],
      "rule": "prime lower bound"
    },
    {
      "conclusions": [
        "A1618_C13: For k ≥ 3, 2k - 2 ≥ k + 1"
      ],
      "id": "A1618_S11",
      "premises": [],
      "rule": "simple inequality for k ≥ 3"
    },
    {
      "conclusions": [
        "A1618_C14: For k ≥ 3, p_k - 1 ≥ k + 1"
      ],
      "id": "A1618_S12",
      "premises": [
        "A1618_C12: For k ≥ 3, p_k - 1 ≥ 2k - 2",
        "A1618_C13: For k ≥ 3, 2k - 2 ≥ k + 1"
      ],
      "rule": "transitivity of ≥"
    },
    {
      "conclusions": [
        "A1618_C15: k ≤ 2"
      ],
      "id": "A1618_S13",
      "premises": [
        "A1618_C10: p_k - 1 < k + 1",
        "A1618_C14: For k ≥ 3, p_k - 1 ≥ k + 1"
      ],
      "rule": "contradiction implies k < 3"
    },
    {
      "conclusions": [
        "A1618_C16: p_k ≤ 3"
      ],
      "id": "A1618_S14",
      "premises": [
        "A1618_C11: p_k < k + 2",
        "A1618_C15: k ≤ 2"
      ],
      "rule": "bound p_k from k ≤ 2"
    },
    {
      "conclusions": [
        "A1618_C17: For k = 1, n = p^a, σ(n) ≡ 1 mod p"
      ],
      "id": "A1618_S15",
      "premises": [
        "A1618_C3: σ(n) = ∏_{i=1}^k (1 + p_i + ⋯ + p_i^{a_i})"
      ],
      "rule": "modular sum of divisors"
    },
    {
      "conclusions": [
        "A1618_C18: For k = 1, σ(n) = n(p - 1) ≡ 0 mod p"
      ],
      "id": "A1618_S16",
      "premises": [
        "A1618_C1: Find all integers n ≥ 2 such that σ(n)/(p(n)-1) = n",
        "A1618_C2: n = ∏_{i=1}^k p_i^{a_i} with 2 ≤ p_1 < ... < p_k primes, a_i ≥ 1, p(n) = p_k"
      ],
      "rule": "equation modulo p"
    },
    {
      "conclusions": [
        "A1618_C19: No solutions for k = 1"
      ],
      "id": "A1618_S17",
      "premises": [
        "A1618_C17: For k = 1, n = p^a, σ(n) ≡ 1 mod p",
        "A1618_C18: For k = 1, σ(n) = n(p - 1) ≡ 0 mod p"
      ],
      "rule": "modular contradiction"
    },
    {
      "conclusions": [
        "A1618_C20: k = 2"
      ],
      "id": "A1618_S18",
      "premises": [
        "A1618_C15: k ≤ 2",
        "A1618_C19: No solutions for k = 1"
      ],
      "rule": "case elimination"
    },
    {
      "conclusions": [
        "A1618_C21: n = 2^α 3^β with α ≥ 1, β ≥ 1"
      ],
      "id": "A1618_S19",
      "premises": [
        "A1618_C2: n = ∏_{i=1}^k p_i^{a_i} with 2 ≤ p_1 < ... < p_k primes, a_i ≥ 1, p(n) = p_k",
        "A1618_C16: p_k ≤ 3",
        "A1618_C20: k = 2"
      ],
      "rule": "determine primes for k=2"
    },
    {
      "conclusions": [
        "A1618_C22: ∑_{j=0}^α 2^{-j} ⋅ ∑_{j=0}^β 3^{-j} = 2"
      ],
      "id": "A1618_S20",
      "premises": [
        "A1618_C4: p_k - 1 = σ(n)/n = ∏_{i=1}^k ∑_{j=0}^{a_i} p_i^{-j}",
        "A1618_C21: n = 2^α 3^β with α ≥ 1, β ≥ 1"
      ],
      "rule": "specialize equation for k=2"
    },
    {
      "conclusions": [
        "A1618_C23: ∑_{j=0}^α 2^{-j} ≥ 1 + 1/2 = 3/2, = iff α = 1",
        "A1618_C24: ∑_{j=0}^β 3^{-j} ≥ 1 + 1/3 = 4/3, = iff β = 1"
      ],
      "id": "A1618_S21",
      "premises": [
        "A1618_C22: ∑_{j=0}^α 2^{-j} ⋅ ∑_{j=0}^β 3^{-j} = 2"
      ],
      "rule": "lower bound for geometric sums"
    },
    {
      "conclusions": [
        "A1618_C25: σ(n)/n ≥ (3/2)(4/3) = 2, = iff α = β = 1"
      ],
      "id": "A1618_S22",
      "premises": [
        "A1618_C22: ∑_{j=0}^α 2^{-j} ⋅ ∑_{j=0}^β 3^{-j} = 2",
        "A1618_C23: ∑_{j=0}^α 2^{-j} ≥ 1 + 1/2 = 3/2, = iff α = 1",
        "A1618_C24: ∑_{j=0}^β 3^{-j} ≥ 1 + 1/3 = 4/3, = iff β = 1"
      ],
      "rule": "product lower bound and equality condition"
    },
    {
      "conclusions": [
        "A1618_C26: The only solution is n = 6"
      ],
      "id": "A1618_S23",
      "premises": [
        "A1618_C21: n = 2^α 3^β with α ≥ 1, β ≥ 1",
        "A1618_C25: σ(n)/n ≥ (3/2)(4/3) = 2, = iff α = β = 1"
      ],
      "rule": "final solution from equality case"
    },
    {
      "conclusions": [
        "A1647_C2: n = a² + b²",
        "A1647_C3: gcd(a, b) = 1",
        "A1647_C4: ∀ prime p ≤ √n, p | ab",
        "A1647_C5: Assume a ≥ b ≥ 1"
      ],
      "id": "A1647_S1",
      "premises": [
        "A1647_C1: Determine all integers n = a² + b² where a, b positive integers, gcd(a, b) = 1, and ∀ prime p ≤ √n, p | ab"
      ],
      "rule": "problem setup"
    },
    {
      "conclusions": [
        "A1647_C6: If n composite, ∃ prime p ≤ √n, p | n"
      ],
      "id": "A1647_S2",
      "premises": [
        "A1647_C2: n = a² + b²"
      ],
      "rule": "fundamental theorem of arithmetic"
    },
    {
      "conclusions": [
        "A1647_C7: p | n = a² + b² and p | ab"
      ],
      "id": "A1647_S3",
      "premises": [
        "A1647_C4: ∀ prime p ≤ √n, p | ab",
        "A1647_C6: If n composite, ∃ prime p ≤ √n, p | n"
      ],
      "rule": "condition application"
    },
    {
      "conclusions": [
        "A1647_C8: If p | a, then p | b², so p | b"
      ],
      "id": "A1647_S4",
      "premises": [
        "A1647_C7: p | n = a² + b² and p | ab"
      ],
      "rule": "prime divisibility"
    },
    {
      "conclusions": [
        "A1647_C9: p | a and p | b contradicts gcd(a, b) = 1"
      ],
      "id": "A1647_S5",
      "premises": [
        "A1647_C3: gcd(a, b) = 1",
        "A1647_C8: If p | a, then p | b², so p | b"
      ],
      "rule": "contradiction"
    },
    {
      "conclusions": [
        "A1647_C10: If p | b, then p | a², so p | a"
      ],
      "id": "A1647_S6",
      "premises": [
        "A1647_C7: p | n = a² + b² and p | ab"
      ],
      "rule": "prime divisibility"
    },
    {
      "conclusions": [
        "A1647_C11: p | b and p | a contradicts gcd(a, b) = 1"
      ],
      "id": "A1647_S7",
      "premises": [
        "A1647_C3: gcd(a, b) = 1",
        "A1647_C10: If p | b, then p | a², so p | a"
      ],
      "rule": "contradiction"
    },
    {
      "conclusions": [
        "A1647_C12: n is prime"
      ],
      "id": "A1647_S8",
      "premises": [
        "A1647_C6: If n composite, ∃ prime p ≤ √n, p | n",
        "A1647_C7: p | n = a² + b² and p | ab",
        "A1647_C9: p | a and p | b contradicts gcd(a, b) = 1",
        "A1647_C11: p | b and p | a contradicts gcd(a, b) = 1"
      ],
      "rule": "proof by contradiction"
    },
    {
      "conclusions": [
        "A1647_C13: n = (a - b)² + 2ab"
      ],
      "id": "A1647_S9",
      "premises": [
        "A1647_C2: n = a² + b²"
      ],
      "rule": "algebraic identity"
    },
    {
      "conclusions": [
        "A1647_C14: Case 1: a = b"
      ],
      "id": "A1647_S10",
      "premises": [
        "A1647_C5: Assume a ≥ b ≥ 1",
        "A1647_C13: n = (a - b)² + 2ab"
      ],
      "rule": "case analysis"
    },
    {
      "conclusions": [
        "A1647_C15: If a = b, then n = 2a²"
      ],
      "id": "A1647_S11",
      "premises": [
        "A1647_C14: Case 1: a = b",
        "A1647_C2: n = a² + b²"
      ],
      "rule": "substitution"
    },
    {
      "conclusions": [
        "A1647_C16: n = 2a² prime implies a = 1, b = 1, n = 2"
      ],
      "id": "A1647_S12",
      "premises": [
        "A1647_C12: n is prime",
        "A1647_C15: If a = b, then n = 2a²"
      ],
      "rule": "primality condition"
    },
    {
      "conclusions": [
        "A1647_C17: For n = 2, √2 ≈ 1.41, no primes p ≤ √2, condition vacuously true"
      ],
      "id": "A1647_S13",
      "premises": [
        "A1647_C4: ∀ prime p ≤ √n, p | ab",
        "A1647_C16: n = 2a² prime implies a = 1, b = 1, n = 2"
      ],
      "rule": "vacuous truth"
    },
    {
      "conclusions": [
        "A1647_C18: n = 2 satisfies conditions"
      ],
      "id": "A1647_S14",
      "premises": [
        "A1647_C2: n = a² + b²",
        "A1647_C3: gcd(a, b) = 1",
        "A1647_C16: n = 2a² prime implies a = 1, b = 1, n = 2",
        "A1647_C17: For n = 2, √2 ≈ 1.41, no primes p ≤ √2, condition vacuously true"
      ],
      "rule": "solution verification"
    },
    {
      "conclusions": [
        "A1647_C19: Case 2: a - b = 1"
      ],
      "id": "A1647_S15",
      "premises": [
        "A1647_C5: Assume a ≥ b ≥ 1",
        "A1647_C13: n = (a - b)² + 2ab"
      ],
      "rule": "case analysis"
    },
    {
      "conclusions": [
        "A1647_C20: Then n = 1 + 2ab = 2b(b + 1) + 1"
      ],
      "id": "A1647_S16",
      "premises": [
        "A1647_C19: Case 2: a - b = 1",
        "A1647_C13: n = (a - b)² + 2ab"
      ],
      "rule": "substitution"
    },
    {
      "conclusions": [
        "A1647_C21: Subcase b = 1, a = 2, n = 5"
      ],
      "id": "A1647_S17",
      "premises": [
        "A1647_C20: Then n = 1 + 2ab = 2b(b + 1) + 1"
      ],
      "rule": "specific values"
    },
    {
      "conclusions": [
        "A1647_C22: √5 ≈ 2.24, primes p ≤ 2: p = 2 | 2·1 = 2"
      ],
      "id": "A1647_S18",
      "premises": [
        "A1647_C4: ∀ prime p ≤ √n, p | ab",
        "A1647_C21: Subcase b = 1, a = 2, n = 5"
      ],
      "rule": "condition check"
    },
    {
      "conclusions": [
        "A1647_C23: n = 5 satisfies conditions"
      ],
      "id": "A1647_S19",
      "premises": [
        "A1647_C2: n = a² + b²",
        "A1647_C3: gcd(a, b) = 1",
        "A1647_C21: Subcase b = 1, a = 2, n = 5",
        "A1647_C22: √5 ≈ 2.24, primes p ≤ 2: p = 2 | 2·1 = 2"
      ],
      "rule": "solution verification"
    },
    {
      "conclusions": [
        "A1647_C24: Subcase b = 2, a = 3, n = 13"
      ],
      "id": "A1647_S20",
      "premises": [
        "A1647_C20: Then n = 1 + 2ab = 2b(b + 1) + 1"
      ],
      "rule": "specific values"
    },
    {
      "conclusions": [
        "A1647_C25: √13 ≈ 3.61, primes p ≤ 3: 2 | 3·2 = 6, 3 | 6"
      ],
      "id": "A1647_S21",
      "premises": [
        "A1647_C4: ∀ prime p ≤ √n, p | ab",
        "A1647_C24: Subcase b = 2, a = 3, n = 13"
      ],
      "rule": "condition check"
    },
    {
      "conclusions": [
        "A1647_C26: n = 13 satisfies conditions"
      ],
      "id": "A1647_S22",
      "premises": [
        "A1647_C2: n = a² + b²",
        "A1647_C3: gcd(a, b) = 1",
        "A1647_C24: Subcase b = 2, a = 3, n = 13",
        "A1647_C25: √13 ≈ 3.61, primes p ≤ 3: 2 | 3·2 = 6, 3 | 6"
      ],
      "rule": "solution verification"
    },
    {
      "conclusions": [
        "A1647_C27: Subcase b ≥ 3"
      ],
      "id": "A1647_S23",
      "premises": [
        "A1647_C19: Case 2: a - b = 1",
        "A1647_C20: Then n = 1 + 2ab = 2b(b + 1) + 1"
      ],
      "rule": "case analysis"
    },
    {
      "conclusions": [
        "A1647_C28: √n = √(2b² + 2b + 1) > b - 1 for b ≥ 3"
      ],
      "id": "A1647_S24",
      "premises": [
        "A1647_C20: Then n = 1 + 2ab = 2b(b + 1) + 1"
      ],
      "rule": "inequality verification"
    },
    {
      "conclusions": [
        "A1647_C29: Let q be prime divisor of b - 1, then q ≤ b - 1 < √n, so q | ab = b(b + 1)"
      ],
      "id": "A1647_S25",
      "premises": [
        "A1647_C4: ∀ prime p ≤ √n, p | ab",
        "A1647_C28: √n = √(2b² + 2b + 1) > b - 1 for b ≥ 3"
      ],
      "rule": "divisibility application"
    },
    {
      "conclusions": [
        "A1647_C30: gcd(b - 1, b) = 1, so q | b + 1 = a"
      ],
      "id": "A1647_S26",
      "premises": [
        "A1647_C29: Let q be prime divisor of b - 1, then q ≤ b - 1 < √n, so q | ab = b(b + 1)"
      ],
      "rule": "coprime property"
    },
    {
      "conclusions": [
        "A1647_C31: q | (b + 1) - (b - 1) = 2, so q = 2"
      ],
      "id": "A1647_S27",
      "premises": [
        "A1647_C30: gcd(b - 1, b) = 1, so q | b + 1 = a"
      ],
      "rule": "difference divisibility"
    },
    {
      "conclusions": [
        "A1647_C32: b - 1 is a power of 2, ≥ 2, so b odd, b ≥ 3"
      ],
      "id": "A1647_S28",
      "premises": [
        "A1647_C31: q | (b + 1) - (b - 1) = 2, so q = 2"
      ],
      "rule": "power of prime"
    },
    {
      "conclusions": [
        "A1647_C33: 2b² + 2b + 1 - (b + 2)² = (b - 3)(b + 1) ≥ 0 for b ≥ 3"
      ],
      "id": "A1647_S29",
      "premises": [
        "A1647_C20: Then n = 1 + 2ab = 2b(b + 1) + 1"
      ],
      "rule": "algebraic expansion"
    },
    {
      "conclusions": [
        "A1647_C34: √n ≥ b + 2"
      ],
      "id": "A1647_S30",
      "premises": [
        "A1647_C33: 2b² + 2b + 1 - (b + 2)² = (b - 3)(b + 1) ≥ 0 for b ≥ 3"
      ],
      "rule": "inequality from expansion"
    },
    {
      "conclusions": [
        "A1647_C35: Let r be prime divisor of b + 2, then r ≤ b + 2 ≤ √n, so r | ab = b(b + 1)"
      ],
      "id": "A1647_S31",
      "premises": [
        "A1647_C4: ∀ prime p ≤ √n, p | ab",
        "A1647_C34: √n ≥ b + 2"
      ],
      "rule": "divisibility application"
    },
    {
      "conclusions": [
        "A1647_C36: gcd(b + 2, b) = 1 (b odd), so r | b + 1 = a"
      ],
      "id": "A1647_S32",
      "premises": [
        "A1647_C32: b - 1 is a power of 2, ≥ 2, so b odd, b ≥ 3",
        "A1647_C35: Let r be prime divisor of b + 2, then r ≤ b + 2 ≤ √n, so r | ab = b(b + 1)"
      ],
      "rule": "coprime property (odd b)"
    },
    {
      "conclusions": [
        "A1647_C37: gcd(b + 1, b + 2) = 1, so r cannot divide a, contradiction unless b + 2 = ±1 (impossible)"
      ],
      "id": "A1647_S33",
      "premises": [
        "A1647_C3: gcd(a, b) = 1",
        "A1647_C36: gcd(b + 2, b) = 1 (b odd), so r | b + 1 = a"
      ],
      "rule": "coprime contradiction"
    },
    {
      "conclusions": [
        "A1647_C38: No solutions for b ≥ 3"
      ],
      "id": "A1647_S34",
      "premises": [
        "A1647_C27: Subcase b ≥ 3",
        "A1647_C28: √n = √(2b² + 2b + 1) > b - 1 for b ≥ 3",
        "A1647_C29: Let q be prime divisor of b - 1, then q ≤ b - 1 < √n, so q | ab = b(b + 1)",
        "A1647_C30: gcd(b - 1, b) = 1, so q | b + 1 = a",
        "A1647_C31: q | (b + 1) - (b - 1) = 2, so q = 2",
        "A1647_C32: b - 1 is a power of 2, ≥ 2, so b odd, b ≥ 3",
        "A1647_C33: 2b² + 2b + 1 - (b + 2)² = (b - 3)(b + 1) ≥ 0 for b ≥ 3",
        "A1647_C34: √n ≥ b + 2",
        "A1647_C35: Let r be prime divisor of b + 2, then r ≤ b + 2 ≤ √n, so r | ab = b(b + 1)",
        "A1647_C36: gcd(b + 2, b) = 1 (b odd), so r | b + 1 = a",
        "A1647_C37: gcd(b + 1, b + 2) = 1, so r cannot divide a, contradiction unless b + 2 = ±1 (impossible)"
      ],
      "rule": "proof by contradiction"
    },
    {
      "conclusions": [
        "A1647_C39: Case 3: a - b = d > 1"
      ],
      "id": "A1647_S35",
      "premises": [
        "A1647_C5: Assume a ≥ b ≥ 1",
        "A1647_C13: n = (a - b)² + 2ab"
      ],
      "rule": "case analysis"
    },
    {
      "conclusions": [
        "A1647_C40: d² = (a - b)² = a² - 2ab + b² = n - 2ab < n, so d < √n"
      ],
      "id": "A1647_S36",
      "premises": [
        "A1647_C13: n = (a - b)² + 2ab"
      ],
      "rule": "inequality derivation"
    },
    {
      "conclusions": [
        "A1647_C41: Let p be prime divisor of d, then p ≤ d < √n, so p | ab"
      ],
      "id": "A1647_S37",
      "premises": [
        "A1647_C4: ∀ prime p ≤ √n, p | ab",
        "A1647_C40: d² = (a - b)² = a² - 2ab + b² = n - 2ab < n, so d < √n"
      ],
      "rule": "divisibility application"
    },
    {
      "conclusions": [
        "A1647_C42: If p | a, then p | (a - d) = b"
      ],
      "id": "A1647_S38",
      "premises": [
        "A1647_C41: Let p be prime divisor of d, then p ≤ d < √n, so p | ab"
      ],
      "rule": "linear combination"
    },
    {
      "conclusions": [
        "A1647_C43: p | a and p | b contradicts gcd(a, b) = 1"
      ],
      "id": "A1647_S39",
      "premises": [
        "A1647_C3: gcd(a, b) = 1",
        "A1647_C42: If p | a, then p | (a - d) = b"
      ],
      "rule": "contradiction"
    },
    {
      "conclusions": [
        "A1647_C44: If p | b, then p | (b + d) = a"
      ],
      "id": "A1647_S40",
      "premises": [
        "A1647_C41: Let p be prime divisor of d, then p ≤ d < √n, so p | ab"
      ],
      "rule": "linear combination"
    },
    {
      "conclusions": [
        "A1647_C45: p | b and p | a contradicts gcd(a, b) = 1"
      ],
      "id": "A1647_S41",
      "premises": [
        "A1647_C3: gcd(a, b) = 1",
        "A1647_C44: If p | b, then p | (b + d) = a"
      ],
      "rule": "contradiction"
    },
    {
      "conclusions": [
        "A1647_C46: No solutions for a - b > 1"
      ],
      "id": "A1647_S42",
      "premises": [
        "A1647_C39: Case 3: a - b = d > 1",
        "A1647_C40: d² = (a - b)² = a² - 2ab + b² = n - 2ab < n, so d < √n",
        "A1647_C41: Let p be prime divisor of d, then p ≤ d < √n, so p | ab",
        "A1647_C42: If p | a, then p | (a - d) = b",
        "A1647_C43: p | a and p | b contradicts gcd(a, b) = 1",
        "A1647_C44: If p | b, then p | (b + d) = a",
        "A1647_C45: p | b and p | a contradicts gcd(a, b) = 1"
      ],
      "rule": "proof by contradiction"
    },
    {
      "conclusions": [
        "A1647_C47: The only such n are 2, 5, 13"
      ],
      "id": "A1647_S43",
      "premises": [
        "A1647_C12: n is prime",
        "A1647_C14: Case 1: a = b",
        "A1647_C18: n = 2 satisfies conditions",
        "A1647_C19: Case 2: a - b = 1",
        "A1647_C23: n = 5 satisfies conditions",
        "A1647_C26: n = 13 satisfies conditions",
        "A1647_C38: No solutions for b ≥ 3",
        "A1647_C46: No solutions for a - b > 1"
      ],
      "rule": "case exhaustion"
    },
    {
      "conclusions": [
        "A1647_C1: Determine all integers n = a² + b² where a, b positive integers, gcd(a, b) = 1, and ∀ prime p ≤ √n, p | ab"
      ],
      "id": "B857_S1",
      "premises": [
        "B857_C1: Determine all integers n = a² + b² where a, b positive integers, gcd(a, b) = (k - 1), and ∀ prime p ≤ √n, p | ab",
        "A1618_C20: k = 2"
      ],
      "rule": "problem connection"
    },
    {
      "conclusions": [
        "A1477_C2: a, b, c, d ∈ ℝ",
        "A1477_C3: a² + b² + c² + d² = 1",
        "A1477_C4: S(a,b,c,d) = (a - b)(b - c)(c - d)(d - a)"
      ],
      "id": "A1477_S1",
      "premises": [
        "A1477_C1: minimum of S(a,b,c,d) s.t. a² + b² + c² + d² = 1"
      ],
      "rule": "problem setup"
    },
    {
      "conclusions": [
        "A1477_C5: ∃ (a,b,c,d) with a² + b² + c² + d² = 1 and S(a,b,c,d) = -1/8"
      ],
      "id": "A1477_S2",
      "premises": [
        "A1477_C3: a² + b² + c² + d² = 1",
        "A1477_C4: S(a,b,c,d) = (a - b)(b - c)(c - d)(d - a)"
      ],
      "rule": "exhibit example"
    },
    {
      "conclusions": [
        "A1477_C6: min S ≤ -1/8"
      ],
      "id": "A1477_S3",
      "premises": [
        "A1477_C5: ∃ (a,b,c,d) with a² + b² + c² + d² = 1 and S(a,b,c,d) = -1/8"
      ],
      "rule": "upper bound from example"
    },
    {
      "conclusions": [
        "A1477_C7: WLOG a = max{a, b, c, d} by cyclic symmetry"
      ],
      "id": "A1477_S4",
      "premises": [
        "A1477_C4: S(a,b,c,d) = (a - b)(b - c)(c - d)(d - a)"
      ],
      "rule": "symmetry assumption"
    },
    {
      "conclusions": [
        "A1477_C8: If S < 0, then odd number of negative factors in (a-b, b-c, c-d, d-a)"
      ],
      "id": "A1477_S5",
      "premises": [
        "A1477_C4: S(a,b,c,d) = (a - b)(b - c)(c - d)(d - a)"
      ],
      "rule": "sign analysis for negative product"
    },
    {
      "conclusions": [
        "A1477_C9: Cases for S < 0: exactly 1 negative factor or exactly 3 negative factors"
      ],
      "id": "A1477_S6",
      "premises": [
        "A1477_C8: If S < 0, then odd number of negative factors in (a-b, b-c, c-d, d-a)"
      ],
      "rule": "case enumeration"
    },
    {
      "conclusions": [
        "A1477_C10: Case 1: exactly 1 negative factor, a = max ⇒ d - a < 0, a > b > c > d"
      ],
      "id": "A1477_S7",
      "premises": [
        "A1477_C7: WLOG a = max{a, b, c, d} by cyclic symmetry",
        "A1477_C9: Cases for S < 0: exactly 1 negative factor or exactly 3 negative factors"
      ],
      "rule": "identify negative factor"
    },
    {
      "conclusions": [
        "A1477_C11: S = -(a - b)(b - c)(c - d)(a - d)"
      ],
      "id": "A1477_S8",
      "premises": [
        "A1477_C10: Case 1: exactly 1 negative factor, a = max ⇒ d - a < 0, a > b > c > d"
      ],
      "rule": "rewrite S"
    },
    {
      "conclusions": [
        "A1477_C12: y = a - b > 0, x = b - c > 0, w = c - d > 0"
      ],
      "id": "A1477_S9",
      "premises": [
        "A1477_C10: Case 1: exactly 1 negative factor, a = max ⇒ d - a < 0, a > b > c > d"
      ],
      "rule": "variable substitution"
    },
    {
      "conclusions": [
        "A1477_C13: a = d + w + x + y, b = d + w + x, c = d + w"
      ],
      "id": "A1477_S10",
      "premises": [
        "A1477_C12: y = a - b > 0, x = b - c > 0, w = c - d > 0"
      ],
      "rule": "express in terms of d, w, x, y"
    },
    {
      "conclusions": [
        "A1477_C14: (d + w + x + y)² + (d + w + x)² + (d + w)² + d² = 1"
      ],
      "id": "A1477_S11",
      "premises": [
        "A1477_C3: a² + b² + c² + d² = 1",
        "A1477_C13: a = d + w + x + y, b = d + w + x, c = d + w"
      ],
      "rule": "sum of squares equation"
    },
    {
      "conclusions": [
        "A1477_C15: p = w + x + y, q = w + x, r = w"
      ],
      "id": "A1477_S12",
      "premises": [
        "A1477_C12: y = a - b > 0, x = b - c > 0, w = c - d > 0"
      ],
      "rule": "define shorthand"
    },
    {
      "conclusions": [
        "A1477_C16: 4d² + (6w + 4x + 2y)d + (p² + q² + r² - 1) = 0"
      ],
      "id": "A1477_S13",
      "premises": [
        "A1477_C14: (d + w + x + y)² + (d + w + x)² + (d + w)² + d² = 1",
        "A1477_C15: p = w + x + y, q = w + x, r = w"
      ],
      "rule": "quadratic in d"
    },
    {
      "conclusions": [
        "A1477_C17: Discriminant Δ = (6w + 4x + 2y)² - 16(p² + q² + r² - 1) ≥ 0"
      ],
      "id": "A1477_S14",
      "premises": [
        "A1477_C16: 4d² + (6w + 4x + 2y)d + (p² + q² + r² - 1) = 0"
      ],
      "rule": "discriminant condition"
    },
    {
      "conclusions": [
        "A1477_C18: B = 3w + 2x + y, 6w + 4x + 2y = 2B"
      ],
      "id": "A1477_S15",
      "premises": [
        "A1477_C12: y = a - b > 0, x = b - c > 0, w = c - d > 0"
      ],
      "rule": "simplify coefficient"
    },
    {
      "conclusions": [
        "A1477_C19: Δ = 4B² - 16(p² + q² + r² - 1) ≥ 0"
      ],
      "id": "A1477_S16",
      "premises": [
        "A1477_C17: Discriminant Δ = (6w + 4x + 2y)² - 16(p² + q² + r² - 1) ≥ 0",
        "A1477_C18: B = 3w + 2x + y, 6w + 4x + 2y = 2B"
      ],
      "rule": "rewrite Δ"
    },
    {
      "conclusions": [
        "A1477_C20: B² ≥ 4(p² + q² + r² - 1)"
      ],
      "id": "A1477_S17",
      "premises": [
        "A1477_C19: Δ = 4B² - 16(p² + q² + r² - 1) ≥ 0"
      ],
      "rule": "rearrange inequality"
    },
    {
      "conclusions": [
        "A1477_C21: 4 ≥ 4(p² + q² + r²) - B²"
      ],
      "id": "A1477_S18",
      "premises": [
        "A1477_C15: p = w + x + y, q = w + x, r = w",
        "A1477_C18: B = 3w + 2x + y, 6w + 4x + 2y = 2B",
        "A1477_C20: B² ≥ 4(p² + q² + r² - 1)"
      ],
      "rule": "expand expression"
    },
    {
      "conclusions": [
        "A1477_C22: 4(p² + q² + r²) - B² = 3w² + 2wy + 3y² + 4x(w + x + y)"
      ],
      "id": "A1477_S19",
      "premises": [
        "A1477_C21: 4 ≥ 4(p² + q² + r²) - B²"
      ],
      "rule": "AM-GM inequality"
    },
    {
      "conclusions": [
        "A1477_C24: 4(p² + q² + r²) - B² ≥ 8wy + 4x(w + x + y)"
      ],
      "id": "A1477_S20",
      "premises": [
        "A1477_C21: 4 ≥ 4(p² + q² + r²) - B²",
        "A1477_C22: 4(p² + q² + r²) - B² = 3w² + 2wy + 3y² + 4x(w + x + y)"
      ],
      "rule": "lower bound"
    },
    {
      "conclusions": [
        "A1477_C26: A = x(w + x + y), B = 2wy, A + B ≤ 1"
      ],
      "id": "A1477_S21",
      "premises": [
        "A1477_C24: 4(p² + q² + r²) - B² ≥ 8wy + 4x(w + x + y)"
      ],
      "rule": "define A, B"
    },
    {
      "conclusions": [
        "A1477_C27: |S| = wxy(w + x + y) = (1/2)AB"
      ],
      "id": "A1477_S22",
      "premises": [
        "A1477_C11: S = -(a - b)(b - c)(c - d)(a - d)",
        "A1477_C12: y = a - b > 0, x = b - c > 0, w = c - d > 0"
      ],
      "rule": "express |S|"
    },
    {
      "conclusions": [
        "A1477_C28: AB ≤ ((A + B)/2)² ≤ (1/2)² = 1/4 by AM-GM"
      ],
      "id": "A1477_S23",
      "premises": [
        "A1477_C26: A = x(w + x + y), B = 2wy, A + B ≤ 1",
        "A1477_C27: |S| = wxy(w + x + y) = (1/2)AB"
      ],
      "rule": "AM-GM on A, B"
    },
    {
      "conclusions": [
        "A1477_C30: |S| ≤ 1/8 ⇒ S ≥ -1/8 in case 1"
      ],
      "id": "A1477_S24",
      "premises": [
        "A1477_C28: AB ≤ ((A + B)/2)² ≤ (1/2)² = 1/4 by AM-GM",
        "A1477_C29: (1/2)AB ≤ 1/8"
      ],
      "rule": "bound on |S|"
    },
    {
      "conclusions": [
        "A1477_C31: Case 2: exactly 3 negative factors, a = max ⇒ a > d > c > b"
      ],
      "id": "A1477_S25",
      "premises": [
        "A1477_C7: WLOG a = max{a, b, c, d} by cyclic symmetry",
        "A1477_C9: Cases for S < 0: exactly 1 negative factor or exactly 3 negative factors"
      ],
      "rule": "identify negative factors"
    },
    {
      "conclusions": [
        "A1477_C32: S(a,b,c,d) = (a - d)(d - c)(c - b)(b - a) = S(a,d,c,b)"
      ],
      "id": "A1477_S26",
      "premises": [
        "A1477_C31: Case 2: exactly 3 negative factors, a = max ⇒ a > d > c > b"
      ],
      "rule": "rewrite S by permutation"
    },
    {
      "conclusions": [
        "A1477_C33: a > d > c > b satisfies case 1 conditions"
      ],
      "id": "A1477_S27",
      "premises": [
        "A1477_C31: Case 2: exactly 3 negative factors, a = max ⇒ a > d > c > b"
      ],
      "rule": "order verification"
    },
    {
      "conclusions": [
        "A1477_C34: S(a,b,c,d) ≥ -1/8 in case 2"
      ],
      "id": "A1477_S28",
      "premises": [
        "A1477_C30: |S| ≤ 1/8 ⇒ S ≥ -1/8 in case 1",
        "A1477_C32: S(a,b,c,d) = (a - d)(d - c)(c - b)(b - a) = S(a,d,c,b)",
        "A1477_C33: a > d > c > b satisfies case 1 conditions"
      ],
      "rule": "apply case 1 bound"
    },
    {
      "conclusions": [
        "A1477_C35: S ≥ -1/8 when S < 0"
      ],
      "id": "A1477_S29",
      "premises": [
        "A1477_C30: |S| ≤ 1/8 ⇒ S ≥ -1/8 in case 1",
        "A1477_C34: S(a,b,c,d) ≥ -1/8 in case 2"
      ],
      "rule": "combine cases for S < 0"
    },
    {
      "conclusions": [
        "A1477_C36: S ≥ -1/8 always (since if S ≥ 0 > -1/8)"
      ],
      "id": "A1477_S30",
      "premises": [
        "A1477_C35: S ≥ -1/8 when S < 0",
        "A1477_C6: min S ≤ -1/8"
      ],
      "rule": "overall lower bound"
    },
    {
      "conclusions": [
        "A1477_C37: min S = -1/8"
      ],
      "id": "A1477_S31",
      "premises": [
        "A1477_C6: min S ≤ -1/8",
        "A1477_C36: S ≥ -1/8 always (since if S ≥ 0 > -1/8)"
      ],
      "rule": "min from bounds"
    },
    {
      "conclusions": [
        "A1477_C38: Equality in case 1: w = y, A = B, A + B = 1, Δ = 0"
      ],
      "id": "A1477_S32",
      "premises": [
        "A1477_C22: 4(p² + q² + r²) - B² = 3w² + 2wy + 3y² + 4x(w + x + y)",
        "A1477_C23: 3w² + 2wy + 3y² ≥ 8wy by AM-GM (w² + y² ≥ 2wy)",
        "A1477_C25: 1 ≥ 2wy + x(w + x + y)",
        "A1477_C19: Δ = 4B² - 16(p² + q² + r² - 1) ≥ 0"
      ],
      "rule": "equality conditions"
    },
    {
      "conclusions": [
        "A1477_C39: w = y, x(2w + x) = 2w², 2x(2w + x) = 1"
      ],
      "id": "A1477_S33",
      "premises": [
        "A1477_C38: Equality in case 1: w = y, A = B, A + B = 1, Δ = 0"
      ],
      "rule": "equality setup"
    },
    {
      "conclusions": [
        "A1477_C40: x(2w + x) = 1/2"
      ],
      "id": "A1477_S34",
      "premises": [
        "A1477_C39: w = y, x(2w + x) = 2w², 2x(2w + x) = 1"
      ],
      "rule": "from A = B and A + B = 1"
    },
    {
      "conclusions": [
        "A1477_C41: w² · (1/2) = 1/8 ⇒ w² = 1/4 ⇒ w = 1/2"
      ],
      "id": "A1477_S35",
      "premises": [
        "A1477_C27: |S| = wxy(w + x + y) = (1/2)AB",
        "A1477_C40: x(2w + x) = 1/2"
      ],
      "rule": "product at equality"
    },
    {
      "conclusions": [
        "A1477_C42: x² + x - 1/2 = 0 ⇒ x = (-1 + √3)/2"
      ],
      "id": "A1477_S36",
      "premises": [
        "A1477_C40: x(2w + x) = 1/2",
        "A1477_C41: w² · (1/2) = 1/8 ⇒ w² = 1/4 ⇒ w = 1/2"
      ],
      "rule": "solve quadratic for x"
    },
    {
      "conclusions": [
        "A1477_C43: y = 1/2, d = -w - x/2 = -1/4 - √3/4"
      ],
      "id": "A1477_S37",
      "premises": [
        "A1477_C16: 4d² + (6w + 4x + 2y)d + (p² + q² + r² - 1) = 0",
        "A1477_C38: Equality in case 1: w = y, A = B, A + B = 1, Δ = 0",
        "A1477_C41: w² · (1/2) = 1/8 ⇒ w² = 1/4 ⇒ w = 1/2",
        "A1477_C42: x² + x - 1/2 = 0 ⇒ x = (-1 + √3)/2"
      ],
      "rule": "compute d at equality"
    },
    {
      "conclusions": [
        "A1477_C44: (a,b,c,d) = (1/4 + √3/4, -1/4 + √3/4, 1/4 - √3/4, -1/4 - √3/4)"
      ],
      "id": "A1477_S38",
      "premises": [
        "A1477_C13: a = d + w + x + y, b = d + w + x, c = d + w",
        "A1477_C43: y = 1/2, d = -w - x/2 = -1/4 - √3/4",
        "A1477_C41: w² · (1/2) = 1/8 ⇒ w² = 1/4 ⇒ w = 1/2",
        "A1477_C42: x² + x - 1/2 = 0 ⇒ x = (-1 + √3)/2"
      ],
      "rule": "compute (a,b,c,d)"
    },
    {
      "conclusions": [
        "A1477_C45: Equality in case 2 corresponds to permutations of case 1 equality"
      ],
      "id": "A1477_S39",
      "premises": [
        "A1477_C32: S(a,b,c,d) = (a - d)(d - c)(c - b)(b - a) = S(a,d,c,b)",
        "A1477_C44: (a,b,c,d) = (1/4 + √3/4, -1/4 + √3/4, 1/4 - √3/4, -1/4 - √3/4)"
      ],
      "rule": "equality in case 2"
    },
    {
      "conclusions": [
        "A1477_C46: Cyclic permutations (4 total) and sign flips (×2, total 8) achieve equality"
      ],
      "id": "A1477_S40",
      "premises": [
        "A1477_C44: (a,b,c,d) = (1/4 + √3/4, -1/4 + √3/4, 1/4 - √3/4, -1/4 - √3/4)",
        "A1477_C45: Equality in case 2 corresponds to permutations of case 1 equality",
        "A1477_C4: S(a,b,c,d) = (a - b)(b - c)(c - d)(d - a)",
        "A1477_C3: a² + b² + c² + d² = 1"
      ],
      "rule": "all equality cases"
    },
    {
      "conclusions": [
        "A1477_C1: minimum of S(a,b,c,d) s.t. a² + b² + c² + d² = 1"
      ],
      "id": "B230_S1",
      "premises": [
        "B230_C1: minimum of S(a,b,c,d) s.t. a² + b² + c² + d² = (n - 12)",
        "A1647_C24: Subcase b = 2, a = 3, n = 13"
      ],
      "rule": "problem connection"
    }
  ],
  "Sub_Class_ID": [
    {
      "A1618": "A1618_DG_1"
    },
    {
      "A1647": "A1647_DG_1"
    },
    {
      "A1477": "A1477_OG_1"
    }
  ],
  "Synthesised_By": [
    {
      "A1618": "Find all integers $n$ satisfying $n \\geq 2$ and \\(\\frac{\\sigma(n)}{p(n)-1}=n\\), in which \\(\\sigma(n)\\) denotes the sum of all positive divisors of \\(n\\), and \\(p(n)\\) denotes the largest prime divisor of \\(n\\)."
    },
    {
      "A1647": "Let $n$ be an integer of the form $a^{2}+b^{2}$, where $a$ and $b$ are relatively prime integers and such that if $p$ is a prime, $p \\leq \\sqrt{n}$, then $p$ divides $a b$. Determine all such $n$."
    },
    {
      "A1477": "Let $a, b, c, d$ be real numbers such that $a^{2}+b^{2}+c^{2}+d^{2}=1$. Determine the minimum value of $(a-b)(b-c)(c-d)(d-a)$ and determine all values of $(a, b, c, d)$ such that the minimum value is achieved."
    }
  ],
  "Synthesised_Problem_Length": 951,
  "Synthesised_Status": "Stop",
  "Total_Claims": [
    {
      "A1618": 26
    },
    {
      "A1647": 47
    },
    {
      "A1477": 46
    }
  ],
  "Total_Delta": [
    {
      "A1618": 1
    },
    {
      "A1647": 1
    },
    {
      "A1477": 0
    }
  ],
  "Total_Delta_Socket": [
    {
      "A1618": 1
    },
    {
      "A1647": 1
    },
    {
      "A1477": 1
    }
  ],
  "Variable_Names": [
    {
      "A1618": [
        "n"
      ]
    },
    {
      "A1647": [
        "n",
        "b",
        "a",
        "p"
      ]
    },
    {
      "A1477": [
        "a",
        "b",
        "c",
        "d"
      ]
    }
  ]
}
