{
  "Chunk_Type": "T4",
  "Claims": [
    {
      "expr": "maximum n s.t. K_n has 3-edge-coloring with no monochromatic K_3, each color nonempty, no rainbow vertex",
      "id": "A208_C1",
      "type": "goal"
    },
    {
      "expr": "colors = {rail, bus, air}",
      "id": "A208_C2",
      "type": "context"
    },
    {
      "expr": "G = K_n complete graph",
      "id": "A208_C3",
      "type": "context"
    },
    {
      "expr": "each edge colored exactly one color",
      "id": "A208_C4",
      "type": "context"
    },
    {
      "expr": "no monochromatic triangle",
      "id": "A208_C5",
      "type": "context"
    },
    {
      "expr": "each color used at least once",
      "id": "A208_C6",
      "type": "context"
    },
    {
      "expr": "no vertex incident to all three colors",
      "id": "A208_C7",
      "type": "context"
    },
    {
      "expr": "assume deg_rail(A) ≥ 3 with rail(AB) ∧ rail(AC) ∧ rail(AD)",
      "id": "A208_C8",
      "type": "derived"
    },
    {
      "expr": "¬rail(BC) ∧ ¬rail(BD) ∧ ¬rail(CD)",
      "id": "A208_C9",
      "type": "derived"
    },
    {
      "expr": "BC, BD, CD ∈ {bus, air}",
      "id": "A208_C10",
      "type": "derived"
    },
    {
      "expr": "color(BC) = color(BD) = X ≠ rail",
      "id": "A208_C11",
      "type": "derived"
    },
    {
      "expr": "color(CD) = X",
      "id": "A208_C12",
      "type": "derived"
    },
    {
      "expr": "bus(BC) ∧ bus(BD) ∧ bus(CD) or air(BC) ∧ air(BD) ∧ air(CD)",
      "id": "A208_C13",
      "type": "derived"
    },
    {
      "expr": "monochromatic triangle on BCD",
      "id": "A208_C14",
      "type": "derived"
    },
    {
      "expr": "∀v ∀c deg_c(v) ≤ 2",
      "id": "A208_C15",
      "type": "derived"
    },
    {
      "expr": "n = 5",
      "id": "A208_C16",
      "type": "derived"
    },
    {
      "expr": "∀v uses exactly two colors with deg_c(v) = 2 for each",
      "id": "A208_C17",
      "type": "derived"
    },
    {
      "expr": "rail(AB) ∧ rail(AC) ∧ bus(AD) ∧ bus(AE)",
      "id": "A208_C18",
      "type": "derived"
    },
    {
      "expr": "air(CD)",
      "id": "A208_C19",
      "type": "derived"
    },
    {
      "expr": "¬rail(BC)",
      "id": "A208_C20",
      "type": "derived"
    },
    {
      "expr": "if bus(BC) then rainbow at C",
      "id": "A208_C21",
      "type": "derived"
    },
    {
      "expr": "air(BC)",
      "id": "A208_C22",
      "type": "derived"
    },
    {
      "expr": "¬bus(DE)",
      "id": "A208_C23",
      "type": "derived"
    },
    {
      "expr": "if rail(DE) then rainbow at D",
      "id": "A208_C24",
      "type": "derived"
    },
    {
      "expr": "air(DE)",
      "id": "A208_C25",
      "type": "derived"
    },
    {
      "expr": "if rail(BE) then rainbow at E",
      "id": "A208_C26",
      "type": "derived"
    },
    {
      "expr": "if bus(BE) then rainbow at B",
      "id": "A208_C27",
      "type": "derived"
    },
    {
      "expr": "air(BE)",
      "id": "A208_C28",
      "type": "derived"
    },
    {
      "expr": "if rail(BD) then rainbow at D",
      "id": "A208_C29",
      "type": "derived"
    },
    {
      "expr": "if bus(BD) then rainbow at B",
      "id": "A208_C30",
      "type": "derived"
    },
    {
      "expr": "if air(BD) then deg_air(D) = 3",
      "id": "A208_C31",
      "type": "derived"
    },
    {
      "expr": "no color possible for BD",
      "id": "A208_C32",
      "type": "derived"
    },
    {
      "expr": "¬air(CD)",
      "id": "A208_C33",
      "type": "derived"
    },
    {
      "expr": "bus(CD) ∨ rail(CD)",
      "id": "A208_C34",
      "type": "derived"
    },
    {
      "expr": "bus(CD) (wlog by color symmetry)",
      "id": "A208_C35",
      "type": "derived"
    },
    {
      "expr": "¬rail(BC)",
      "id": "A208_C36",
      "type": "derived"
    },
    {
      "expr": "if air(BC) then rainbow at C",
      "id": "A208_C37",
      "type": "derived"
    },
    {
      "expr": "bus(BC)",
      "id": "A208_C38",
      "type": "derived"
    },
    {
      "expr": "if air(BD) then rainbow at B",
      "id": "A208_C39",
      "type": "derived"
    },
    {
      "expr": "if bus(BD) then deg_bus(D) = 3",
      "id": "A208_C40",
      "type": "derived"
    },
    {
      "expr": "rail(BD)",
      "id": "A208_C41",
      "type": "derived"
    },
    {
      "expr": "if air(DE) then rainbow at D",
      "id": "A208_C42",
      "type": "derived"
    },
    {
      "expr": "if bus(DE) then deg_bus(D) = 3",
      "id": "A208_C43",
      "type": "derived"
    },
    {
      "expr": "rail(DE)",
      "id": "A208_C44",
      "type": "derived"
    },
    {
      "expr": "if air(CE) then rainbow at C",
      "id": "A208_C45",
      "type": "derived"
    },
    {
      "expr": "if bus(CE) then deg_bus(E) = 3",
      "id": "A208_C46",
      "type": "derived"
    },
    {
      "expr": "rail(CE)",
      "id": "A208_C47",
      "type": "derived"
    },
    {
      "expr": "all edges except BE colored using only rail and bus",
      "id": "A208_C48",
      "type": "derived"
    },
    {
      "expr": "no air edge if ¬air(BE)",
      "id": "A208_C49",
      "type": "derived"
    },
    {
      "expr": "if air(BE) then rainbow at B",
      "id": "A208_C50",
      "type": "derived"
    },
    {
      "expr": "if air(BE) then rainbow at E",
      "id": "A208_C51",
      "type": "derived"
    },
    {
      "expr": "cannot color BE with air",
      "id": "A208_C52",
      "type": "derived"
    },
    {
      "expr": "cannot satisfy nonempty air",
      "id": "A208_C53",
      "type": "derived"
    },
    {
      "expr": "contradiction in case bus(CD)",
      "id": "A208_C54",
      "type": "derived"
    },
    {
      "expr": "no such coloring for n=5",
      "id": "A208_C55",
      "type": "derived"
    },
    {
      "expr": "n=4",
      "id": "A208_C56",
      "type": "derived"
    },
    {
      "expr": "bus(AB) ∧ bus(BC) ∧ bus(CD) ∧ bus(DA) ∧ rail(AC) ∧ air(BD)",
      "id": "A208_C57",
      "type": "derived"
    },
    {
      "expr": "each color nonempty",
      "id": "A208_C58",
      "type": "derived"
    },
    {
      "expr": "no rainbow vertex",
      "id": "A208_C59",
      "type": "derived"
    },
    {
      "expr": "no monochromatic triangle",
      "id": "A208_C60",
      "type": "derived"
    },
    {
      "expr": "such coloring exists for n=4",
      "id": "A208_C61",
      "type": "derived"
    },
    {
      "expr": "maximum n = 4",
      "id": "A208_C62",
      "type": "final"
    },
    {
      "expr": "Find all f : R → R such that ∀x,y ∈ R, f(x^2 - y) + 2 y f(x) = f(f(x)) + f(y)",
      "id": "A213_C1",
      "type": "derived"
    },
    {
      "expr": "f : R → R",
      "id": "A213_C2",
      "type": "context"
    },
    {
      "expr": "∀x,y ∈ R, f(x^2 - y) + 2 y f(x) = f(f(x)) + f(y)",
      "id": "A213_C3",
      "type": "context"
    },
    {
      "expr": "∀x ∈ R, f(x^2) = f(f(x)) + f(0)",
      "id": "A213_C4",
      "type": "derived"
    },
    {
      "expr": "f(f(0)) = 0",
      "id": "A213_C5",
      "type": "derived"
    },
    {
      "expr": "∀y ∈ R, f(-y) + 2 y f(0) = f(y)",
      "id": "A213_C6",
      "type": "derived"
    },
    {
      "expr": "∀x,y ∈ R, f(x^2 - y^2) + 2 y^2 f(x) = f(f(x)) + f(y^2)",
      "id": "A213_C7",
      "type": "derived"
    },
    {
      "expr": "∀x,y ∈ R, f(y^2 - x^2) + 2 x^2 f(y) = f(f(y)) + f(x^2)",
      "id": "A213_C8",
      "type": "derived"
    },
    {
      "expr": "∀x,y ∈ R, f(x^2 - y^2) - f(y^2 - x^2) + 2 y^2 f(x) - 2 x^2 f(y) = f(f(x)) + f(y^2) - f(f(y)) - f(x^2)",
      "id": "A213_C9",
      "type": "derived"
    },
    {
      "expr": "∀z ∈ R, f(f(z)) - f(z^2) = -f(0)",
      "id": "A213_C10",
      "type": "derived"
    },
    {
      "expr": "∀x,y ∈ R, f(f(x)) - f(x^2) + f(y^2) - f(f(y)) = 0",
      "id": "A213_C11",
      "type": "derived"
    },
    {
      "expr": "∀x,y ∈ R, f(x^2 - y^2) - f(y^2 - x^2) + 2 y^2 f(x) - 2 x^2 f(y) = 0",
      "id": "A213_C12",
      "type": "derived"
    },
    {
      "expr": "∀z ∈ R, f(-z) - f(z) = -2 z f(0)",
      "id": "A213_C13",
      "type": "derived"
    },
    {
      "expr": "∀x,y ∈ R, f(x^2 - y^2) - f(y^2 - x^2) = -2 (y^2 - x^2) f(0)",
      "id": "A213_C14",
      "type": "derived"
    },
    {
      "expr": "∀x,y ∈ R, -2 (y^2 - x^2) f(0) + 2 y^2 f(x) - 2 x^2 f(y) = 0",
      "id": "A213_C15",
      "type": "derived"
    },
    {
      "expr": "∀x,y ∈ R, (x^2 - y^2) f(0) + y^2 f(x) - x^2 f(y) = 0",
      "id": "A213_C16",
      "type": "derived"
    },
    {
      "expr": "∀x,y ∈ R, y^2 f(x) - x^2 f(y) = (y^2 - x^2) f(0)",
      "id": "A213_C17",
      "type": "derived"
    },
    {
      "expr": "∀x,y ∈ R, y^2 (f(x) - f(0)) = x^2 (f(y) - f(0))",
      "id": "A213_C18",
      "type": "derived"
    },
    {
      "expr": "∃ c ∈ R ∀x ∈ R, f(x) = c x^2 + f(0)",
      "id": "A213_C19",
      "type": "derived"
    },
    {
      "expr": "∀y ∈ R, f(-y) = c y^2 + f(0)",
      "id": "A213_C20",
      "type": "derived"
    },
    {
      "expr": "∀y ∈ R, f(y) = c y^2 + f(0)",
      "id": "A213_C21",
      "type": "derived"
    },
    {
      "expr": "∀y ∈ R, 2 y f(0) = 0",
      "id": "A213_C22",
      "type": "derived"
    },
    {
      "expr": "f(0) = 0",
      "id": "A213_C23",
      "type": "derived"
    },
    {
      "expr": "∀x ∈ R, f(x) = c x^2",
      "id": "A213_C24",
      "type": "derived"
    },
    {
      "expr": "f(x^2 - y) = c (x^2 - y)^2 = c (x^4 - 2 x^2 y + y^2)",
      "id": "A213_C25",
      "type": "derived"
    },
    {
      "expr": "2 y f(x) = 2 y c x^2",
      "id": "A213_C26",
      "type": "derived"
    },
    {
      "expr": "f(x^2 - y) + 2 y f(x) = c x^4 + c y^2",
      "id": "A213_C27",
      "type": "derived"
    },
    {
      "expr": "f(f(x)) = c^3 x^4",
      "id": "A213_C28",
      "type": "derived"
    },
    {
      "expr": "f(y) = c y^2",
      "id": "A213_C29",
      "type": "derived"
    },
    {
      "expr": "f(f(x)) + f(y) = c^3 x^4 + c y^2",
      "id": "A213_C30",
      "type": "derived"
    },
    {
      "expr": "c x^4 + c y^2 = c^3 x^4 + c y^2 ∀x,y ∈ R",
      "id": "A213_C31",
      "type": "derived"
    },
    {
      "expr": "c x^4 = c^3 x^4 ∀x ∈ R",
      "id": "A213_C32",
      "type": "derived"
    },
    {
      "expr": "(c - c^3) x^4 = 0 ∀x ∈ R",
      "id": "A213_C33",
      "type": "derived"
    },
    {
      "expr": "c - c^3 = 0",
      "id": "A213_C34",
      "type": "derived"
    },
    {
      "expr": "c (c^2 - 1) = 0",
      "id": "A213_C35",
      "type": "derived"
    },
    {
      "expr": "c = 0 ∨ c^2 = 1",
      "id": "A213_C36",
      "type": "derived"
    },
    {
      "expr": "c ∈ {-1, 0, 1}",
      "id": "A213_C37",
      "type": "derived"
    },
    {
      "expr": "f(x) = x^2, f(x) = -x^2, f(x) = 0",
      "id": "A213_C38",
      "type": "final"
    },
    {
      "expr": "Find all f : R → R such that ∀x,y ∈ R, f(x^(n - 2) - y) + (n - 2) y f(x) = f(f(x)) + f(y)",
      "id": "B10403_C1",
      "type": "goal"
    },
    {
      "expr": "\\max |S| = 2 \\ \forall S \\subseteq \\mathbb{Q}^2 \text{ rational pts on circle } c \text{ with center}(c) \notin \\mathbb{Q}^2",
      "id": "A3273_C1",
      "type": "derived"
    },
    {
      "expr": "p \\in \\mathbb{Q}^2 \\Leftrightarrow p = (x,y),\\ x,y \\in \\mathbb{Q}",
      "id": "A3273_C2",
      "type": "context"
    },
    {
      "expr": "P = (0,0) \\in \\mathbb{Q}^2",
      "id": "A3273_C3",
      "type": "derived"
    },
    {
      "expr": "Q = (1,0) \\in \\mathbb{Q}^2",
      "id": "A3273_C4",
      "type": "derived"
    },
    {
      "expr": "O = (\frac{1}{2}, x),\\ x \notin \\mathbb{Q}",
      "id": "A3273_C5",
      "type": "derived"
    },
    {
      "expr": "O \notin \\mathbb{Q}^2",
      "id": "A3273_C6",
      "type": "derived"
    },
    {
      "expr": "\\|O - P\\|^2 = (\frac{1}{2})^2 + x^2 = \frac{1}{4} + x^2",
      "id": "A3273_C7",
      "type": "derived"
    },
    {
      "expr": "\\|O - Q\\|^2 = (\frac{1}{2} - 1)^2 + x^2 = \frac{1}{4} + x^2",
      "id": "A3273_C8",
      "type": "derived"
    },
    {
      "expr": "\\|O - P\\|^2 = \\|O - Q\\|^2",
      "id": "A3273_C9",
      "type": "derived"
    },
    {
      "expr": "P, Q \text{ lie on circle center } O,\\ r = \\|O - P\\|",
      "id": "A3273_C10",
      "type": "derived"
    },
    {
      "expr": "\\exists c \text{ circle, center}(c) \notin \\mathbb{Q}^2,\\ |\\{P,Q\\}| = 2 \text{ rational pts on } c",
      "id": "A3273_C11",
      "type": "derived"
    },
    {
      "expr": "\\exists P,Q,R \\in \\mathbb{Q}^2 \text{ distinct on circle } c",
      "id": "A3273_C12",
      "type": "derived"
    },
    {
      "expr": "M = \frac{P+Q}{2} \\in \\mathbb{Q}^2 \text{ midpoint PQ}",
      "id": "A3273_C13",
      "type": "derived"
    },
    {
      "expr": "slope PQ = \frac{d-b}{c-a} \\in \\mathbb{Q} \\cup \\{\\infty\\},\\ P=(a,b), Q=(c,d)",
      "id": "A3273_C14",
      "type": "derived"
    },
    {
      "expr": "slope perp to PQ \\in \\mathbb{Q} \\cup \\{\\infty\\}",
      "id": "A3273_C15",
      "type": "derived"
    },
    {
      "expr": "perp bisector PQ: A x + B y = C,\\ A,B,C \\in \\mathbb{Q}",
      "id": "A3273_C16",
      "type": "derived"
    },
    {
      "expr": "perp bisector QR: D x + E y = F,\\ D,E,F \\in \\mathbb{Q}",
      "id": "A3273_C17",
      "type": "derived"
    },
    {
      "expr": "center O solves A g + B h = C,\\ D g + E h = F",
      "id": "A3273_C18",
      "type": "derived"
    },
    {
      "expr": "\\Delta = A E - B D \\in \\mathbb{Q},\\ \\Delta \neq 0",
      "id": "A3273_C19",
      "type": "derived"
    },
    {
      "expr": "g = \frac{C E - B F}{\\Delta} \\in \\mathbb{Q},\\ h = \frac{A F - D C}{\\Delta} \\in \\mathbb{Q}",
      "id": "A3273_C20",
      "type": "derived"
    },
    {
      "expr": "O = (g,h) \\in \\mathbb{Q}^2",
      "id": "A3273_C21",
      "type": "derived"
    },
    {
      "expr": "\\exists 3 \text{ rational pts on } c \\Rightarrow \text{center}(c) \\in \\mathbb{Q}^2",
      "id": "A3273_C22",
      "type": "derived"
    },
    {
      "expr": "\text{center}(c) \notin \\mathbb{Q}^2 \\Rightarrow |S| \\leq 2,\\ S \text{ rational pts on } c",
      "id": "A3273_C23",
      "type": "derived"
    },
    {
      "expr": "\\max |S| = 2",
      "id": "A3273_C24",
      "type": "final"
    },
    {
      "expr": "\\max |S| = (f(0) + 2) \\ \forall S \\subseteq \\mathbb{Q}^2 \text{ rational pts on circle } c \text{ with center}(c) \notin \\mathbb{Q}^2",
      "id": "B2719_C1",
      "type": "goal"
    }
  ],
  "Class_ID": [
    "B10403",
    "B2719"
  ],
  "Connecting_Point": [
    {
      "B10403": {
        "2": "(n - 2)"
      }
    },
    {
      "B2719": {
        "2": "(f(0) + 2)"
      }
    }
  ],
  "Delta_Depth": [
    {
      "A208": {
        "n": 56
      }
    },
    {
      "A213": {
        "f(0)": 23
      }
    },
    {
      "A3273": 0
    }
  ],
  "Delta_Factor": [
    {
      "A208": 0.9
    },
    {
      "A213": 0.61
    },
    {
      "A3273": 0
    }
  ],
  "Delta_Socket": [
    {
      "A208": {
        "3": 3.0
      }
    },
    {
      "A213": {
        "2": 2.0
      }
    },
    {
      "A3273": {
        "2": 2.0
      }
    }
  ],
  "Delta_Socket_Order": [
    {
      "A208": 1
    },
    {
      "A213": 1
    },
    {
      "A3273": 1
    }
  ],
  "Delta_Source": [
    {
      "A208": "derived"
    },
    {
      "A213": "derived"
    },
    {
      "A3273": ""
    }
  ],
  "Delta_Value": [
    {
      "A208": {
        "n": "4"
      }
    },
    {
      "A213": {
        "f(0)": "0"
      }
    },
    {
      "A3273": {}
    }
  ],
  "Delta_Value_Order": [
    {
      "A208": 1
    },
    {
      "A213": 1
    },
    {
      "A3273": 0
    }
  ],
  "Delta_Variable_Names": [
    {
      "A208": [
        "n"
      ]
    },
    {
      "A213": [
        "f"
      ]
    },
    {
      "A3273": []
    }
  ],
  "Ground_Truth": [
    {
      "A208": "The maximum number of towns is \\(4\\)."
    },
    {
      "A213": "\\[ f(x) = -x^2, \\quad f(x) = 0, \\quad f(x) = x^2 \\]"
    },
    {
      "A3273": "At most two rational points."
    }
  ],
  "Math_Problem": "What is the largest number of towns that can meet the following criteria. Each pair is directly linked by just one of air, bus or train. At least one pair is linked by air, at least one pair by bus and at least one pair by train. No town has an air link, a bus link and a train link. No three towns, $A, B, C$ are such that the links between $AB, AC$ and $BC$ are all air, all bus or all train. Instead of determining the maximum number of towns that satisfy the connectivity and link constraints, simply find $k = n - 2$, where $n$ is the largest such number of towns. Find all functions $f:\\\\mathbb{R}\\\\rightarrow\\\\mathbb{R}$ that satisfy \\\\[f(x^k - y) + k y f(x) = f(f(x)) + f(y)\\\\] for all $x,y\\\\in\\\\mathbb{R}$. Instead of finding all real-valued functions satisfying the given functional equation, simply find $m = f(0) + 2$, where $f(0)$ is the value at zero of any such function $f$. What is the maximum number $m$ of rational points that can lie on a circle in $\\\\mathbb{R}^2$ whose center is not a rational point? (A \\\\emph{rational point} is a point both of whose coordinates are rational numbers.) Compute $m$.",
  "Max_Delta_Depth": [
    {
      "A208": 56
    },
    {
      "A213": 38
    },
    {
      "A3273": 0
    }
  ],
  "Max_Delta_Factor": [
    {
      "A208": 0.9
    },
    {
      "A213": 1.0
    },
    {
      "A3273": 0
    }
  ],
  "Min_Delta_Depth": [
    {
      "A208": 56
    },
    {
      "A213": 23
    },
    {
      "A3273": 0
    }
  ],
  "Min_Delta_Factor": [
    {
      "A208": 0.9
    },
    {
      "A213": 0.61
    },
    {
      "A3273": 0
    }
  ],
  "Multiple_Synthesis_Class": "MP3",
  "Predicted_Answer": [
    {
      "A208": "4"
    },
    {
      "A213": "f(x) = -x^2, \\quad f(x) = 0, \\quad f(x) = x^2"
    },
    {
      "A3273": "2"
    }
  ],
  "Problem_ID": 51,
  "Problem_Length": [
    {
      "A208": 394
    },
    {
      "A213": 129
    },
    {
      "A3273": 211
    }
  ],
  "Problem_Level": [
    {
      "A208": "KbsdJames_Omni-MATH_6.0"
    },
    {
      "A213": "KbsdJames_Omni-MATH_6.0"
    },
    {
      "A3273": "KbsdJames_Omni-MATH_7.0"
    }
  ],
  "Problem_Source": [
    {
      "A208": "usamo"
    },
    {
      "A213": "usajmo"
    },
    {
      "A3273": "putnam"
    }
  ],
  "Problem_Type": [
    {
      "A208": [
        "Mathematics -> Discrete Mathematics -> Combinatorics"
      ]
    },
    {
      "A213": [
        "Mathematics -> Algebra -> Abstract Algebra -> Other",
        "Mathematics -> Algebra -> Equations and Inequalities -> Other"
      ]
    },
    {
      "A3273": [
        "Mathematics -> Geometry -> Plane Geometry -> Other",
        "Mathematics -> Algebra -> Intermediate Algebra -> Other"
      ]
    }
  ],
  "Source_Delta_Socket": [
    {
      "A208": "goal"
    },
    {
      "A213": "goal"
    },
    {
      "A3273": "goal"
    }
  ],
  "Steps": [
    {
      "conclusions": [
        "A208_C2: colors = {rail, bus, air}",
        "A208_C3: G = K_n complete graph",
        "A208_C4: each edge colored exactly one color",
        "A208_C5: no monochromatic triangle",
        "A208_C6: each color used at least once",
        "A208_C7: no vertex incident to all three colors"
      ],
      "id": "A208_S1",
      "premises": [
        "A208_C1: maximum n s.t. K_n has 3-edge-coloring with no monochromatic K_3, each color nonempty, no rainbow vertex"
      ],
      "rule": "problem setup"
    },
    {
      "conclusions": [
        "A208_C8: assume deg_rail(A) ≥ 3 with rail(AB) ∧ rail(AC) ∧ rail(AD)"
      ],
      "id": "A208_S2",
      "premises": [
        "A208_C3: G = K_n complete graph",
        "A208_C4: each edge colored exactly one color"
      ],
      "rule": "assumption for contradiction"
    },
    {
      "conclusions": [
        "A208_C9: ¬rail(BC) ∧ ¬rail(BD) ∧ ¬rail(CD)"
      ],
      "id": "A208_S3",
      "premises": [
        "A208_C5: no monochromatic triangle",
        "A208_C8: assume deg_rail(A) ≥ 3 with rail(AB) ∧ rail(AC) ∧ rail(AD)"
      ],
      "rule": "no mono triangle"
    },
    {
      "conclusions": [
        "A208_C10: BC, BD, CD ∈ {bus, air}"
      ],
      "id": "A208_S4",
      "premises": [
        "A208_C4: each edge colored exactly one color",
        "A208_C9: ¬rail(BC) ∧ ¬rail(BD) ∧ ¬rail(CD)"
      ],
      "rule": "color restriction"
    },
    {
      "conclusions": [
        "A208_C11: color(BC) = color(BD) = X ≠ rail"
      ],
      "id": "A208_S5",
      "premises": [
        "A208_C7: no vertex incident to all three colors",
        "A208_C8: assume deg_rail(A) ≥ 3 with rail(AB) ∧ rail(AC) ∧ rail(AD)",
        "A208_C10: BC, BD, CD ∈ {bus, air}"
      ],
      "rule": "avoid rainbow at B"
    },
    {
      "conclusions": [
        "A208_C12: color(CD) = X"
      ],
      "id": "A208_S6",
      "premises": [
        "A208_C7: no vertex incident to all three colors",
        "A208_C8: assume deg_rail(A) ≥ 3 with rail(AB) ∧ rail(AC) ∧ rail(AD)",
        "A208_C10: BC, BD, CD ∈ {bus, air}",
        "A208_C11: color(BC) = color(BD) = X ≠ rail"
      ],
      "rule": "avoid rainbow at C"
    },
    {
      "conclusions": [
        "A208_C13: bus(BC) ∧ bus(BD) ∧ bus(CD) or air(BC) ∧ air(BD) ∧ air(CD)"
      ],
      "id": "A208_S7",
      "premises": [
        "A208_C11: color(BC) = color(BD) = X ≠ rail",
        "A208_C12: color(CD) = X"
      ],
      "rule": "triangle formation"
    },
    {
      "conclusions": [
        "A208_C14: monochromatic triangle on BCD"
      ],
      "id": "A208_S8",
      "premises": [
        "A208_C5: no monochromatic triangle",
        "A208_C13: bus(BC) ∧ bus(BD) ∧ bus(CD) or air(BC) ∧ air(BD) ∧ air(CD)"
      ],
      "rule": "contradiction"
    },
    {
      "conclusions": [
        "A208_C15: ∀v ∀c deg_c(v) ≤ 2"
      ],
      "id": "A208_S9",
      "premises": [
        "A208_C8: assume deg_rail(A) ≥ 3 with rail(AB) ∧ rail(AC) ∧ rail(AD)",
        "A208_C14: monochromatic triangle on BCD"
      ],
      "rule": "discharge assumption"
    },
    {
      "conclusions": [
        "A208_C16: n = 5"
      ],
      "id": "A208_S10",
      "premises": [
        "A208_C1: maximum n s.t. K_n has 3-edge-coloring with no monochromatic K_3, each color nonempty, no rainbow vertex"
      ],
      "rule": "specific case n=5"
    },
    {
      "conclusions": [
        "A208_C17: ∀v uses exactly two colors with deg_c(v) = 2 for each"
      ],
      "id": "A208_S11",
      "premises": [
        "A208_C3: G = K_n complete graph",
        "A208_C16: n = 5",
        "A208_C7: no vertex incident to all three colors",
        "A208_C15: ∀v ∀c deg_c(v) ≤ 2"
      ],
      "rule": "degree analysis"
    },
    {
      "conclusions": [
        "A208_C18: rail(AB) ∧ rail(AC) ∧ bus(AD) ∧ bus(AE)"
      ],
      "id": "A208_S12",
      "premises": [
        "A208_C17: ∀v uses exactly two colors with deg_c(v) = 2 for each"
      ],
      "rule": "wlog configuration"
    },
    {
      "conclusions": [
        "A208_C19: air(CD)"
      ],
      "id": "A208_S13",
      "premises": [
        "A208_C18: rail(AB) ∧ rail(AC) ∧ bus(AD) ∧ bus(AE)"
      ],
      "rule": "case analysis"
    },
    {
      "conclusions": [
        "A208_C20: ¬rail(BC)"
      ],
      "id": "A208_S14",
      "premises": [
        "A208_C5: no monochromatic triangle",
        "A208_C18: rail(AB) ∧ rail(AC) ∧ bus(AD) ∧ bus(AE)",
        "A208_C19: air(CD)"
      ],
      "rule": "no mono triangle"
    },
    {
      "conclusions": [
        "A208_C21: if bus(BC) then rainbow at C"
      ],
      "id": "A208_S15",
      "premises": [
        "A208_C7: no vertex incident to all three colors",
        "A208_C18: rail(AB) ∧ rail(AC) ∧ bus(AD) ∧ bus(AE)",
        "A208_C19: air(CD)"
      ],
      "rule": "rainbow violation at C"
    },
    {
      "conclusions": [
        "A208_C22: air(BC)"
      ],
      "id": "A208_S16",
      "premises": [
        "A208_C4: each edge colored exactly one color",
        "A208_C20: ¬rail(BC)",
        "A208_C21: if bus(BC) then rainbow at C"
      ],
      "rule": "color elimination"
    },
    {
      "conclusions": [
        "A208_C23: ¬bus(DE)"
      ],
      "id": "A208_S17",
      "premises": [
        "A208_C5: no monochromatic triangle",
        "A208_C18: rail(AB) ∧ rail(AC) ∧ bus(AD) ∧ bus(AE)"
      ],
      "rule": "no mono triangle"
    },
    {
      "conclusions": [
        "A208_C24: if rail(DE) then rainbow at D"
      ],
      "id": "A208_S18",
      "premises": [
        "A208_C7: no vertex incident to all three colors",
        "A208_C18: rail(AB) ∧ rail(AC) ∧ bus(AD) ∧ bus(AE)",
        "A208_C19: air(CD)"
      ],
      "rule": "rainbow violation at D"
    },
    {
      "conclusions": [
        "A208_C25: air(DE)"
      ],
      "id": "A208_S19",
      "premises": [
        "A208_C4: each edge colored exactly one color",
        "A208_C23: ¬bus(DE)",
        "A208_C24: if rail(DE) then rainbow at D"
      ],
      "rule": "color elimination"
    },
    {
      "conclusions": [
        "A208_C26: if rail(BE) then rainbow at E"
      ],
      "id": "A208_S20",
      "premises": [
        "A208_C7: no vertex incident to all three colors",
        "A208_C18: rail(AB) ∧ rail(AC) ∧ bus(AD) ∧ bus(AE)",
        "A208_C19: air(CD)",
        "A208_C25: air(DE)"
      ],
      "rule": "rainbow violation at E"
    },
    {
      "conclusions": [
        "A208_C27: if bus(BE) then rainbow at B"
      ],
      "id": "A208_S21",
      "premises": [
        "A208_C7: no vertex incident to all three colors",
        "A208_C18: rail(AB) ∧ rail(AC) ∧ bus(AD) ∧ bus(AE)",
        "A208_C22: air(BC)"
      ],
      "rule": "rainbow violation at B"
    },
    {
      "conclusions": [
        "A208_C28: air(BE)"
      ],
      "id": "A208_S22",
      "premises": [
        "A208_C4: each edge colored exactly one color",
        "A208_C26: if rail(BE) then rainbow at E",
        "A208_C27: if bus(BE) then rainbow at B"
      ],
      "rule": "color elimination"
    },
    {
      "conclusions": [
        "A208_C29: if rail(BD) then rainbow at D"
      ],
      "id": "A208_S23",
      "premises": [
        "A208_C7: no vertex incident to all three colors",
        "A208_C18: rail(AB) ∧ rail(AC) ∧ bus(AD) ∧ bus(AE)",
        "A208_C19: air(CD)",
        "A208_C25: air(DE)"
      ],
      "rule": "rainbow violation at D"
    },
    {
      "conclusions": [
        "A208_C30: if bus(BD) then rainbow at B"
      ],
      "id": "A208_S24",
      "premises": [
        "A208_C7: no vertex incident to all three colors",
        "A208_C18: rail(AB) ∧ rail(AC) ∧ bus(AD) ∧ bus(AE)",
        "A208_C22: air(BC)",
        "A208_C28: air(BE)"
      ],
      "rule": "rainbow violation at B"
    },
    {
      "conclusions": [
        "A208_C31: if air(BD) then deg_air(D) = 3"
      ],
      "id": "A208_S25",
      "premises": [
        "A208_C15: ∀v ∀c deg_c(v) ≤ 2",
        "A208_C18: rail(AB) ∧ rail(AC) ∧ bus(AD) ∧ bus(AE)",
        "A208_C19: air(CD)",
        "A208_C25: air(DE)",
        "A208_C28: air(BE)"
      ],
      "rule": "degree violation at D"
    },
    {
      "conclusions": [
        "A208_C32: no color possible for BD"
      ],
      "id": "A208_S26",
      "premises": [
        "A208_C4: each edge colored exactly one color",
        "A208_C29: if rail(BD) then rainbow at D",
        "A208_C30: if bus(BD) then rainbow at B",
        "A208_C31: if air(BD) then deg_air(D) = 3"
      ],
      "rule": "contradiction for BD"
    },
    {
      "conclusions": [
        "A208_C33: ¬air(CD)"
      ],
      "id": "A208_S27",
      "premises": [
        "A208_C19: air(CD)",
        "A208_C32: no color possible for BD"
      ],
      "rule": "case contradiction"
    },
    {
      "conclusions": [
        "A208_C34: bus(CD) ∨ rail(CD)"
      ],
      "id": "A208_S28",
      "premises": [
        "A208_C18: rail(AB) ∧ rail(AC) ∧ bus(AD) ∧ bus(AE)",
        "A208_C33: ¬air(CD)",
        "A208_C4: each edge colored exactly one color"
      ],
      "rule": "remaining cases"
    },
    {
      "conclusions": [
        "A208_C35: bus(CD) (wlog by color symmetry)"
      ],
      "id": "A208_S29",
      "premises": [
        "A208_C34: bus(CD) ∨ rail(CD)"
      ],
      "rule": "color symmetry"
    },
    {
      "conclusions": [
        "A208_C36: ¬rail(BC)"
      ],
      "id": "A208_S30",
      "premises": [
        "A208_C5: no monochromatic triangle",
        "A208_C18: rail(AB) ∧ rail(AC) ∧ bus(AD) ∧ bus(AE)",
        "A208_C35: bus(CD) (wlog by color symmetry)"
      ],
      "rule": "no mono triangle"
    },
    {
      "conclusions": [
        "A208_C37: if air(BC) then rainbow at C"
      ],
      "id": "A208_S31",
      "premises": [
        "A208_C7: no vertex incident to all three colors",
        "A208_C18: rail(AB) ∧ rail(AC) ∧ bus(AD) ∧ bus(AE)",
        "A208_C35: bus(CD) (wlog by color symmetry)"
      ],
      "rule": "rainbow violation at C"
    },
    {
      "conclusions": [
        "A208_C38: bus(BC)"
      ],
      "id": "A208_S32",
      "premises": [
        "A208_C4: each edge colored exactly one color",
        "A208_C36: ¬rail(BC)",
        "A208_C37: if air(BC) then rainbow at C"
      ],
      "rule": "color elimination"
    },
    {
      "conclusions": [
        "A208_C39: if air(BD) then rainbow at B"
      ],
      "id": "A208_S33",
      "premises": [
        "A208_C7: no vertex incident to all three colors",
        "A208_C18: rail(AB) ∧ rail(AC) ∧ bus(AD) ∧ bus(AE)",
        "A208_C38: bus(BC)"
      ],
      "rule": "rainbow violation at B"
    },
    {
      "conclusions": [
        "A208_C40: if bus(BD) then deg_bus(D) = 3"
      ],
      "id": "A208_S34",
      "premises": [
        "A208_C15: ∀v ∀c deg_c(v) ≤ 2",
        "A208_C18: rail(AB) ∧ rail(AC) ∧ bus(AD) ∧ bus(AE)",
        "A208_C35: bus(CD) (wlog by color symmetry)"
      ],
      "rule": "degree violation at D"
    },
    {
      "conclusions": [
        "A208_C41: rail(BD)"
      ],
      "id": "A208_S35",
      "premises": [
        "A208_C4: each edge colored exactly one color",
        "A208_C39: if air(BD) then rainbow at B",
        "A208_C40: if bus(BD) then deg_bus(D) = 3"
      ],
      "rule": "color elimination"
    },
    {
      "conclusions": [
        "A208_C42: if air(DE) then rainbow at D"
      ],
      "id": "A208_S36",
      "premises": [
        "A208_C7: no vertex incident to all three colors",
        "A208_C18: rail(AB) ∧ rail(AC) ∧ bus(AD) ∧ bus(AE)",
        "A208_C35: bus(CD) (wlog by color symmetry)",
        "A208_C41: rail(BD)"
      ],
      "rule": "rainbow violation at D"
    },
    {
      "conclusions": [
        "A208_C43: if bus(DE) then deg_bus(D) = 3"
      ],
      "id": "A208_S37",
      "premises": [
        "A208_C15: ∀v ∀c deg_c(v) ≤ 2",
        "A208_C18: rail(AB) ∧ rail(AC) ∧ bus(AD) ∧ bus(AE)",
        "A208_C35: bus(CD) (wlog by color symmetry)"
      ],
      "rule": "degree violation at D"
    },
    {
      "conclusions": [
        "A208_C44: rail(DE)"
      ],
      "id": "A208_S38",
      "premises": [
        "A208_C4: each edge colored exactly one color",
        "A208_C42: if air(DE) then rainbow at D",
        "A208_C43: if bus(DE) then deg_bus(D) = 3"
      ],
      "rule": "color elimination"
    },
    {
      "conclusions": [
        "A208_C45: if air(CE) then rainbow at C"
      ],
      "id": "A208_S39",
      "premises": [
        "A208_C7: no vertex incident to all three colors",
        "A208_C18: rail(AB) ∧ rail(AC) ∧ bus(AD) ∧ bus(AE)",
        "A208_C38: bus(BC)",
        "A208_C35: bus(CD) (wlog by color symmetry)"
      ],
      "rule": "rainbow violation at C"
    },
    {
      "conclusions": [
        "A208_C46: if bus(CE) then deg_bus(E) = 3"
      ],
      "id": "A208_S40",
      "premises": [
        "A208_C15: ∀v ∀c deg_c(v) ≤ 2",
        "A208_C18: rail(AB) ∧ rail(AC) ∧ bus(AD) ∧ bus(AE)",
        "A208_C44: rail(DE)"
      ],
      "rule": "degree violation at E"
    },
    {
      "conclusions": [
        "A208_C47: rail(CE)"
      ],
      "id": "A208_S41",
      "premises": [
        "A208_C4: each edge colored exactly one color",
        "A208_C45: if air(CE) then rainbow at C",
        "A208_C46: if bus(CE) then deg_bus(E) = 3"
      ],
      "rule": "color elimination"
    },
    {
      "conclusions": [
        "A208_C48: all edges except BE colored using only rail and bus"
      ],
      "id": "A208_S42",
      "premises": [
        "A208_C18: rail(AB) ∧ rail(AC) ∧ bus(AD) ∧ bus(AE)",
        "A208_C35: bus(CD) (wlog by color symmetry)",
        "A208_C38: bus(BC)",
        "A208_C41: rail(BD)",
        "A208_C44: rail(DE)",
        "A208_C47: rail(CE)"
      ],
      "rule": "configuration summary"
    },
    {
      "conclusions": [
        "A208_C49: no air edge if ¬air(BE)"
      ],
      "id": "A208_S43",
      "premises": [
        "A208_C48: all edges except BE colored using only rail and bus"
      ],
      "rule": "color usage analysis"
    },
    {
      "conclusions": [
        "A208_C50: if air(BE) then rainbow at B"
      ],
      "id": "A208_S44",
      "premises": [
        "A208_C7: no vertex incident to all three colors",
        "A208_C18: rail(AB) ∧ rail(AC) ∧ bus(AD) ∧ bus(AE)",
        "A208_C38: bus(BC)",
        "A208_C41: rail(BD)",
        "A208_C48: all edges except BE colored using only rail and bus"
      ],
      "rule": "rainbow violation at B"
    },
    {
      "conclusions": [
        "A208_C51: if air(BE) then rainbow at E"
      ],
      "id": "A208_S45",
      "premises": [
        "A208_C7: no vertex incident to all three colors",
        "A208_C18: rail(AB) ∧ rail(AC) ∧ bus(AD) ∧ bus(AE)",
        "A208_C44: rail(DE)",
        "A208_C47: rail(CE)",
        "A208_C48: all edges except BE colored using only rail and bus"
      ],
      "rule": "rainbow violation at E"
    },
    {
      "conclusions": [
        "A208_C52: cannot color BE with air"
      ],
      "id": "A208_S46",
      "premises": [
        "A208_C50: if air(BE) then rainbow at B",
        "A208_C51: if air(BE) then rainbow at E",
        "A208_C7: no vertex incident to all three colors"
      ],
      "rule": "cannot use air on BE"
    },
    {
      "conclusions": [
        "A208_C53: cannot satisfy nonempty air"
      ],
      "id": "A208_S47",
      "premises": [
        "A208_C48: all edges except BE colored using only rail and bus",
        "A208_C52: cannot color BE with air",
        "A208_C6: each color used at least once"
      ],
      "rule": "air requirement violation"
    },
    {
      "conclusions": [
        "A208_C54: contradiction in case bus(CD)"
      ],
      "id": "A208_S48",
      "premises": [
        "A208_C35: bus(CD) (wlog by color symmetry)",
        "A208_C53: cannot satisfy nonempty air"
      ],
      "rule": "case contradiction"
    },
    {
      "conclusions": [
        "A208_C55: no such coloring for n=5"
      ],
      "id": "A208_S49",
      "premises": [
        "A208_C33: ¬air(CD)",
        "A208_C54: contradiction in case bus(CD)",
        "A208_C34: bus(CD) ∨ rail(CD)"
      ],
      "rule": "overall impossibility for n=5"
    },
    {
      "conclusions": [
        "A208_C56: n=4"
      ],
      "id": "A208_S50",
      "premises": [
        "A208_C1: maximum n s.t. K_n has 3-edge-coloring with no monochromatic K_3, each color nonempty, no rainbow vertex"
      ],
      "rule": "specific case n=4"
    },
    {
      "conclusions": [
        "A208_C57: bus(AB) ∧ bus(BC) ∧ bus(CD) ∧ bus(DA) ∧ rail(AC) ∧ air(BD)"
      ],
      "id": "A208_S51",
      "premises": [
        "A208_C56: n=4"
      ],
      "rule": "construction"
    },
    {
      "conclusions": [
        "A208_C58: each color nonempty"
      ],
      "id": "A208_S52",
      "premises": [
        "A208_C57: bus(AB) ∧ bus(BC) ∧ bus(CD) ∧ bus(DA) ∧ rail(AC) ∧ air(BD)",
        "A208_C6: each color used at least once"
      ],
      "rule": "verify nonempty colors"
    },
    {
      "conclusions": [
        "A208_C59: no rainbow vertex"
      ],
      "id": "A208_S53",
      "premises": [
        "A208_C57: bus(AB) ∧ bus(BC) ∧ bus(CD) ∧ bus(DA) ∧ rail(AC) ∧ air(BD)",
        "A208_C7: no vertex incident to all three colors"
      ],
      "rule": "verify no rainbow"
    },
    {
      "conclusions": [
        "A208_C60: no monochromatic triangle"
      ],
      "id": "A208_S54",
      "premises": [
        "A208_C57: bus(AB) ∧ bus(BC) ∧ bus(CD) ∧ bus(DA) ∧ rail(AC) ∧ air(BD)",
        "A208_C5: no monochromatic triangle"
      ],
      "rule": "verify no mono triangle"
    },
    {
      "conclusions": [
        "A208_C61: such coloring exists for n=4"
      ],
      "id": "A208_S55",
      "premises": [
        "A208_C58: each color nonempty",
        "A208_C59: no rainbow vertex",
        "A208_C60: no monochromatic triangle"
      ],
      "rule": "validity of construction"
    },
    {
      "conclusions": [
        "A208_C62: maximum n = 4"
      ],
      "id": "A208_S56",
      "premises": [
        "A208_C55: no such coloring for n=5",
        "A208_C61: such coloring exists for n=4"
      ],
      "rule": "final conclusion"
    },
    {
      "conclusions": [
        "A213_C2: f : R → R",
        "A213_C3: ∀x,y ∈ R, f(x^2 - y) + 2 y f(x) = f(f(x)) + f(y)"
      ],
      "id": "A213_S1",
      "premises": [
        "A213_C1: Find all f : R → R such that ∀x,y ∈ R, f(x^2 - y) + 2 y f(x) = f(f(x)) + f(y)"
      ],
      "rule": "problem setup"
    },
    {
      "conclusions": [
        "A213_C4: ∀x ∈ R, f(x^2) = f(f(x)) + f(0)"
      ],
      "id": "A213_S2",
      "premises": [
        "A213_C3: ∀x,y ∈ R, f(x^2 - y) + 2 y f(x) = f(f(x)) + f(y)"
      ],
      "rule": "substitution y=0"
    },
    {
      "conclusions": [
        "A213_C5: f(f(0)) = 0"
      ],
      "id": "A213_S3",
      "premises": [
        "A213_C3: ∀x,y ∈ R, f(x^2 - y) + 2 y f(x) = f(f(x)) + f(y)"
      ],
      "rule": "substitution x=0, y=0"
    },
    {
      "conclusions": [
        "A213_C6: ∀y ∈ R, f(-y) + 2 y f(0) = f(y)"
      ],
      "id": "A213_S4",
      "premises": [
        "A213_C3: ∀x,y ∈ R, f(x^2 - y) + 2 y f(x) = f(f(x)) + f(y)",
        "A213_C5: f(f(0)) = 0"
      ],
      "rule": "substitution x=0"
    },
    {
      "conclusions": [
        "A213_C7: ∀x,y ∈ R, f(x^2 - y^2) + 2 y^2 f(x) = f(f(x)) + f(y^2)"
      ],
      "id": "A213_S5",
      "premises": [
        "A213_C3: ∀x,y ∈ R, f(x^2 - y) + 2 y f(x) = f(f(x)) + f(y)"
      ],
      "rule": "substitution y → y^2"
    },
    {
      "conclusions": [
        "A213_C8: ∀x,y ∈ R, f(y^2 - x^2) + 2 x^2 f(y) = f(f(y)) + f(x^2)"
      ],
      "id": "A213_S6",
      "premises": [
        "A213_C3: ∀x,y ∈ R, f(x^2 - y) + 2 y f(x) = f(f(x)) + f(y)"
      ],
      "rule": "substitution x → y, y → x^2"
    },
    {
      "conclusions": [
        "A213_C9: ∀x,y ∈ R, f(x^2 - y^2) - f(y^2 - x^2) + 2 y^2 f(x) - 2 x^2 f(y) = f(f(x)) + f(y^2) - f(f(y)) - f(x^2)"
      ],
      "id": "A213_S7",
      "premises": [
        "A213_C7: ∀x,y ∈ R, f(x^2 - y^2) + 2 y^2 f(x) = f(f(x)) + f(y^2)",
        "A213_C8: ∀x,y ∈ R, f(y^2 - x^2) + 2 x^2 f(y) = f(f(y)) + f(x^2)"
      ],
      "rule": "subtract equations"
    },
    {
      "conclusions": [
        "A213_C10: ∀z ∈ R, f(f(z)) - f(z^2) = -f(0)"
      ],
      "id": "A213_S8",
      "premises": [
        "A213_C4: ∀x ∈ R, f(x^2) = f(f(x)) + f(0)"
      ],
      "rule": "rearrange C4"
    },
    {
      "conclusions": [
        "A213_C11: ∀x,y ∈ R, f(f(x)) - f(x^2) + f(y^2) - f(f(y)) = 0"
      ],
      "id": "A213_S9",
      "premises": [
        "A213_C9: ∀x,y ∈ R, f(x^2 - y^2) - f(y^2 - x^2) + 2 y^2 f(x) - 2 x^2 f(y) = f(f(x)) + f(y^2) - f(f(y)) - f(x^2)",
        "A213_C10: ∀z ∈ R, f(f(z)) - f(z^2) = -f(0)"
      ],
      "rule": "substitute using C10"
    },
    {
      "conclusions": [
        "A213_C12: ∀x,y ∈ R, f(x^2 - y^2) - f(y^2 - x^2) + 2 y^2 f(x) - 2 x^2 f(y) = 0"
      ],
      "id": "A213_S10",
      "premises": [
        "A213_C11: ∀x,y ∈ R, f(f(x)) - f(x^2) + f(y^2) - f(f(y)) = 0"
      ],
      "rule": "set right side to 0"
    },
    {
      "conclusions": [
        "A213_C13: ∀z ∈ R, f(-z) - f(z) = -2 z f(0)"
      ],
      "id": "A213_S11",
      "premises": [
        "A213_C6: ∀y ∈ R, f(-y) + 2 y f(0) = f(y)"
      ],
      "rule": "rearrange C6"
    },
    {
      "conclusions": [
        "A213_C14: ∀x,y ∈ R, f(x^2 - y^2) - f(y^2 - x^2) = -2 (y^2 - x^2) f(0)"
      ],
      "id": "A213_S12",
      "premises": [
        "A213_C13: ∀z ∈ R, f(-z) - f(z) = -2 z f(0)"
      ],
      "rule": "substitute z = y^2 - x^2"
    },
    {
      "conclusions": [
        "A213_C15: ∀x,y ∈ R, -2 (y^2 - x^2) f(0) + 2 y^2 f(x) - 2 x^2 f(y) = 0"
      ],
      "id": "A213_S13",
      "premises": [
        "A213_C12: ∀x,y ∈ R, f(x^2 - y^2) - f(y^2 - x^2) + 2 y^2 f(x) - 2 x^2 f(y) = 0",
        "A213_C14: ∀x,y ∈ R, f(x^2 - y^2) - f(y^2 - x^2) = -2 (y^2 - x^2) f(0)"
      ],
      "rule": "substitute into difference"
    },
    {
      "conclusions": [
        "A213_C16: ∀x,y ∈ R, (x^2 - y^2) f(0) + y^2 f(x) - x^2 f(y) = 0"
      ],
      "id": "A213_S14",
      "premises": [
        "A213_C15: ∀x,y ∈ R, -2 (y^2 - x^2) f(0) + 2 y^2 f(x) - 2 x^2 f(y) = 0"
      ],
      "rule": "divide by 2"
    },
    {
      "conclusions": [
        "A213_C17: ∀x,y ∈ R, y^2 f(x) - x^2 f(y) = (y^2 - x^2) f(0)"
      ],
      "id": "A213_S15",
      "premises": [
        "A213_C16: ∀x,y ∈ R, (x^2 - y^2) f(0) + y^2 f(x) - x^2 f(y) = 0"
      ],
      "rule": "algebraic rearrangement"
    },
    {
      "conclusions": [
        "A213_C18: ∀x,y ∈ R, y^2 (f(x) - f(0)) = x^2 (f(y) - f(0))"
      ],
      "id": "A213_S16",
      "premises": [
        "A213_C17: ∀x,y ∈ R, y^2 f(x) - x^2 f(y) = (y^2 - x^2) f(0)"
      ],
      "rule": "factor"
    },
    {
      "conclusions": [
        "A213_C19: ∃ c ∈ R ∀x ∈ R, f(x) = c x^2 + f(0)"
      ],
      "id": "A213_S17",
      "premises": [
        "A213_C18: ∀x,y ∈ R, y^2 (f(x) - f(0)) = x^2 (f(y) - f(0))"
      ],
      "rule": "conclude constant ratio"
    },
    {
      "conclusions": [
        "A213_C20: ∀y ∈ R, f(-y) = c y^2 + f(0)"
      ],
      "id": "A213_S18",
      "premises": [
        "A213_C19: ∃ c ∈ R ∀x ∈ R, f(x) = c x^2 + f(0)"
      ],
      "rule": "substitute x = -y"
    },
    {
      "conclusions": [
        "A213_C21: ∀y ∈ R, f(y) = c y^2 + f(0)"
      ],
      "id": "A213_S19",
      "premises": [
        "A213_C19: ∃ c ∈ R ∀x ∈ R, f(x) = c x^2 + f(0)"
      ],
      "rule": "substitute x = y"
    },
    {
      "conclusions": [
        "A213_C22: ∀y ∈ R, 2 y f(0) = 0"
      ],
      "id": "A213_S20",
      "premises": [
        "A213_C6: ∀y ∈ R, f(-y) + 2 y f(0) = f(y)",
        "A213_C20: ∀y ∈ R, f(-y) = c y^2 + f(0)",
        "A213_C21: ∀y ∈ R, f(y) = c y^2 + f(0)"
      ],
      "rule": "substitute into C6"
    },
    {
      "conclusions": [
        "A213_C23: f(0) = 0"
      ],
      "id": "A213_S21",
      "premises": [
        "A213_C22: ∀y ∈ R, 2 y f(0) = 0"
      ],
      "rule": "implication for all y"
    },
    {
      "conclusions": [
        "A213_C24: ∀x ∈ R, f(x) = c x^2"
      ],
      "id": "A213_S22",
      "premises": [
        "A213_C19: ∃ c ∈ R ∀x ∈ R, f(x) = c x^2 + f(0)",
        "A213_C23: f(0) = 0"
      ],
      "rule": "combine with C19"
    },
    {
      "conclusions": [
        "A213_C25: f(x^2 - y) = c (x^2 - y)^2 = c (x^4 - 2 x^2 y + y^2)"
      ],
      "id": "A213_S23",
      "premises": [
        "A213_C24: ∀x ∈ R, f(x) = c x^2"
      ],
      "rule": "apply f to x^2 - y"
    },
    {
      "conclusions": [
        "A213_C26: 2 y f(x) = 2 y c x^2"
      ],
      "id": "A213_S24",
      "premises": [
        "A213_C24: ∀x ∈ R, f(x) = c x^2"
      ],
      "rule": "compute 2 y f(x)"
    },
    {
      "conclusions": [
        "A213_C27: f(x^2 - y) + 2 y f(x) = c x^4 + c y^2"
      ],
      "id": "A213_S25",
      "premises": [
        "A213_C25: f(x^2 - y) = c (x^2 - y)^2 = c (x^4 - 2 x^2 y + y^2)",
        "A213_C26: 2 y f(x) = 2 y c x^2"
      ],
      "rule": "add and simplify left side"
    },
    {
      "conclusions": [
        "A213_C28: f(f(x)) = c^3 x^4"
      ],
      "id": "A213_S26",
      "premises": [
        "A213_C24: ∀x ∈ R, f(x) = c x^2"
      ],
      "rule": "compute f(f(x))"
    },
    {
      "conclusions": [
        "A213_C29: f(y) = c y^2"
      ],
      "id": "A213_S27",
      "premises": [
        "A213_C24: ∀x ∈ R, f(x) = c x^2"
      ],
      "rule": "compute f(y)"
    },
    {
      "conclusions": [
        "A213_C30: f(f(x)) + f(y) = c^3 x^4 + c y^2"
      ],
      "id": "A213_S28",
      "premises": [
        "A213_C28: f(f(x)) = c^3 x^4",
        "A213_C29: f(y) = c y^2"
      ],
      "rule": "add right side"
    },
    {
      "conclusions": [
        "A213_C31: c x^4 + c y^2 = c^3 x^4 + c y^2 ∀x,y ∈ R"
      ],
      "id": "A213_S29",
      "premises": [
        "A213_C27: f(x^2 - y) + 2 y f(x) = c x^4 + c y^2",
        "A213_C30: f(f(x)) + f(y) = c^3 x^4 + c y^2"
      ],
      "rule": "equate sides"
    },
    {
      "conclusions": [
        "A213_C32: c x^4 = c^3 x^4 ∀x ∈ R"
      ],
      "id": "A213_S30",
      "premises": [
        "A213_C31: c x^4 + c y^2 = c^3 x^4 + c y^2 ∀x,y ∈ R"
      ],
      "rule": "simplify equation"
    },
    {
      "conclusions": [
        "A213_C33: (c - c^3) x^4 = 0 ∀x ∈ R"
      ],
      "id": "A213_S31",
      "premises": [
        "A213_C32: c x^4 = c^3 x^4 ∀x ∈ R"
      ],
      "rule": "rearrange"
    },
    {
      "conclusions": [
        "A213_C34: c - c^3 = 0"
      ],
      "id": "A213_S32",
      "premises": [
        "A213_C33: (c - c^3) x^4 = 0 ∀x ∈ R"
      ],
      "rule": "implication"
    },
    {
      "conclusions": [
        "A213_C35: c (c^2 - 1) = 0"
      ],
      "id": "A213_S33",
      "premises": [
        "A213_C34: c - c^3 = 0"
      ],
      "rule": "factor"
    },
    {
      "conclusions": [
        "A213_C36: c = 0 ∨ c^2 = 1"
      ],
      "id": "A213_S34",
      "premises": [
        "A213_C35: c (c^2 - 1) = 0"
      ],
      "rule": "solve equation"
    },
    {
      "conclusions": [
        "A213_C37: c ∈ {-1, 0, 1}"
      ],
      "id": "A213_S35",
      "premises": [
        "A213_C36: c = 0 ∨ c^2 = 1"
      ],
      "rule": "explicit solutions"
    },
    {
      "conclusions": [
        "A213_C38: f(x) = x^2, f(x) = -x^2, f(x) = 0"
      ],
      "id": "A213_S36",
      "premises": [
        "A213_C24: ∀x ∈ R, f(x) = c x^2",
        "A213_C37: c ∈ {-1, 0, 1}"
      ],
      "rule": "final conclusion"
    },
    {
      "conclusions": [
        "A213_C1: Find all f : R → R such that ∀x,y ∈ R, f(x^2 - y) + 2 y f(x) = f(f(x)) + f(y)"
      ],
      "id": "B10403_S1",
      "premises": [
        "B10403_C1: Find all f : R → R such that ∀x,y ∈ R, f(x^(n - 2) - y) + (n - 2) y f(x) = f(f(x)) + f(y)",
        "A208_C56: n=4"
      ],
      "rule": "problem connection"
    },
    {
      "conclusions": [
        "A3273_C2: p \\in \\mathbb{Q}^2 \\Leftrightarrow p = (x,y),\\ x,y \\in \\mathbb{Q}"
      ],
      "id": "A3273_S1",
      "premises": [
        "A3273_C1: \\max |S| = 2 \\ \forall S \\subseteq \\mathbb{Q}^2 \text{ rational pts on circle } c \text{ with center}(c) \notin \\mathbb{Q}^2"
      ],
      "rule": "problem setup"
    },
    {
      "conclusions": [
        "A3273_C3: P = (0,0) \\in \\mathbb{Q}^2",
        "A3273_C4: Q = (1,0) \\in \\mathbb{Q}^2"
      ],
      "id": "A3273_S2",
      "premises": [
        "A3273_C2: p \\in \\mathbb{Q}^2 \\Leftrightarrow p = (x,y),\\ x,y \\in \\mathbb{Q}"
      ],
      "rule": "define example points"
    },
    {
      "conclusions": [
        "A3273_C5: O = (\frac{1}{2}, x),\\ x \notin \\mathbb{Q}"
      ],
      "id": "A3273_S3",
      "premises": [
        "A3273_C2: p \\in \\mathbb{Q}^2 \\Leftrightarrow p = (x,y),\\ x,y \\in \\mathbb{Q}"
      ],
      "rule": "define example center"
    },
    {
      "conclusions": [
        "A3273_C6: O \notin \\mathbb{Q}^2"
      ],
      "id": "A3273_S4",
      "premises": [
        "A3273_C5: O = (\frac{1}{2}, x),\\ x \notin \\mathbb{Q}"
      ],
      "rule": "center irrational"
    },
    {
      "conclusions": [
        "A3273_C7: \\|O - P\\|^2 = (\frac{1}{2})^2 + x^2 = \frac{1}{4} + x^2"
      ],
      "id": "A3273_S5",
      "premises": [
        "A3273_C3: P = (0,0) \\in \\mathbb{Q}^2",
        "A3273_C5: O = (\frac{1}{2}, x),\\ x \notin \\mathbb{Q}"
      ],
      "rule": "squared distance calculation"
    },
    {
      "conclusions": [
        "A3273_C8: \\|O - Q\\|^2 = (\frac{1}{2} - 1)^2 + x^2 = \frac{1}{4} + x^2"
      ],
      "id": "A3273_S6",
      "premises": [
        "A3273_C4: Q = (1,0) \\in \\mathbb{Q}^2",
        "A3273_C5: O = (\frac{1}{2}, x),\\ x \notin \\mathbb{Q}"
      ],
      "rule": "squared distance calculation"
    },
    {
      "conclusions": [
        "A3273_C9: \\|O - P\\|^2 = \\|O - Q\\|^2"
      ],
      "id": "A3273_S7",
      "premises": [
        "A3273_C7: \\|O - P\\|^2 = (\frac{1}{2})^2 + x^2 = \frac{1}{4} + x^2",
        "A3273_C8: \\|O - Q\\|^2 = (\frac{1}{2} - 1)^2 + x^2 = \frac{1}{4} + x^2"
      ],
      "rule": "equality"
    },
    {
      "conclusions": [
        "A3273_C10: P, Q \text{ lie on circle center } O,\\ r = \\|O - P\\|"
      ],
      "id": "A3273_S8",
      "premises": [
        "A3273_C9: \\|O - P\\|^2 = \\|O - Q\\|^2"
      ],
      "rule": "equidistant points on circle"
    },
    {
      "conclusions": [
        "A3273_C11: \\exists c \text{ circle, center}(c) \notin \\mathbb{Q}^2,\\ |\\{P,Q\\}| = 2 \text{ rational pts on } c"
      ],
      "id": "A3273_S9",
      "premises": [
        "A3273_C6: O \notin \\mathbb{Q}^2",
        "A3273_C10: P, Q \text{ lie on circle center } O,\\ r = \\|O - P\\|"
      ],
      "rule": "existence lower bound"
    },
    {
      "conclusions": [
        "A3273_C12: \\exists P,Q,R \\in \\mathbb{Q}^2 \text{ distinct on circle } c"
      ],
      "id": "A3273_S10",
      "premises": [
        "A3273_C1: \\max |S| = 2 \\ \forall S \\subseteq \\mathbb{Q}^2 \text{ rational pts on circle } c \text{ with center}(c) \notin \\mathbb{Q}^2",
        "A3273_C2: p \\in \\mathbb{Q}^2 \\Leftrightarrow p = (x,y),\\ x,y \\in \\mathbb{Q}"
      ],
      "rule": "assumption for upper bound proof"
    },
    {
      "conclusions": [
        "A3273_C13: M = \frac{P+Q}{2} \\in \\mathbb{Q}^2 \text{ midpoint PQ}"
      ],
      "id": "A3273_S11",
      "premises": [
        "A3273_C12: \\exists P,Q,R \\in \\mathbb{Q}^2 \text{ distinct on circle } c",
        "A3273_C2: p \\in \\mathbb{Q}^2 \\Leftrightarrow p = (x,y),\\ x,y \\in \\mathbb{Q}"
      ],
      "rule": "midpoint computation"
    },
    {
      "conclusions": [
        "A3273_C14: slope PQ = \frac{d-b}{c-a} \\in \\mathbb{Q} \\cup \\{\\infty\\},\\ P=(a,b), Q=(c,d)"
      ],
      "id": "A3273_S12",
      "premises": [
        "A3273_C12: \\exists P,Q,R \\in \\mathbb{Q}^2 \text{ distinct on circle } c",
        "A3273_C2: p \\in \\mathbb{Q}^2 \\Leftrightarrow p = (x,y),\\ x,y \\in \\mathbb{Q}"
      ],
      "rule": "slope of PQ"
    },
    {
      "conclusions": [
        "A3273_C15: slope perp to PQ \\in \\mathbb{Q} \\cup \\{\\infty\\}"
      ],
      "id": "A3273_S13",
      "premises": [
        "A3273_C14: slope PQ = \frac{d-b}{c-a} \\in \\mathbb{Q} \\cup \\{\\infty\\},\\ P=(a,b), Q=(c,d)",
        "A3273_C2: p \\in \\mathbb{Q}^2 \\Leftrightarrow p = (x,y),\\ x,y \\in \\mathbb{Q}"
      ],
      "rule": "perpendicular slope"
    },
    {
      "conclusions": [
        "A3273_C16: perp bisector PQ: A x + B y = C,\\ A,B,C \\in \\mathbb{Q}"
      ],
      "id": "A3273_S14",
      "premises": [
        "A3273_C13: M = \frac{P+Q}{2} \\in \\mathbb{Q}^2 \text{ midpoint PQ}",
        "A3273_C15: slope perp to PQ \\in \\mathbb{Q} \\cup \\{\\infty\\}"
      ],
      "rule": "line equation from point and slope"
    },
    {
      "conclusions": [
        "A3273_C17: perp bisector QR: D x + E y = F,\\ D,E,F \\in \\mathbb{Q}"
      ],
      "id": "A3273_S15",
      "premises": [
        "A3273_C12: \\exists P,Q,R \\in \\mathbb{Q}^2 \text{ distinct on circle } c",
        "A3273_C2: p \\in \\mathbb{Q}^2 \\Leftrightarrow p = (x,y),\\ x,y \\in \\mathbb{Q}"
      ],
      "rule": "analogous for QR"
    },
    {
      "conclusions": [
        "A3273_C18: center O solves A g + B h = C,\\ D g + E h = F"
      ],
      "id": "A3273_S16",
      "premises": [
        "A3273_C12: \\exists P,Q,R \\in \\mathbb{Q}^2 \text{ distinct on circle } c"
      ],
      "rule": "center on perp bisectors"
    },
    {
      "conclusions": [
        "A3273_C19: \\Delta = A E - B D \\in \\mathbb{Q},\\ \\Delta \neq 0"
      ],
      "id": "A3273_S17",
      "premises": [
        "A3273_C16: perp bisector PQ: A x + B y = C,\\ A,B,C \\in \\mathbb{Q}",
        "A3273_C17: perp bisector QR: D x + E y = F,\\ D,E,F \\in \\mathbb{Q}"
      ],
      "rule": "determinant"
    },
    {
      "conclusions": [
        "A3273_C20: g = \frac{C E - B F}{\\Delta} \\in \\mathbb{Q},\\ h = \frac{A F - D C}{\\Delta} \\in \\mathbb{Q}"
      ],
      "id": "A3273_S18",
      "premises": [
        "A3273_C16: perp bisector PQ: A x + B y = C,\\ A,B,C \\in \\mathbb{Q}",
        "A3273_C17: perp bisector QR: D x + E y = F,\\ D,E,F \\in \\mathbb{Q}",
        "A3273_C18: center O solves A g + B h = C,\\ D g + E h = F",
        "A3273_C19: \\Delta = A E - B D \\in \\mathbb{Q},\\ \\Delta \neq 0"
      ],
      "rule": "Cramer's rule application"
    },
    {
      "conclusions": [
        "A3273_C21: O = (g,h) \\in \\mathbb{Q}^2"
      ],
      "id": "A3273_S19",
      "premises": [
        "A3273_C20: g = \frac{C E - B F}{\\Delta} \\in \\mathbb{Q},\\ h = \frac{A F - D C}{\\Delta} \\in \\mathbb{Q}"
      ],
      "rule": "center rational"
    },
    {
      "conclusions": [
        "A3273_C22: \\exists 3 \text{ rational pts on } c \\Rightarrow \text{center}(c) \\in \\mathbb{Q}^2"
      ],
      "id": "A3273_S20",
      "premises": [
        "A3273_C12: \\exists P,Q,R \\in \\mathbb{Q}^2 \text{ distinct on circle } c",
        "A3273_C21: O = (g,h) \\in \\mathbb{Q}^2"
      ],
      "rule": "implication from assumption"
    },
    {
      "conclusions": [
        "A3273_C23: \text{center}(c) \notin \\mathbb{Q}^2 \\Rightarrow |S| \\leq 2,\\ S \text{ rational pts on } c"
      ],
      "id": "A3273_S21",
      "premises": [
        "A3273_C22: \\exists 3 \text{ rational pts on } c \\Rightarrow \text{center}(c) \\in \\mathbb{Q}^2"
      ],
      "rule": "contrapositive"
    },
    {
      "conclusions": [
        "A3273_C24: \\max |S| = 2"
      ],
      "id": "A3273_S22",
      "premises": [
        "A3273_C11: \\exists c \text{ circle, center}(c) \notin \\mathbb{Q}^2,\\ |\\{P,Q\\}| = 2 \text{ rational pts on } c",
        "A3273_C23: \text{center}(c) \notin \\mathbb{Q}^2 \\Rightarrow |S| \\leq 2,\\ S \text{ rational pts on } c"
      ],
      "rule": "combine bounds"
    },
    {
      "conclusions": [
        "A3273_C1: \\max |S| = 2 \\ \forall S \\subseteq \\mathbb{Q}^2 \text{ rational pts on circle } c \text{ with center}(c) \notin \\mathbb{Q}^2"
      ],
      "id": "B2719_S1",
      "premises": [
        "B2719_C1: \\max |S| = (f(0) + 2) \\ \forall S \\subseteq \\mathbb{Q}^2 \text{ rational pts on circle } c \text{ with center}(c) \notin \\mathbb{Q}^2",
        "A213_C23: f(0) = 0"
      ],
      "rule": "problem connection"
    }
  ],
  "Sub_Class_ID": [
    {
      "A208": "A208_DG_1"
    },
    {
      "A213": "A213_DG_1"
    },
    {
      "A3273": "A3273_OG_1"
    }
  ],
  "Synthesised_By": [
    {
      "A208": "What is the largest number of towns that can meet the following criteria. Each pair is directly linked by just one of air, bus or train. At least one pair is linked by air, at least one pair by bus and at least one pair by train. No town has an air link, a bus link and a train link. No three towns, $A, B, C$ are such that the links between $AB, AC$ and $BC$ are all air, all bus or all train."
    },
    {
      "A213": "Find all functions $f:\\mathbb{R}\\rightarrow\\mathbb{R}$ that satisfy \\[f(x^2-y)+2yf(x)=f(f(x))+f(y)\\] for all $x,y\\in\\mathbb{R}$ ."
    },
    {
      "A3273": "What is the maximum number of rational points that can lie on a circle in $\\mathbb{R}^2$ whose center is not a rational point? (A \\emph{rational point} is a point both of whose coordinates are rational numbers.)"
    }
  ],
  "Synthesised_Problem_Length": 1121,
  "Synthesised_Status": "Stop",
  "Total_Claims": [
    {
      "A208": 62
    },
    {
      "A213": 38
    },
    {
      "A3273": 24
    }
  ],
  "Total_Delta": [
    {
      "A208": 1
    },
    {
      "A213": 2
    },
    {
      "A3273": 0
    }
  ],
  "Total_Delta_Socket": [
    {
      "A208": 1
    },
    {
      "A213": 1
    },
    {
      "A3273": 1
    }
  ],
  "Variable_Names": [
    {
      "A208": [
        "A",
        "B",
        "C"
      ]
    },
    {
      "A213": [
        "f",
        "R",
        "x",
        "y"
      ]
    },
    {
      "A3273": [
        "R"
      ]
    }
  ]
}
