{
  "Chunk_Type": "T3",
  "Claims": [
    {
      "expr": "sum of all distinct possible values of p = a/b with gcd(a,b)=1, compute 100a + b",
      "id": "A870_C1",
      "type": "goal"
    },
    {
      "expr": "initial total socks n_0 = 20",
      "id": "A870_C2",
      "type": "context"
    },
    {
      "expr": "initial b_0 black, w_0 = 20 - b_0 white",
      "id": "A870_C3",
      "type": "context"
    },
    {
      "expr": "0 ≤ b_0 ≤ 20, integer",
      "id": "A870_C4",
      "type": "context"
    },
    {
      "expr": "remove one sock uniformly at random each step",
      "id": "A870_C5",
      "type": "context"
    },
    {
      "expr": "n_i = 20 - i",
      "id": "A870_C6",
      "type": "derived"
    },
    {
      "expr": "r_i = b_i / n_i",
      "id": "A870_C7",
      "type": "derived"
    },
    {
      "expr": "E[r_{i+1} | F_i] = r_i",
      "id": "A870_C8",
      "type": "derived"
    },
    {
      "expr": "wlog b_0 ≤ 10",
      "id": "A870_C9",
      "type": "derived"
    },
    {
      "expr": "τ = min{i ≥ 0 : b_i = 0 or b_i = w_i}",
      "id": "A870_C10",
      "type": "derived"
    },
    {
      "expr": "if b_τ = w_τ > 0 then r_τ = 1/2; if b_τ = 0 then r_τ = 0",
      "id": "A870_C11",
      "type": "derived"
    },
    {
      "expr": "p = P(b_τ = w_τ > 0)",
      "id": "A870_C12",
      "type": "derived"
    },
    {
      "expr": "E[r_τ] = r_0 = b_0 / 20",
      "id": "A870_C13",
      "type": "derived"
    },
    {
      "expr": "E[r_τ] = p/2",
      "id": "A870_C14",
      "type": "derived"
    },
    {
      "expr": "p = 2 b_0 / (b_0 + w_0) for b_0 < w_0",
      "id": "A870_C15",
      "type": "derived"
    },
    {
      "expr": "for b_0 = 10, after first removal: n_1 = 19, min(b_1, w_1) = 9",
      "id": "A870_C16",
      "type": "derived"
    },
    {
      "expr": "p = 2 \\cdot 9 / 19 = 18/19 for b_0 = 10",
      "id": "A870_C17",
      "type": "derived"
    },
    {
      "expr": "distinct p for b_0 = 0 to 10: p_k = k/10 for k=0 to 9, p_{10} = 18/19",
      "id": "A870_C18",
      "type": "derived"
    },
    {
      "expr": "\\sum_{k=0}^9 k/10 = (1/10) \\sum_{k=0}^9 k = (1/10) \\cdot 45 = 9/2",
      "id": "A870_C19",
      "type": "derived"
    },
    {
      "expr": "9/2 + 18/19 = 171/38 + 36/38 = 207/38",
      "id": "A870_C20",
      "type": "derived"
    },
    {
      "expr": "a=207, b=38, gcd(207,38)=1, 100a + b = 20738",
      "id": "A870_C21",
      "type": "final"
    },
    {
      "expr": "E_1 (n=2018)",
      "id": "A1580_C1",
      "type": "derived"
    },
    {
      "expr": "There are n frogs in total.",
      "id": "A1580_C2",
      "type": "context"
    },
    {
      "expr": "n=2018",
      "id": "A1580_C3",
      "type": "context"
    },
    {
      "expr": "Let E_i be the expected time to reach i=0 starting from i frogs on the shore.",
      "id": "A1580_C4",
      "type": "context"
    },
    {
      "expr": "E_0 = 0",
      "id": "A1580_C5",
      "type": "context"
    },
    {
      "expr": "E_n = 1 + E_{n-1}",
      "id": "A1580_C6",
      "type": "context"
    },
    {
      "expr": "∀ 0 < i < n, E_i = (i/n) E_{i-1} + ((n-i)/n) E_{i+1} + 1",
      "id": "A1580_C7",
      "type": "context"
    },
    {
      "expr": "d_i = ∏_{k=i}^{n-1} k for i=1 to n (d_n=1)",
      "id": "A1580_C8",
      "type": "derived"
    },
    {
      "expr": "d_i = (n-1)! / (i-1)!",
      "id": "A1580_C9",
      "type": "derived"
    },
    {
      "expr": "E_i = E_{i-1} + f_i / d_i for i=1 to n",
      "id": "A1580_C10",
      "type": "derived"
    },
    {
      "expr": "f_n = 1",
      "id": "A1580_C11",
      "type": "derived"
    },
    {
      "expr": "f_i = (n-i) f_{i+1} + n! / i! for i=1 to n-1",
      "id": "A1580_C12",
      "type": "derived"
    },
    {
      "expr": "f_1 = ∑_{k=1}^n (n! / k!) ⋅ ∏_{j=1}^{k-1} (n-j)",
      "id": "A1580_C13",
      "type": "derived"
    },
    {
      "expr": "∏_{j=1}^{k-1} (n-j) = (n-1)! / (n-k)! for k=2 to n",
      "id": "A1580_C14",
      "type": "derived"
    },
    {
      "expr": "(n! / k!) ⋅ ((n-1)! / (n-k)!) = (n-1)! ⋅ \binom{n}{k}",
      "id": "A1580_C15",
      "type": "derived"
    },
    {
      "expr": "f_1 = (n-1)! ⋅ ∑_{k=1}^n \binom{n}{k}",
      "id": "A1580_C16",
      "type": "derived"
    },
    {
      "expr": "∑_{k=0}^n \binom{n}{k} = 2^n",
      "id": "A1580_C17",
      "type": "derived"
    },
    {
      "expr": "∑_{k=1}^n \binom{n}{k} = 2^n - 1",
      "id": "A1580_C18",
      "type": "derived"
    },
    {
      "expr": "f_1 = (n-1)! (2^n - 1)",
      "id": "A1580_C19",
      "type": "derived"
    },
    {
      "expr": "d_1 = (n-1)!",
      "id": "A1580_C20",
      "type": "derived"
    },
    {
      "expr": "E_1 = f_1 / d_1 + E_0",
      "id": "A1580_C21",
      "type": "derived"
    },
    {
      "expr": "E_1 = 2^n - 1",
      "id": "A1580_C22",
      "type": "derived"
    },
    {
      "expr": "2^{2018} - 1",
      "id": "A1580_C23",
      "type": "final"
    },
    {
      "expr": "E_1 (n=(p_{10} + 38324/19))",
      "id": "B2079_C1",
      "type": "goal"
    },
    {
      "expr": "\\sum_{n=1}^{\\infty} \frac{n}{n^{4}+4}",
      "id": "A487_C1",
      "type": "derived"
    },
    {
      "expr": "n^{4} + 4 = (n^{2} - 2n + 2)(n^{2} + 2n + 2)",
      "id": "A487_C2",
      "type": "context"
    },
    {
      "expr": "\frac{n}{(n^{2} - 2n + 2)(n^{2} + 2n + 2)} = \frac{1}{4} \\left( \frac{1}{n^{2} - 2n + 2} - \frac{1}{n^{2} + 2n + 2} \right)",
      "id": "A487_C3",
      "type": "derived"
    },
    {
      "expr": "n^{2} - 2n + 2 = (n-1)^{2} + 1",
      "id": "A487_C4",
      "type": "derived"
    },
    {
      "expr": "n^{2} + 2n + 2 = (n+1)^{2} + 1",
      "id": "A487_C5",
      "type": "derived"
    },
    {
      "expr": "\\sum_{n=1}^{\\infty} \frac{n}{n^{4}+4} = \frac{1}{4} \\sum_{n=1}^{\\infty} \\left( \frac{1}{(n-1)^{2} + 1} - \frac{1}{(n+1)^{2} + 1} \right)",
      "id": "A487_C6",
      "type": "derived"
    },
    {
      "expr": "\\sum_{n=1}^{N} \frac{n}{n^{4}+4} = \frac{1}{4} \\left( \frac{1}{0^{2}+1} + \frac{1}{1^{2}+1} - \frac{1}{N^{2} + 1} - \frac{1}{(N+1)^{2} + 1} \right)",
      "id": "A487_C7",
      "type": "derived"
    },
    {
      "expr": "\\sum_{n=1}^{\\infty} \frac{n}{n^{4}+4} = \frac{3}{8}",
      "id": "A487_C8",
      "type": "final"
    },
    {
      "expr": "\\sum_{n=1}^{\\infty} \frac{n}{n^{4}+(f_n + 3)}",
      "id": "D2069_C1",
      "type": "goal"
    }
  ],
  "Class_ID": [
    "D2079",
    "F2069"
  ],
  "Connecting_Point": [
    {
      "B2079": {
        "2018": "(p_{10} + 38324/19)"
      }
    },
    {
      "D2069": {
        "4": "(f_n + 3)"
      }
    }
  ],
  "Delta_Depth": [
    {
      "A870": {
        "p_{10}": 18
      }
    },
    {
      "A1580": {
        "f_n": 11
      }
    },
    {
      "A487": 0
    }
  ],
  "Delta_Factor": [
    {
      "A870": 0.86
    },
    {
      "A1580": 0.48
    },
    {
      "A487": 0
    }
  ],
  "Delta_Socket": [
    {
      "A870": {
        "1": 1.0
      }
    },
    {
      "A1580": {
        "2018": 2018.0
      }
    },
    {
      "A487": {
        "4": 4.0
      }
    }
  ],
  "Delta_Socket_Order": [
    {
      "A870": 1
    },
    {
      "A1580": 1
    },
    {
      "A487": 1
    }
  ],
  "Delta_Source": [
    {
      "A870": "derived"
    },
    {
      "A1580": "derived"
    },
    {
      "A487": ""
    }
  ],
  "Delta_Value": [
    {
      "A870": {
        "p_{10}": "18/19"
      }
    },
    {
      "A1580": {
        "f_n": "1"
      }
    },
    {
      "A487": {}
    }
  ],
  "Delta_Value_Order": [
    {
      "A870": 2
    },
    {
      "A1580": 1
    },
    {
      "A487": 0
    }
  ],
  "Delta_Variable_Names": [
    {
      "A870": [
        "p"
      ]
    },
    {
      "A1580": [
        "f"
      ]
    },
    {
      "A487": []
    }
  ],
  "Ground_Truth": [
    {
      "A870": "20738"
    },
    {
      "A1580": "2^{2018}-1"
    },
    {
      "A487": "\\frac{3}{8}"
    }
  ],
  "Math_Problem": "Roger initially has 20 socks in a drawer, each of which is either white or black. He chooses a sock uniformly at random from the drawer and throws it away. He repeats this action until there are equal numbers of white and black socks remaining. Suppose that the probability he stops before all socks are gone is $p$. If the sum of all distinct possible values of $p$ over all initial combinations of socks is $\\frac{a}{b}$ for relatively prime positive integers $a$ and $b$, compute $100 a+b$. Instead of computing the sum of all distinct possible values of the stopping probability over all initial combinations of socks, simply find $p_{10}$, the stopping probability when the drawer initially contains an equal number of white and black socks. There are $p_{10} + \\frac{38324}{19}$ frogs in a pool and there is 1 frog on the shore. In each time-step thereafter, one random frog moves position. If it was in the pool, it jumps to the shore, and vice versa. Find the expected number of time-steps before all frogs are in the pool for the first time. Instead of finding the expected number of time-steps until all frogs return to the pool, simply find $k = f_n + 3$, where $f_n$ is the boundary scaling factor in the differences of expected times between consecutive states, derived from the recurrence relations for expected times in the frog movement process. Evaluate the infinite sum $\\sum_{n=1}^{\\infty} \\frac{n}{n^{4}+k}$.",
  "Max_Delta_Depth": [
    {
      "A870": 18
    },
    {
      "A1580": 11
    },
    {
      "A487": 0
    }
  ],
  "Max_Delta_Factor": [
    {
      "A870": 0.86
    },
    {
      "A1580": 0.48
    },
    {
      "A487": 0
    }
  ],
  "Min_Delta_Depth": [
    {
      "A870": 16
    },
    {
      "A1580": 11
    },
    {
      "A487": 0
    }
  ],
  "Min_Delta_Factor": [
    {
      "A870": 0.76
    },
    {
      "A1580": 0.48
    },
    {
      "A487": 0
    }
  ],
  "Multiple_Synthesis_Class": "MP3",
  "Predicted_Answer": [
    {
      "A870": "20738"
    },
    {
      "A1580": "2^{2018}-1"
    },
    {
      "A487": "\frac{3}{8}"
    }
  ],
  "Problem_ID": 38,
  "Problem_Length": [
    {
      "A870": 492
    },
    {
      "A1580": 280
    },
    {
      "A487": 66
    }
  ],
  "Problem_Level": [
    {
      "A870": "KbsdJames_Omni-MATH_5.25"
    },
    {
      "A1580": "KbsdJames_Omni-MATH_5.0"
    },
    {
      "A487": "KbsdJames_Omni-MATH_5.25"
    }
  ],
  "Problem_Source": [
    {
      "A870": "HMMT_2"
    },
    {
      "A1580": "HMMT_2"
    },
    {
      "A487": "HMMT_2"
    }
  ],
  "Problem_Type": [
    {
      "A870": [
        "Mathematics -> Applied Mathematics -> Statistics -> Probability -> Other"
      ]
    },
    {
      "A1580": [
        "Mathematics -> Applied Mathematics -> Statistics -> Probability -> Other"
      ]
    },
    {
      "A487": [
        "Mathematics -> Calculus -> Integral Calculus -> Techniques of Integration -> Single-variable",
        "Mathematics -> Algebra -> Algebra -> Polynomial Operations"
      ]
    }
  ],
  "Source_Delta_Socket": [
    {
      "A870": "goal"
    },
    {
      "A1580": "goal"
    },
    {
      "A487": "goal"
    }
  ],
  "Steps": [
    {
      "conclusions": [
        "A870_C2: initial total socks n_0 = 20",
        "A870_C3: initial b_0 black, w_0 = 20 - b_0 white",
        "A870_C4: 0 ≤ b_0 ≤ 20, integer",
        "A870_C5: remove one sock uniformly at random each step"
      ],
      "id": "A870_S1",
      "premises": [
        "A870_C1: sum of all distinct possible values of p = a/b with gcd(a,b)=1, compute 100a + b"
      ],
      "rule": "problem setup"
    },
    {
      "conclusions": [
        "A870_C6: n_i = 20 - i"
      ],
      "id": "A870_S2",
      "premises": [
        "A870_C2: initial total socks n_0 = 20"
      ],
      "rule": "remaining socks definition"
    },
    {
      "conclusions": [
        "A870_C7: r_i = b_i / n_i"
      ],
      "id": "A870_S3",
      "premises": [
        "A870_C3: initial b_0 black, w_0 = 20 - b_0 white",
        "A870_C6: n_i = 20 - i"
      ],
      "rule": "ratio definition"
    },
    {
      "conclusions": [
        "A870_C8: E[r_{i+1} | F_i] = r_i"
      ],
      "id": "A870_S4",
      "premises": [
        "A870_C5: remove one sock uniformly at random each step",
        "A870_C7: r_i = b_i / n_i"
      ],
      "rule": "conditional expectation computation"
    },
    {
      "conclusions": [
        "A870_C9: wlog b_0 ≤ 10"
      ],
      "id": "A870_S5",
      "premises": [
        "A870_C3: initial b_0 black, w_0 = 20 - b_0 white",
        "A870_C4: 0 ≤ b_0 ≤ 20, integer"
      ],
      "rule": "symmetry assumption"
    },
    {
      "conclusions": [
        "A870_C10: τ = min{i ≥ 0 : b_i = 0 or b_i = w_i}"
      ],
      "id": "A870_S6",
      "premises": [
        "A870_C3: initial b_0 black, w_0 = 20 - b_0 white"
      ],
      "rule": "stopping time definition"
    },
    {
      "conclusions": [
        "A870_C11: if b_τ = w_τ > 0 then r_τ = 1/2; if b_τ = 0 then r_τ = 0"
      ],
      "id": "A870_S7",
      "premises": [
        "A870_C7: r_i = b_i / n_i",
        "A870_C10: τ = min{i ≥ 0 : b_i = 0 or b_i = w_i}"
      ],
      "rule": "value at stopping"
    },
    {
      "conclusions": [
        "A870_C12: p = P(b_τ = w_τ > 0)"
      ],
      "id": "A870_S8",
      "premises": [
        "A870_C4: 0 ≤ b_0 ≤ 20, integer",
        "A870_C10: τ = min{i ≥ 0 : b_i = 0 or b_i = w_i}"
      ],
      "rule": "probability definition"
    },
    {
      "conclusions": [
        "A870_C13: E[r_τ] = r_0 = b_0 / 20"
      ],
      "id": "A870_S9",
      "premises": [
        "A870_C8: E[r_{i+1} | F_i] = r_i",
        "A870_C10: τ = min{i ≥ 0 : b_i = 0 or b_i = w_i}"
      ],
      "rule": "optional stopping theorem"
    },
    {
      "conclusions": [
        "A870_C14: E[r_τ] = p/2"
      ],
      "id": "A870_S10",
      "premises": [
        "A870_C11: if b_τ = w_τ > 0 then r_τ = 1/2; if b_τ = 0 then r_τ = 0",
        "A870_C12: p = P(b_τ = w_τ > 0)"
      ],
      "rule": "expectation at stopping"
    },
    {
      "conclusions": [
        "A870_C15: p = 2 b_0 / (b_0 + w_0) for b_0 < w_0"
      ],
      "id": "A870_S11",
      "premises": [
        "A870_C13: E[r_τ] = r_0 = b_0 / 20",
        "A870_C14: E[r_τ] = p/2"
      ],
      "rule": "solve equation"
    },
    {
      "conclusions": [
        "A870_C16: for b_0 = 10, after first removal: n_1 = 19, min(b_1, w_1) = 9"
      ],
      "id": "A870_S12",
      "premises": [
        "A870_C2: initial total socks n_0 = 20",
        "A870_C3: initial b_0 black, w_0 = 20 - b_0 white",
        "A870_C9: wlog b_0 ≤ 10"
      ],
      "rule": "initial equal case analysis"
    },
    {
      "conclusions": [
        "A870_C17: p = 2 \\cdot 9 / 19 = 18/19 for b_0 = 10"
      ],
      "id": "A870_S13",
      "premises": [
        "A870_C15: p = 2 b_0 / (b_0 + w_0) for b_0 < w_0",
        "A870_C16: for b_0 = 10, after first removal: n_1 = 19, min(b_1, w_1) = 9"
      ],
      "rule": "apply formula to substate"
    },
    {
      "conclusions": [
        "A870_C18: distinct p for b_0 = 0 to 10: p_k = k/10 for k=0 to 9, p_{10} = 18/19"
      ],
      "id": "A870_S14",
      "premises": [
        "A870_C4: 0 ≤ b_0 ≤ 20, integer",
        "A870_C9: wlog b_0 ≤ 10",
        "A870_C15: p = 2 b_0 / (b_0 + w_0) for b_0 < w_0",
        "A870_C17: p = 2 \\cdot 9 / 19 = 18/19 for b_0 = 10"
      ],
      "rule": "distinct values identification"
    },
    {
      "conclusions": [
        "A870_C19: \\sum_{k=0}^9 k/10 = (1/10) \\sum_{k=0}^9 k = (1/10) \\cdot 45 = 9/2"
      ],
      "id": "A870_S15",
      "premises": [
        "A870_C18: distinct p for b_0 = 0 to 10: p_k = k/10 for k=0 to 9, p_{10} = 18/19"
      ],
      "rule": "sum computation"
    },
    {
      "conclusions": [
        "A870_C20: 9/2 + 18/19 = 171/38 + 36/38 = 207/38"
      ],
      "id": "A870_S16",
      "premises": [
        "A870_C19: \\sum_{k=0}^9 k/10 = (1/10) \\sum_{k=0}^9 k = (1/10) \\cdot 45 = 9/2"
      ],
      "rule": "fraction addition"
    },
    {
      "conclusions": [
        "A870_C21: a=207, b=38, gcd(207,38)=1, 100a + b = 20738"
      ],
      "id": "A870_S17",
      "premises": [
        "A870_C20: 9/2 + 18/19 = 171/38 + 36/38 = 207/38"
      ],
      "rule": "final computation"
    },
    {
      "conclusions": [
        "A1580_C2: There are n frogs in total.",
        "A1580_C3: n=2018",
        "A1580_C4: Let E_i be the expected time to reach i=0 starting from i frogs on the shore.",
        "A1580_C5: E_0 = 0",
        "A1580_C6: E_n = 1 + E_{n-1}",
        "A1580_C7: ∀ 0 < i < n, E_i = (i/n) E_{i-1} + ((n-i)/n) E_{i+1} + 1"
      ],
      "id": "A1580_S1",
      "premises": [
        "A1580_C1: E_1 (n=2018)"
      ],
      "rule": "problem setup"
    },
    {
      "conclusions": [
        "A1580_C8: d_i = ∏_{k=i}^{n-1} k for i=1 to n (d_n=1)"
      ],
      "id": "A1580_S2",
      "premises": [
        "A1580_C2: There are n frogs in total."
      ],
      "rule": "define product denominator"
    },
    {
      "conclusions": [
        "A1580_C9: d_i = (n-1)! / (i-1)!"
      ],
      "id": "A1580_S3",
      "premises": [
        "A1580_C8: d_i = ∏_{k=i}^{n-1} k for i=1 to n (d_n=1)"
      ],
      "rule": "express product as factorial ratio"
    },
    {
      "conclusions": [
        "A1580_C10: E_i = E_{i-1} + f_i / d_i for i=1 to n"
      ],
      "id": "A1580_S4",
      "premises": [
        "A1580_C7: ∀ 0 < i < n, E_i = (i/n) E_{i-1} + ((n-i)/n) E_{i+1} + 1",
        "A1580_C9: d_i = (n-1)! / (i-1)!"
      ],
      "rule": "assume form E_i = E_{i-1} + f_i / d_i to solve recurrence"
    },
    {
      "conclusions": [
        "A1580_C11: f_n = 1"
      ],
      "id": "A1580_S5",
      "premises": [
        "A1580_C6: E_n = 1 + E_{n-1}",
        "A1580_C10: E_i = E_{i-1} + f_i / d_i for i=1 to n"
      ],
      "rule": "apply definition at i=n"
    },
    {
      "conclusions": [
        "A1580_C12: f_i = (n-i) f_{i+1} + n! / i! for i=1 to n-1"
      ],
      "id": "A1580_S6",
      "premises": [
        "A1580_C7: ∀ 0 < i < n, E_i = (i/n) E_{i-1} + ((n-i)/n) E_{i+1} + 1",
        "A1580_C10: E_i = E_{i-1} + f_i / d_i for i=1 to n",
        "A1580_C9: d_i = (n-1)! / (i-1)!"
      ],
      "rule": "substitute into recurrence and solve for f_i"
    },
    {
      "conclusions": [
        "A1580_C13: f_1 = ∑_{k=1}^n (n! / k!) ⋅ ∏_{j=1}^{k-1} (n-j)"
      ],
      "id": "A1580_S7",
      "premises": [
        "A1580_C12: f_i = (n-i) f_{i+1} + n! / i! for i=1 to n-1",
        "A1580_C11: f_n = 1"
      ],
      "rule": "unfold recurrence from i=n to i=1"
    },
    {
      "conclusions": [
        "A1580_C14: ∏_{j=1}^{k-1} (n-j) = (n-1)! / (n-k)! for k=2 to n"
      ],
      "id": "A1580_S8",
      "premises": [
        "A1580_C13: f_1 = ∑_{k=1}^n (n! / k!) ⋅ ∏_{j=1}^{k-1} (n-j)"
      ],
      "rule": "simplify product to factorial ratio"
    },
    {
      "conclusions": [
        "A1580_C15: (n! / k!) ⋅ ((n-1)! / (n-k)!) = (n-1)! ⋅ \binom{n}{k}"
      ],
      "id": "A1580_S9",
      "premises": [
        "A1580_C13: f_1 = ∑_{k=1}^n (n! / k!) ⋅ ∏_{j=1}^{k-1} (n-j)",
        "A1580_C14: ∏_{j=1}^{k-1} (n-j) = (n-1)! / (n-k)! for k=2 to n"
      ],
      "rule": "combine terms in summand"
    },
    {
      "conclusions": [
        "A1580_C16: f_1 = (n-1)! ⋅ ∑_{k=1}^n \binom{n}{k}"
      ],
      "id": "A1580_S10",
      "premises": [
        "A1580_C15: (n! / k!) ⋅ ((n-1)! / (n-k)!) = (n-1)! ⋅ \binom{n}{k}"
      ],
      "rule": "write f_1 as summed expression"
    },
    {
      "conclusions": [
        "A1580_C17: ∑_{k=0}^n \binom{n}{k} = 2^n"
      ],
      "id": "A1580_S11",
      "premises": [
        "A1580_C2: There are n frogs in total."
      ],
      "rule": "binomial theorem"
    },
    {
      "conclusions": [
        "A1580_C18: ∑_{k=1}^n \binom{n}{k} = 2^n - 1"
      ],
      "id": "A1580_S12",
      "premises": [
        "A1580_C17: ∑_{k=0}^n \binom{n}{k} = 2^n"
      ],
      "rule": "subtract k=0 term"
    },
    {
      "conclusions": [
        "A1580_C19: f_1 = (n-1)! (2^n - 1)"
      ],
      "id": "A1580_S13",
      "premises": [
        "A1580_C16: f_1 = (n-1)! ⋅ ∑_{k=1}^n \binom{n}{k}",
        "A1580_C18: ∑_{k=1}^n \binom{n}{k} = 2^n - 1"
      ],
      "rule": "substitute sum value"
    },
    {
      "conclusions": [
        "A1580_C20: d_1 = (n-1)!"
      ],
      "id": "A1580_S14",
      "premises": [
        "A1580_C9: d_i = (n-1)! / (i-1)!"
      ],
      "rule": "evaluate d_1"
    },
    {
      "conclusions": [
        "A1580_C21: E_1 = f_1 / d_1 + E_0"
      ],
      "id": "A1580_S15",
      "premises": [
        "A1580_C10: E_i = E_{i-1} + f_i / d_i for i=1 to n",
        "A1580_C5: E_0 = 0"
      ],
      "rule": "apply definition at i=1"
    },
    {
      "conclusions": [
        "A1580_C22: E_1 = 2^n - 1"
      ],
      "id": "A1580_S16",
      "premises": [
        "A1580_C21: E_1 = f_1 / d_1 + E_0",
        "A1580_C19: f_1 = (n-1)! (2^n - 1)",
        "A1580_C20: d_1 = (n-1)!"
      ],
      "rule": "substitute f_1 and d_1"
    },
    {
      "conclusions": [
        "A1580_C23: 2^{2018} - 1"
      ],
      "id": "A1580_S17",
      "premises": [
        "A1580_C22: E_1 = 2^n - 1",
        "A1580_C3: n=2018"
      ],
      "rule": "instantiate for n=2018"
    },
    {
      "conclusions": [
        "A1580_C1: E_1 (n=2018)"
      ],
      "id": "B2079_S1",
      "premises": [
        "B2079_C1: E_1 (n=(p_{10} + 38324/19))",
        "A870_C18: distinct p for b_0 = 0 to 10: p_k = k/10 for k=0 to 9, p_{10} = 18/19"
      ],
      "rule": "problem connection"
    },
    {
      "conclusions": [
        "A487_C2: n^{4} + 4 = (n^{2} - 2n + 2)(n^{2} + 2n + 2)"
      ],
      "id": "A487_S1",
      "premises": [
        "A487_C1: \\sum_{n=1}^{\\infty} \frac{n}{n^{4}+4}"
      ],
      "rule": "problem setup"
    },
    {
      "conclusions": [
        "A487_C3: \frac{n}{(n^{2} - 2n + 2)(n^{2} + 2n + 2)} = \frac{1}{4} \\left( \frac{1}{n^{2} - 2n + 2} - \frac{1}{n^{2} + 2n + 2} \right)"
      ],
      "id": "A487_S2",
      "premises": [
        "A487_C1: \\sum_{n=1}^{\\infty} \frac{n}{n^{4}+4}",
        "A487_C2: n^{4} + 4 = (n^{2} - 2n + 2)(n^{2} + 2n + 2)"
      ],
      "rule": "partial fraction decomposition"
    },
    {
      "conclusions": [
        "A487_C4: n^{2} - 2n + 2 = (n-1)^{2} + 1",
        "A487_C5: n^{2} + 2n + 2 = (n+1)^{2} + 1"
      ],
      "id": "A487_S3",
      "premises": [
        "A487_C3: \frac{n}{(n^{2} - 2n + 2)(n^{2} + 2n + 2)} = \frac{1}{4} \\left( \frac{1}{n^{2} - 2n + 2} - \frac{1}{n^{2} + 2n + 2} \right)"
      ],
      "rule": "complete the square"
    },
    {
      "conclusions": [
        "A487_C6: \\sum_{n=1}^{\\infty} \frac{n}{n^{4}+4} = \frac{1}{4} \\sum_{n=1}^{\\infty} \\left( \frac{1}{(n-1)^{2} + 1} - \frac{1}{(n+1)^{2} + 1} \right)"
      ],
      "id": "A487_S4",
      "premises": [
        "A487_C1: \\sum_{n=1}^{\\infty} \frac{n}{n^{4}+4}",
        "A487_C3: \frac{n}{(n^{2} - 2n + 2)(n^{2} + 2n + 2)} = \frac{1}{4} \\left( \frac{1}{n^{2} - 2n + 2} - \frac{1}{n^{2} + 2n + 2} \right)",
        "A487_C4: n^{2} - 2n + 2 = (n-1)^{2} + 1",
        "A487_C5: n^{2} + 2n + 2 = (n+1)^{2} + 1"
      ],
      "rule": "substitute into sum"
    },
    {
      "conclusions": [
        "A487_C7: \\sum_{n=1}^{N} \frac{n}{n^{4}+4} = \frac{1}{4} \\left( \frac{1}{0^{2}+1} + \frac{1}{1^{2}+1} - \frac{1}{N^{2} + 1} - \frac{1}{(N+1)^{2} + 1} \right)"
      ],
      "id": "A487_S5",
      "premises": [
        "A487_C6: \\sum_{n=1}^{\\infty} \frac{n}{n^{4}+4} = \frac{1}{4} \\sum_{n=1}^{\\infty} \\left( \frac{1}{(n-1)^{2} + 1} - \frac{1}{(n+1)^{2} + 1} \right)"
      ],
      "rule": "telescoping series partial sum"
    },
    {
      "conclusions": [
        "A487_C8: \\sum_{n=1}^{\\infty} \frac{n}{n^{4}+4} = \frac{3}{8}"
      ],
      "id": "A487_S6",
      "premises": [
        "A487_C7: \\sum_{n=1}^{N} \frac{n}{n^{4}+4} = \frac{1}{4} \\left( \frac{1}{0^{2}+1} + \frac{1}{1^{2}+1} - \frac{1}{N^{2} + 1} - \frac{1}{(N+1)^{2} + 1} \right)"
      ],
      "rule": "limit as N to infinity"
    },
    {
      "conclusions": [
        "A487_C1: \\sum_{n=1}^{\\infty} \frac{n}{n^{4}+4}"
      ],
      "id": "D2069_S1",
      "premises": [
        "D2069_C1: \\sum_{n=1}^{\\infty} \frac{n}{n^{4}+(f_n + 3)}",
        "A1580_C11: f_n = 1"
      ],
      "rule": "problem connection"
    }
  ],
  "Sub_Class_ID": [
    {
      "A870": "A870_DG_2"
    },
    {
      "A1580": "A1580_DG_1"
    },
    {
      "A487": "A487_OG_1"
    }
  ],
  "Synthesised_By": [
    {
      "A870": "Roger initially has 20 socks in a drawer, each of which is either white or black. He chooses a sock uniformly at random from the drawer and throws it away. He repeats this action until there are equal numbers of white and black socks remaining. Suppose that the probability he stops before all socks are gone is $p$. If the sum of all distinct possible values of $p$ over all initial combinations of socks is $\\frac{a}{b}$ for relatively prime positive integers $a$ and $b$, compute $100 a+b$"
    },
    {
      "A1580": "There are 2018 frogs in a pool and there is 1 frog on the shore. In each time-step thereafter, one random frog moves position. If it was in the pool, it jumps to the shore, and vice versa. Find the expected number of time-steps before all frogs are in the pool for the first time."
    },
    {
      "A487": "Evaluate the infinite sum $\\sum_{n=1}^{\\infty} \\frac{n}{n^{4}+4}$."
    }
  ],
  "Synthesised_Problem_Length": 1428,
  "Synthesised_Status": "Stop",
  "Total_Claims": [
    {
      "A870": 21
    },
    {
      "A1580": 23
    },
    {
      "A487": 8
    }
  ],
  "Total_Delta": [
    {
      "A870": 2
    },
    {
      "A1580": 1
    },
    {
      "A487": 0
    }
  ],
  "Total_Delta_Socket": [
    {
      "A870": 1
    },
    {
      "A1580": 1
    },
    {
      "A487": 1
    }
  ],
  "Variable_Names": [
    {
      "A870": [
        "p",
        "b",
        "a"
      ]
    },
    {
      "A1580": []
    },
    {
      "A487": [
        "n"
      ]
    }
  ]
}
