{
  "Chunk_Type": "T3",
  "Claims": [
    {
      "expr": "greatest positive integer x s.t. 23^(6+x) | 2000!",
      "id": "A3709_C1",
      "type": "goal"
    },
    {
      "expr": "n = 2000",
      "id": "A3709_C2",
      "type": "context"
    },
    {
      "expr": "p = 23",
      "id": "A3709_C3",
      "type": "context"
    },
    {
      "expr": "exponent of p in n! = sum_{k=1 to infinity} floor(n / p^k)",
      "id": "A3709_C4",
      "type": "context"
    },
    {
      "expr": "p^1 = 23",
      "id": "A3709_C5",
      "type": "derived"
    },
    {
      "expr": "p^2 = 529",
      "id": "A3709_C6",
      "type": "derived"
    },
    {
      "expr": "p^3 = 12167",
      "id": "A3709_C7",
      "type": "derived"
    },
    {
      "expr": "p^4 = 279841",
      "id": "A3709_C8",
      "type": "derived"
    },
    {
      "expr": "p^4 > n",
      "id": "A3709_C9",
      "type": "derived"
    },
    {
      "expr": "floor(n / p^k) = 0 for all k >= 4",
      "id": "A3709_C10",
      "type": "derived"
    },
    {
      "expr": "floor(n / p) = 86",
      "id": "A3709_C11",
      "type": "derived"
    },
    {
      "expr": "floor(n / p^2) = 3",
      "id": "A3709_C12",
      "type": "derived"
    },
    {
      "expr": "floor(n / p^3) = 0",
      "id": "A3709_C13",
      "type": "derived"
    },
    {
      "expr": "exponent of p in n! = 89",
      "id": "A3709_C14",
      "type": "derived"
    },
    {
      "expr": "6 + x <= 89",
      "id": "A3709_C15",
      "type": "derived"
    },
    {
      "expr": "x <= 83",
      "id": "A3709_C16",
      "type": "derived"
    },
    {
      "expr": "x = 83",
      "id": "A3709_C17",
      "type": "final"
    },
    {
      "expr": "E[ |{ |x| : x \\in T }| ] where T is random 50-element subset of S = \\{-100, \\dots, 100\\}",
      "id": "A1188_C1",
      "type": "derived"
    },
    {
      "expr": "|S| = 201",
      "id": "A1188_C2",
      "type": "context"
    },
    {
      "expr": "n = 100, m = 50, 2n + 1 = 201",
      "id": "A1188_C3",
      "type": "context"
    },
    {
      "expr": "A_0 = \\{0\\}, |A_0| = 1",
      "id": "A1188_C4",
      "type": "context"
    },
    {
      "expr": "\forall k = 1, \\dots, 100, A_k = \\{k, -k\\}, |A_k| = 2",
      "id": "A1188_C5",
      "type": "context"
    },
    {
      "expr": "S = \bigsqcup_{k=0}^{100} A_k",
      "id": "A1188_C6",
      "type": "context"
    },
    {
      "expr": "|{ |x| : x \\in T }| = \\sum_{k=0}^{100} w_k where w_k = 1_{T \\cap A_k \neq \\emptyset}",
      "id": "A1188_C7",
      "type": "derived"
    },
    {
      "expr": "E[\\sum_{k=0}^{100} w_k] = \\sum_{k=0}^{100} E[w_k] = E[w_0] + \\sum_{k=1}^{100} E[w_k]",
      "id": "A1188_C8",
      "type": "derived"
    },
    {
      "expr": "E[w_k] = E[w_1] \forall k = 1, \\dots, 100 by symmetry",
      "id": "A1188_C9",
      "type": "derived"
    },
    {
      "expr": "E[\\sum_{k=0}^{100} w_k] = E[w_0] + 100 E[w_1]",
      "id": "A1188_C10",
      "type": "derived"
    },
    {
      "expr": "E[w_0] = P(0 \\in T) = m / |S| = 50 / 201, E[w_0] = 50/201",
      "id": "A1188_C11",
      "type": "derived"
    },
    {
      "expr": "E[w_1] = P(T \\cap A_1 \neq \\emptyset) = 1 - P(T \\cap A_1 = \\emptyset)",
      "id": "A1188_C12",
      "type": "derived"
    },
    {
      "expr": "P(T \\cap A_1 = \\emptyset) = \binom{199}{50} / \binom{201}{50}",
      "id": "A1188_C13",
      "type": "derived"
    },
    {
      "expr": "\binom{199}{50} / \binom{201}{50} = (200 - 50)(200 - 50 + 1) / (200 \times 201) = 150 \times 151 / (200 \times 201)",
      "id": "A1188_C14",
      "type": "derived"
    },
    {
      "expr": "E[w_1] = 1 - 150 \times 151 / (200 \times 201)",
      "id": "A1188_C15",
      "type": "derived"
    },
    {
      "expr": "100 E[w_1] = 100 - 100 \times 150 \times 151 / (200 \times 201) = 100 - 150 \times 151 / (2 \times 201)",
      "id": "A1188_C16",
      "type": "derived"
    },
    {
      "expr": "150 \times 151 / (2 \times 201) = 11325 / 201",
      "id": "A1188_C17",
      "type": "derived"
    },
    {
      "expr": "E[w_0] + 100 E[w_1] = 50 / 201 + 100 - 11325 / 201",
      "id": "A1188_C18",
      "type": "derived"
    },
    {
      "expr": "100 = 20100 / 201",
      "id": "A1188_C19",
      "type": "derived"
    },
    {
      "expr": "50 / 201 + 100 - 11325 / 201 = (50 + 20100 - 11325) / 201 = 8825 / 201",
      "id": "A1188_C20",
      "type": "derived"
    },
    {
      "expr": "E[ |{ |x| : x \\in T }| ] = 8825 / 201",
      "id": "A1188_C21",
      "type": "final"
    },
    {
      "expr": "E[ |{ |x| : x \\in T }| ] where T is random (floor(n / p) - 36)-element subset of S = \\{-100, \\dots, 100\\}",
      "id": "D2831_C1",
      "type": "goal"
    }
  ],
  "Class_ID": "E2831",
  "Connecting_Point": [
    {
      "D2831": {
        "50": "(floor(n / p) - 36)"
      }
    }
  ],
  "Delta_Depth": [
    {
      "A3709": {
        "floor(n / p)": 11
      }
    },
    {
      "A1188": {
        "E[w_0]": 11
      }
    }
  ],
  "Delta_Factor": [
    {
      "A3709": 0.65
    },
    {
      "A1188": 0.52
    }
  ],
  "Delta_Socket": [
    {
      "A3709": {
        "6": 6.0
      }
    },
    {
      "A1188": {
        "50": 50.0
      }
    }
  ],
  "Delta_Socket_Order": [
    {
      "A3709": 1
    },
    {
      "A1188": 1
    }
  ],
  "Delta_Source": [
    {
      "A3709": "derived"
    },
    {
      "A1188": "derived"
    }
  ],
  "Delta_Value": [
    {
      "A3709": {
        "floor(n / p)": "86"
      }
    },
    {
      "A1188": {
        "E[w_0]": "50/201"
      }
    }
  ],
  "Delta_Value_Order": [
    {
      "A3709": 1
    },
    {
      "A1188": 1
    }
  ],
  "Delta_Variable_Names": [
    {
      "A3709": [
        "floor"
      ]
    },
    {
      "A1188": [
        "E"
      ]
    }
  ],
  "Ground_Truth": [
    {
      "A3709": "83"
    },
    {
      "A1188": "\\frac{8825}{201}"
    }
  ],
  "Math_Problem": "Let $n=2000$ and $p=23$. The exponent of $p$ in $n!$ is $\\sum_{k=1}^\\infty \\lfloor n / p^k \\rfloor$. Find the greatest positive integer $x$ such that $p^{6+x}$ divides $n!$. Instead of determining the largest additional exponent beyond 6 for which the prime power divides the factorial, simply find $m = \\lfloor n / p \\rfloor - 36$, where $\\lfloor n / p \\rfloor$ is the first term in the sum for the exponent of $p$ in $n!$. Let $S=\\{-100,-99,-98, \\ldots, 99,100\\}$. Choose a $m$-element subset $T$ of $S$ at random. Find the expected number of elements of the set $\\{|x|: x \\in T\\}$.",
  "Max_Delta_Depth": [
    {
      "A3709": 17
    },
    {
      "A1188": 11
    }
  ],
  "Max_Delta_Factor": [
    {
      "A3709": 1.0
    },
    {
      "A1188": 0.52
    }
  ],
  "Min_Delta_Depth": [
    {
      "A3709": 11
    },
    {
      "A1188": 11
    }
  ],
  "Min_Delta_Factor": [
    {
      "A3709": 0.65
    },
    {
      "A1188": 0.52
    }
  ],
  "Multiple_Synthesis_Class": "MP2",
  "Predicted_Answer": [
    {
      "A3709": "83"
    },
    {
      "A1188": "\frac{8825}{201}"
    }
  ],
  "Problem_ID": 111,
  "Problem_Length": [
    {
      "A3709": 75
    },
    {
      "A1188": 158
    }
  ],
  "Problem_Level": [
    {
      "A3709": "KbsdJames_Omni-MATH_5.0"
    },
    {
      "A1188": "KbsdJames_Omni-MATH_4.5"
    }
  ],
  "Problem_Source": [
    {
      "A3709": "jbmo_shortlists"
    },
    {
      "A1188": "HMMT_2"
    }
  ],
  "Problem_Type": [
    {
      "A3709": [
        "Mathematics -> Number Theory -> Factorization"
      ]
    },
    {
      "A1188": [
        "Mathematics -> Applied Mathematics -> Statistics -> Probability -> Counting Methods -> Combinations"
      ]
    }
  ],
  "Source_Delta_Socket": [
    {
      "A3709": "goal"
    },
    {
      "A1188": "goal"
    }
  ],
  "Steps": [
    {
      "conclusions": [
        "A3709_C2: n = 2000",
        "A3709_C3: p = 23",
        "A3709_C4: exponent of p in n! = sum_{k=1 to infinity} floor(n / p^k)"
      ],
      "id": "A3709_S1",
      "premises": [
        "A3709_C1: greatest positive integer x s.t. 23^(6+x) | 2000!"
      ],
      "rule": "problem setup"
    },
    {
      "conclusions": [
        "A3709_C5: p^1 = 23"
      ],
      "id": "A3709_S2",
      "premises": [
        "A3709_C3: p = 23"
      ],
      "rule": "p^1 = p"
    },
    {
      "conclusions": [
        "A3709_C6: p^2 = 529"
      ],
      "id": "A3709_S3",
      "premises": [
        "A3709_C3: p = 23"
      ],
      "rule": "multiplication p * p"
    },
    {
      "conclusions": [
        "A3709_C7: p^3 = 12167"
      ],
      "id": "A3709_S4",
      "premises": [
        "A3709_C6: p^2 = 529",
        "A3709_C3: p = 23"
      ],
      "rule": "multiplication p^2 * p"
    },
    {
      "conclusions": [
        "A3709_C8: p^4 = 279841"
      ],
      "id": "A3709_S5",
      "premises": [
        "A3709_C7: p^3 = 12167",
        "A3709_C3: p = 23"
      ],
      "rule": "multiplication p^3 * p"
    },
    {
      "conclusions": [
        "A3709_C9: p^4 > n"
      ],
      "id": "A3709_S6",
      "premises": [
        "A3709_C2: n = 2000",
        "A3709_C8: p^4 = 279841"
      ],
      "rule": "comparison"
    },
    {
      "conclusions": [
        "A3709_C10: floor(n / p^k) = 0 for all k >= 4"
      ],
      "id": "A3709_S7",
      "premises": [
        "A3709_C9: p^4 > n"
      ],
      "rule": "higher powers exceed n"
    },
    {
      "conclusions": [
        "A3709_C11: floor(n / p) = 86"
      ],
      "id": "A3709_S8",
      "premises": [
        "A3709_C2: n = 2000",
        "A3709_C5: p^1 = 23"
      ],
      "rule": "floor computation"
    },
    {
      "conclusions": [
        "A3709_C12: floor(n / p^2) = 3"
      ],
      "id": "A3709_S9",
      "premises": [
        "A3709_C2: n = 2000",
        "A3709_C6: p^2 = 529"
      ],
      "rule": "floor computation"
    },
    {
      "conclusions": [
        "A3709_C13: floor(n / p^3) = 0"
      ],
      "id": "A3709_S10",
      "premises": [
        "A3709_C2: n = 2000",
        "A3709_C7: p^3 = 12167"
      ],
      "rule": "floor computation"
    },
    {
      "conclusions": [
        "A3709_C14: exponent of p in n! = 89"
      ],
      "id": "A3709_S11",
      "premises": [
        "A3709_C11: floor(n / p) = 86",
        "A3709_C12: floor(n / p^2) = 3",
        "A3709_C13: floor(n / p^3) = 0",
        "A3709_C10: floor(n / p^k) = 0 for all k >= 4",
        "A3709_C4: exponent of p in n! = sum_{k=1 to infinity} floor(n / p^k)"
      ],
      "rule": "sum the terms"
    },
    {
      "conclusions": [
        "A3709_C15: 6 + x <= 89"
      ],
      "id": "A3709_S12",
      "premises": [
        "A3709_C1: greatest positive integer x s.t. 23^(6+x) | 2000!",
        "A3709_C14: exponent of p in n! = 89"
      ],
      "rule": "divisibility via exponent"
    },
    {
      "conclusions": [
        "A3709_C16: x <= 83"
      ],
      "id": "A3709_S13",
      "premises": [
        "A3709_C15: 6 + x <= 89"
      ],
      "rule": "subtract 6"
    },
    {
      "conclusions": [
        "A3709_C17: x = 83"
      ],
      "id": "A3709_S14",
      "premises": [
        "A3709_C16: x <= 83"
      ],
      "rule": "largest positive integer satisfying inequality"
    },
    {
      "conclusions": [
        "A1188_C2: |S| = 201",
        "A1188_C3: n = 100, m = 50, 2n + 1 = 201",
        "A1188_C4: A_0 = \\{0\\}, |A_0| = 1",
        "A1188_C5: \forall k = 1, \\dots, 100, A_k = \\{k, -k\\}, |A_k| = 2",
        "A1188_C6: S = \bigsqcup_{k=0}^{100} A_k"
      ],
      "id": "A1188_S1",
      "premises": [
        "A1188_C1: E[ |{ |x| : x \\in T }| ] where T is random 50-element subset of S = \\{-100, \\dots, 100\\}"
      ],
      "rule": "problem setup"
    },
    {
      "conclusions": [
        "A1188_C7: |{ |x| : x \\in T }| = \\sum_{k=0}^{100} w_k where w_k = 1_{T \\cap A_k \neq \\emptyset}"
      ],
      "id": "A1188_S2",
      "premises": [
        "A1188_C1: E[ |{ |x| : x \\in T }| ] where T is random 50-element subset of S = \\{-100, \\dots, 100\\}",
        "A1188_C4: A_0 = \\{0\\}, |A_0| = 1",
        "A1188_C5: \forall k = 1, \\dots, 100, A_k = \\{k, -k\\}, |A_k| = 2",
        "A1188_C6: S = \bigsqcup_{k=0}^{100} A_k"
      ],
      "rule": "distinct absolutes via partition"
    },
    {
      "conclusions": [
        "A1188_C8: E[\\sum_{k=0}^{100} w_k] = \\sum_{k=0}^{100} E[w_k] = E[w_0] + \\sum_{k=1}^{100} E[w_k]"
      ],
      "id": "A1188_S3",
      "premises": [
        "A1188_C7: |{ |x| : x \\in T }| = \\sum_{k=0}^{100} w_k where w_k = 1_{T \\cap A_k \neq \\emptyset}"
      ],
      "rule": "linearity of expectation"
    },
    {
      "conclusions": [
        "A1188_C9: E[w_k] = E[w_1] \forall k = 1, \\dots, 100 by symmetry"
      ],
      "id": "A1188_S4",
      "premises": [
        "A1188_C3: n = 100, m = 50, 2n + 1 = 201",
        "A1188_C5: \forall k = 1, \\dots, 100, A_k = \\{k, -k\\}, |A_k| = 2"
      ],
      "rule": "symmetry of A_k for k >=1"
    },
    {
      "conclusions": [
        "A1188_C10: E[\\sum_{k=0}^{100} w_k] = E[w_0] + 100 E[w_1]"
      ],
      "id": "A1188_S5",
      "premises": [
        "A1188_C8: E[\\sum_{k=0}^{100} w_k] = \\sum_{k=0}^{100} E[w_k] = E[w_0] + \\sum_{k=1}^{100} E[w_k]",
        "A1188_C9: E[w_k] = E[w_1] \forall k = 1, \\dots, 100 by symmetry",
        "A1188_C3: n = 100, m = 50, 2n + 1 = 201"
      ],
      "rule": "apply symmetry"
    },
    {
      "conclusions": [
        "A1188_C11: E[w_0] = P(0 \\in T) = m / |S| = 50 / 201, E[w_0] = 50/201"
      ],
      "id": "A1188_S6",
      "premises": [
        "A1188_C3: n = 100, m = 50, 2n + 1 = 201",
        "A1188_C2: |S| = 201",
        "A1188_C4: A_0 = \\{0\\}, |A_0| = 1"
      ],
      "rule": "probability of inclusion for singleton"
    },
    {
      "conclusions": [
        "A1188_C12: E[w_1] = P(T \\cap A_1 \neq \\emptyset) = 1 - P(T \\cap A_1 = \\emptyset)"
      ],
      "id": "A1188_S7",
      "premises": [
        "A1188_C7: |{ |x| : x \\in T }| = \\sum_{k=0}^{100} w_k where w_k = 1_{T \\cap A_k \neq \\emptyset}"
      ],
      "rule": "indicator expectation as probability"
    },
    {
      "conclusions": [
        "A1188_C13: P(T \\cap A_1 = \\emptyset) = \binom{199}{50} / \binom{201}{50}"
      ],
      "id": "A1188_S8",
      "premises": [
        "A1188_C12: E[w_1] = P(T \\cap A_1 \neq \\emptyset) = 1 - P(T \\cap A_1 = \\emptyset)",
        "A1188_C2: |S| = 201",
        "A1188_C3: n = 100, m = 50, 2n + 1 = 201",
        "A1188_C5: \forall k = 1, \\dots, 100, A_k = \\{k, -k\\}, |A_k| = 2"
      ],
      "rule": "probability of avoiding A_1"
    },
    {
      "conclusions": [
        "A1188_C14: \binom{199}{50} / \binom{201}{50} = (200 - 50)(200 - 50 + 1) / (200 \times 201) = 150 \times 151 / (200 \times 201)"
      ],
      "id": "A1188_S9",
      "premises": [
        "A1188_C13: P(T \\cap A_1 = \\emptyset) = \binom{199}{50} / \binom{201}{50}",
        "A1188_C3: n = 100, m = 50, 2n + 1 = 201"
      ],
      "rule": "binomial coefficient ratio simplification"
    },
    {
      "conclusions": [
        "A1188_C15: E[w_1] = 1 - 150 \times 151 / (200 \times 201)"
      ],
      "id": "A1188_S10",
      "premises": [
        "A1188_C12: E[w_1] = P(T \\cap A_1 \neq \\emptyset) = 1 - P(T \\cap A_1 = \\emptyset)",
        "A1188_C14: \binom{199}{50} / \binom{201}{50} = (200 - 50)(200 - 50 + 1) / (200 \times 201) = 150 \times 151 / (200 \times 201)"
      ],
      "rule": "substitute ratio"
    },
    {
      "conclusions": [
        "A1188_C16: 100 E[w_1] = 100 - 100 \times 150 \times 151 / (200 \times 201) = 100 - 150 \times 151 / (2 \times 201)"
      ],
      "id": "A1188_S11",
      "premises": [
        "A1188_C15: E[w_1] = 1 - 150 \times 151 / (200 \times 201)",
        "A1188_C3: n = 100, m = 50, 2n + 1 = 201"
      ],
      "rule": "scale by n=100"
    },
    {
      "conclusions": [
        "A1188_C17: 150 \times 151 / (2 \times 201) = 11325 / 201"
      ],
      "id": "A1188_S12",
      "premises": [
        "A1188_C16: 100 E[w_1] = 100 - 100 \times 150 \times 151 / (200 \times 201) = 100 - 150 \times 151 / (2 \times 201)"
      ],
      "rule": "compute numerical fraction"
    },
    {
      "conclusions": [
        "A1188_C18: E[w_0] + 100 E[w_1] = 50 / 201 + 100 - 11325 / 201"
      ],
      "id": "A1188_S13",
      "premises": [
        "A1188_C10: E[\\sum_{k=0}^{100} w_k] = E[w_0] + 100 E[w_1]",
        "A1188_C11: E[w_0] = P(0 \\in T) = m / |S| = 50 / 201, E[w_0] = 50/201",
        "A1188_C17: 150 \times 151 / (2 \times 201) = 11325 / 201"
      ],
      "rule": "add E[w_0] and 100 E[w_1]"
    },
    {
      "conclusions": [
        "A1188_C19: 100 = 20100 / 201"
      ],
      "id": "A1188_S14",
      "premises": [
        "A1188_C2: |S| = 201"
      ],
      "rule": "express constant as fraction"
    },
    {
      "conclusions": [
        "A1188_C20: 50 / 201 + 100 - 11325 / 201 = (50 + 20100 - 11325) / 201 = 8825 / 201"
      ],
      "id": "A1188_S15",
      "premises": [
        "A1188_C18: E[w_0] + 100 E[w_1] = 50 / 201 + 100 - 11325 / 201",
        "A1188_C19: 100 = 20100 / 201"
      ],
      "rule": "combine fractions"
    },
    {
      "conclusions": [
        "A1188_C21: E[ |{ |x| : x \\in T }| ] = 8825 / 201"
      ],
      "id": "A1188_S16",
      "premises": [
        "A1188_C20: 50 / 201 + 100 - 11325 / 201 = (50 + 20100 - 11325) / 201 = 8825 / 201"
      ],
      "rule": "final conclusion"
    },
    {
      "conclusions": [
        "A1188_C1: E[ |{ |x| : x \\in T }| ] where T is random 50-element subset of S = \\{-100, \\dots, 100\\}"
      ],
      "id": "D2831_S1",
      "premises": [
        "D2831_C1: E[ |{ |x| : x \\in T }| ] where T is random (floor(n / p) - 36)-element subset of S = \\{-100, \\dots, 100\\}",
        "A3709_C11: floor(n / p) = 86"
      ],
      "rule": "problem connection"
    }
  ],
  "Sub_Class_ID": [
    {
      "A3709": "A3709_DG_1"
    },
    {
      "A1188": "A1188_DG_1"
    }
  ],
  "Synthesis_Status": "Continuable",
  "Synthesis_Trace": "DG-DG",
  "Synthesised_By": [
    {
      "A3709": "Find the greatest positive integer $x$ such that $23^{6+x}$ divides $2000!$"
    },
    {
      "A1188": "Let $S=\\{-100,-99,-98, \\ldots, 99,100\\}$. Choose a 50-element subset $T$ of $S$ at random. Find the expected number of elements of the set $\\{|x|: x \\in T\\}$."
    }
  ],
  "Synthesised_Problem_Length": 584,
  "Total_Claims": [
    {
      "A3709": 17
    },
    {
      "A1188": 21
    }
  ],
  "Total_Delta": [
    {
      "A3709": 2
    },
    {
      "A1188": 1
    }
  ],
  "Total_Delta_Socket": [
    {
      "A3709": 1
    },
    {
      "A1188": 1
    }
  ],
  "Variable_Names": [
    {
      "A3709": [
        "x"
      ]
    },
    {
      "A1188": [
        "S",
        "T",
        "x"
      ]
    }
  ]
}
